"use strict";var dd=Object.create;var aa=Object.defineProperty;var md=Object.getOwnPropertyDescriptor;var pd=Object.getOwnPropertyNames;var ud=Object.getPrototypeOf,fd=Object.prototype.hasOwnProperty;var zr=(e,o)=>()=>(e&&(o=e(e=0)),o);var jn=(e,o)=>{for(var t in o)aa(e,t,{get:o[t],enumerable:!0})},Zn=(e,o,t,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of pd(o))!fd.call(e,r)&&r!==t&&aa(e,r,{get:()=>o[r],enumerable:!(n=md(o,r))||n.enumerable});return e};var _=(e,o,t)=>(t=e!=null?dd(ud(e)):{},Zn(o||!e||!e.__esModule?aa(t,"default",{value:e,enumerable:!0}):t,e)),gd=e=>Zn(aa({},"__esModule",{value:!0}),e);var na,Dt,ie,De=zr(()=>{"use strict";na=_(require("react")),Dt=na.createContext({coreClient:null}),ie=()=>{let e=na.useContext(Dt);if(!e)throw new Error("useCoreClient must be used within Auth0ComponentProvider");return e}});var li,ia,Gt,la=zr(()=>{"use strict";li=require("@auth0/web-ui-components-core"),ia=_(require("react")),Gt=({authDetails:e,i18nOptions:o})=>{let[t,n]=ia.useState(null);return ia.useEffect(()=>{(async()=>{try{let a=await(0,li.createCoreClient)(e,o);n(a)}catch(a){console.error(a)}})()},[o,e]),t}});var sa,Pn,ca,da=zr(()=>{"use strict";sa=require("react"),Pn=(0,sa.createContext)({registerScopes:()=>{},isReady:!1,ensured:{me:"","my-org":""}}),ca=()=>(0,sa.useContext)(Pn)});var No,si,Kt,ma=zr(()=>{"use strict";No=require("react");De();da();si=require("react/jsx-runtime"),Kt=({children:e})=>{let{coreClient:o}=ie(),t=(0,No.useRef)({me:new Set,"my-org":new Set}),[n,r]=(0,No.useState)({me:"","my-org":""}),[a,l]=(0,No.useState)(!1),[i,s]=(0,No.useState)(0),m=(0,No.useCallback)((d,c)=>{if(!c?.trim())return;let f=c.split(/\s+/).map(h=>h.trim()).filter(Boolean),u=t.current[d],g=!1;f.forEach(h=>{u.has(h)||(u.add(h),g=!0)}),g&&(l(!1),s(h=>h+1))},[]);return(0,No.useEffect)(()=>{if(!o)return;(async()=>{let c={...n},f=!1,u=!1;for(let g of["me","my-org"]){let h=Array.from(t.current[g]).sort(),v=h.join(" ");h.length>0&&(f=!0,v!==n[g]&&(await o.ensureScopes(v,g),c[g]=v,u=!0))}u&&JSON.stringify(c)!==JSON.stringify(n)&&r(c),l(f)})()},[o,i]),(0,si.jsx)(Pn.Provider,{value:{registerScopes:m,isReady:a,ensured:n},children:e})}});var gi={};jn(gi,{SpaProvider:()=>fi,default:()=>vd});var ui,Tn,Nn,fi,vd,hi=zr(()=>{"use strict";"use client";ui=require("@auth0/auth0-react"),Tn=_(require("react"));De();la();ma();Nn=require("react/jsx-runtime"),fi=({i18n:e,authDetails:o,children:t})=>{let n=(0,ui.useAuth0)();if(!n)if(o?.contextInterface)n=o.contextInterface;else throw new Error("Auth0ContextInterface is not available. Make sure you use auth0-react-sdk or auth0-spa-js and you are passing the client to the SDK");let r=Tn.useMemo(()=>({...o,contextInterface:n}),[o]),a=Gt({authDetails:r,i18nOptions:e}),l=Tn.useMemo(()=>({coreClient:a}),[a]);return(0,Nn.jsx)(Dt.Provider,{value:l,children:(0,Nn.jsx)(Kt,{children:t})})},vd=fi});var Pm={};jn(Pm,{Auth0ComponentProvider:()=>vi,CoreClientContext:()=>Dt,DomainTable:()=>sd,OrgDetailsEdit:()=>Vl,ScopeManagerProvider:()=>Kt,SsoProviderCreate:()=>hc,SsoProviderEdit:()=>td,SsoProviderTable:()=>Yl,ThemeContext:()=>Lr,ThemeProvider:()=>pa,UserMFAMgmt:()=>Rl,useContactEnrollment:()=>Hr,useCoreClient:()=>ie,useCoreClientInitialization:()=>Gt,useErrorHandler:()=>Mr,useMFA:()=>Kr,useOrgDetailsEdit:()=>Oa,useOtpConfirmation:()=>At,useOtpEnrollment:()=>Vr,useScopeManager:()=>ca,useTheme:()=>G,useTranslator:()=>w});module.exports=gd(Pm);var ua=_(require("react"));var ei=require("next-themes"),oi=require("sonner"),ri=require("react/jsx-runtime"),ti=({...e})=>{let{theme:o="system"}=(0,ei.useTheme)();return(0,ri.jsx)(oi.Toaster,{theme:o,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};var ii=require("class-variance-authority");var ai=require("clsx"),ni=require("tailwind-merge");function p(...e){return(0,ni.twMerge)((0,ai.clsx)(e))}var Cn=require("react/jsx-runtime"),hd=(0,ii.cva)("text-surface inline-block h-8 w-8 rounded-full duration-[5000] ease-linear",{variants:{variant:{dots:"border-primary animate-[spin_5s_linear_infinite] border-6 border-dotted",pulse:"bg-primary animate-pulse",solid:"border-primary animate-spin border-2 border-e-transparent"},size:{sm:"size-4",md:"size-8",lg:"size-12"}},defaultVariants:{variant:"solid",size:"md"}});function ee({variant:e,size:o,className:t,...n}){return(0,Cn.jsx)("div",{className:p(hd({variant:e,size:o}),t),...n,children:(0,Cn.jsx)("span",{className:"sr-only",children:"Loading..."})})}var _n=_(require("react"));De();la();ma();var Rn=require("react/jsx-runtime"),ci=({i18n:e,authDetails:o,children:t})=>{let n=_n.useMemo(()=>({...o,contextInterface:void 0}),[o]),r=Gt({authDetails:n,i18nOptions:e}),a=_n.useMemo(()=>({coreClient:r}),[r]);return(0,Rn.jsx)(Dt.Provider,{value:a,children:(0,Rn.jsx)(Kt,{children:t})})};var di=require("@auth0/web-ui-components-core"),$t=_(require("react")),pi=require("react/jsx-runtime"),mi={common:{},light:{},dark:{}},Lr=$t.createContext({isDarkMode:!1,variables:mi,loader:null}),pa=({themeSettings:e,children:o})=>{let{variables:t,loader:n,mode:r,theme:a}=$t.useMemo(()=>({variables:e?.variables??mi,loader:e?.loader??null,mode:e?.mode,theme:e?.theme}),[e]);return $t.useEffect(()=>{(0,di.applyStyleOverrides)(t,r,a)},[t,r,a]),(0,pi.jsx)(Lr.Provider,{value:{isDarkMode:r==="dark",variables:t,loader:n},children:o})};var mo=require("react/jsx-runtime"),xd=ua.lazy(()=>Promise.resolve().then(()=>(hi(),gi))),vi=({i18n:e,authDetails:o,themeSettings:t={theme:"default",mode:"light",variables:{common:{},light:{},dark:{}}},loader:n,children:r})=>(0,mo.jsxs)(mo.Fragment,{children:[(0,mo.jsx)(ti,{position:"top-right"}),(0,mo.jsx)(pa,{themeSettings:{mode:t.mode,variables:t.variables,loader:n,theme:t.theme},children:(0,mo.jsx)(ua.Suspense,{fallback:n||(0,mo.jsx)("div",{className:"flex items-center justify-center min-h-[200px]",children:(0,mo.jsx)(ee,{})}),children:o?.authProxyUrl?(0,mo.jsx)(ci,{i18n:e,authDetails:o,children:r}):(0,mo.jsx)(xd,{i18n:e,authDetails:o,children:r})})})]});ma();var ar=require("@auth0/web-ui-components-core"),ke=_(require("react")),zt=require("sonner");var Ti=require("@auth0/web-ui-components-core"),Ni=_(require("react"));var xi=require("react");function G(){let e=(0,xi.useContext)(Lr);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}var fa=require("react");De();function w(e,o){let{coreClient:t}=ie();if(!t)throw new Error("useTranslator must be used within Auth0ComponentProvider with initialized CoreClient");let n=(0,fa.useMemo)(()=>t.i18nService.translator(e,o),[t,e,o]),r=(0,fa.useCallback)(async(a,l)=>{await t.i18nService.changeLanguage(a,l)},[t]);return{t:n,changeLanguage:r,currentLanguage:t.i18nService.currentLanguage,fallbackLanguage:t.i18nService.fallbackLanguage}}var bi=require("class-variance-authority"),wi=_(require("react"));var yi=require("react/jsx-runtime"),Sn=(0,bi.cva)("focus-visible:ring-ring aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive theme-default:active:scale-[0.99] relative box-border inline-flex shrink-0 items-center justify-center gap-2 overflow-hidden text-sm font-medium whitespace-nowrap transition-all duration-150 ease-in-out outline-none focus-visible:ring-4 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",{variants:{variant:{primary:"shadow-button-resting hover:shadow-button-hover hover:border-primary/50 border-primary bg-primary text-primary-foreground hover:bg-primary/90 theme-default:before:from-primary-foreground/0 theme-default:before:to-primary-foreground/15 theme-default:before:absolute theme-default:before:top-0 theme-default:before:left-0 theme-default:before:block theme-default:before:h-full theme-default:before:w-full theme-default:before:bg-gradient-to-t theme-default:before:content-[''] border",outline:"dark:bg-muted/50 hover:text-accent-foreground shadow-button-outlined-resting hover:shadow-button-outlined-hover hover:border-accent bg-background hover:bg-muted text-primary border-primary/35 theme-default:before:from-primary/5 theme-default:before:to-primary/0 theme-default:before:absolute theme-default:before:top-0 theme-default:before:left-0 theme-default:before:block theme-default:before:h-full theme-default:before:w-full theme-default:before:bg-gradient-to-t theme-default:before:content-[''] border",ghost:"hover:bg-muted text-primary bg-transparent",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-button-destructive-resting hover:shadow-button-destructive-hover border-destructive-border/25 hover:border-destructive-border/50 theme-default:before:to-primary-foreground/50 theme-default:before:absolute theme-default:before:top-0 theme-default:before:left-0 theme-default:before:block theme-default:before:h-full theme-default:before:w-full theme-default:before:bg-gradient-to-t theme-default:before:content-[''] theme-default:border",link:"text-foreground underline-offset-4 hover:underline"},size:{default:"h-10 rounded-2xl px-4 py-2.5 has-[>svg]:px-3",xs:"h-7 rounded-md px-2 py-1.5 text-xs has-[>svg]:px-2",sm:"h-8 gap-1.5 rounded-xl px-3 py-2 text-xs has-[>svg]:px-2.5",lg:"h-12 rounded-3xl px-6 py-3 text-base has-[>svg]:px-4",icon:"size-7 rounded-xl"}},defaultVariants:{variant:"primary",size:"default"}});function S({className:e,variant:o,size:t,as:n,...r}){return(0,yi.jsx)(n?wi.Fragment:"button",{className:p("button",Sn({variant:o,size:t}),e),...r})}var $e=_(require("@radix-ui/react-dialog")),ki=require("lucide-react"),Ci=_(require("react"));var Ue=require("react/jsx-runtime");function qt({...e}){return(0,Ue.jsx)($e.Root,{"data-slot":"dialog",...e})}function bd({...e}){return(0,Ue.jsx)($e.Portal,{"data-slot":"dialog-portal",...e})}function wd({className:e,...o}){return(0,Ue.jsx)($e.Overlay,{"data-slot":"dialog-overlay",className:p("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 duration-200 ease-in-out",e),...o})}function Wt({className:e,children:o,showCloseButton:t=!0,...n}){return(0,Ue.jsxs)(bd,{"data-slot":"dialog-portal",children:[(0,Ue.jsx)(wd,{}),(0,Ue.jsxs)($e.Content,{"data-slot":"dialog-content",className:p("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 shadow-bevel-2xl rounded-5xl fixed top-[50%] left-[50%] z-[999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 p-6 duration-200 ease-in-out sm:max-w-lg",e),...n,children:[o,t&&(0,Ue.jsx)($e.Close,{asChild:!0,"data-slot":"dialog-close",className:"ring-offset-background absolute top-4 right-4",children:(0,Ue.jsxs)(S,{variant:"ghost",size:"icon",children:[(0,Ue.jsx)(ki.XIcon,{}),(0,Ue.jsx)("span",{className:"sr-only",children:"Close"})]})})]})]})}function Yt({className:e,...o}){return(0,Ue.jsx)("div",{"data-slot":"dialog-header",className:p("flex flex-col gap-2 text-center sm:text-left",e),...o})}function Pi({className:e,...o}){return(0,Ue.jsx)("div",{"data-slot":"dialog-footer",className:p("flex flex-row gap-2 justify-end",e),...o})}function Qt({className:e,...o}){return(0,Ue.jsx)($e.Title,{"data-slot":"dialog-title",className:p("text-lg text-primary leading-none font-semibold",e),...o})}function _i({className:e,...o}){return(0,Ue.jsx)($e.Description,{"data-slot":"dialog-description",className:p("text-muted-foreground text-sm",e),...o})}var Ri=require("react/jsx-runtime");function tt({className:e,orientation:o="horizontal",decorative:t=!0,...n}){return(0,Ri.jsx)("div",{"data-slot":"separator","data-orientation":o,role:t?"none":"separator",className:p("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}var po=require("react/jsx-runtime");function Si({open:e,onOpenChange:o,factorToDelete:t,isDeletingFactor:n,onConfirm:r,onCancel:a,styling:l={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:i}=w("mfa"),{isDarkMode:s}=G(),m=Ni.useMemo(()=>(0,Ti.getComponentStyles)(l,s),[l,s]);return(0,po.jsx)(qt,{open:e,onOpenChange:o,children:(0,po.jsxs)(Wt,{style:m?.variables,className:p("w-[400px] max-h-[90vh]",m.classes?.["DeleteFactorConfirmation-dialogContent"]),children:[(0,po.jsxs)(Yt,{children:[(0,po.jsx)(Qt,{className:"text-center text-(length:--font-size-title) font-medium",children:i("delete_mfa_title")}),(0,po.jsx)(tt,{className:"my-2"})]}),(0,po.jsxs)("div",{className:"flex flex-col items-center mt-6",children:[(0,po.jsx)("p",{className:p("text-center text-(length:--font-size-paragraph) font-normal mb-10 text-primary"),children:i(`delete_mfa_${t?.type}_consent`)}),(0,po.jsxs)("div",{className:"flex flex-row justify-end gap-3 w-full mt-6 mb-6",children:[(0,po.jsx)(S,{variant:"outline",size:"default",className:"text-sm",onClick:a,disabled:n,"aria-label":i("cancel"),children:i("cancel")}),(0,po.jsx)(S,{variant:"destructive",size:"default",className:"text-sm",onClick:()=>t&&r(t.id),disabled:n,"aria-label":i("confirm"),children:i(n?"deleting":"confirm")})]})]})]})})}var Di=require("react/jsx-runtime");function Fi({message:e,className:o}){return(0,Di.jsx)("p",{className:p("text-sm text-(length:--font-size-paragraph) text-center text-muted-foreground",o),children:e})}var Or=require("react/jsx-runtime");function Mi({title:e,description:o,className:t}){return(0,Or.jsxs)("div",{className:p("flex flex-col items-center justify-center p-4 space-y-2",t),role:"alert","aria-live":"assertive",children:[(0,Or.jsx)("h1",{className:"text-base font-medium text-center text-destructive-foreground",id:"mfa-error-title",children:e}),(0,Or.jsx)("p",{className:"text-sm text-center text-destructive-foreground whitespace-pre-line",children:o})]})}var wa=require("@auth0/web-ui-components-core"),zi=require("@auth0/web-ui-components-core"),rt=require("lucide-react"),Li=_(require("react"));var Mt=require("react/jsx-runtime");function be({className:e,...o}){return(0,Mt.jsx)("div",{"data-slot":"card",className:p("bg-card text-card-foreground shadow-bevel-2xl flex flex-col gap-6 rounded-4xl py-6",e),...o})}function Xt({className:e,...o}){return(0,Mt.jsx)("div",{"data-slot":"card-header",className:p("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...o})}function So({className:e,...o}){return(0,Mt.jsx)("div",{"data-slot":"card-title",className:p("leading-none font-semibold",e),...o})}function Fo({className:e,...o}){return(0,Mt.jsx)("div",{"data-slot":"card-description",className:p("text-muted-foreground text-sm",e),...o})}function ga({className:e,...o}){return(0,Mt.jsx)("div",{"data-slot":"card-action",className:p("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...o})}function ze({className:e,...o}){return(0,Mt.jsx)("div",{"data-slot":"card-content",className:p("px-6",e),...o})}var we=_(require("react")),Ai=require("react-dom");var ba=require("react/jsx-runtime"),Ii=we.createContext(null),Ei=()=>{let e=we.useContext(Ii);if(!e)throw new Error("Popover components must be used within a Popover");return e};function ha({children:e,open:o,onOpenChange:t}){let[n,r]=we.useState(!1),a=o??n,l=we.useRef(null),i=we.useRef(null),[s,m]=we.useState(null),d=we.useCallback(f=>{f&&l.current&&m(l.current.getBoundingClientRect()),r(f),t?.(f)},[t]);we.useEffect(()=>{let f=g=>{!l.current?.contains(g.target)&&!i.current?.contains(g.target)&&d(!1)},u=g=>{g.key==="Escape"&&d(!1)};if(a)return document.addEventListener("mousedown",f),document.addEventListener("keydown",u),document.body.style.overflow="hidden",()=>{document.removeEventListener("mousedown",f),document.removeEventListener("keydown",u),document.body.style.overflow=""}},[a,d]);let c={open:a,setOpen:d,triggerRef:l,contentRef:i,triggerRect:s};return(0,ba.jsx)(Ii.Provider,{value:c,"data-slot":"popover",children:e})}function va({className:e,onClick:o,asChild:t,children:n,...r}){let{open:a,setOpen:l,triggerRef:i}=Ei(),s=c=>{o?.(c),l(!a)},m=we.isValidElement(n)&&(n.type==="button"||typeof n.type=="function"&&(n.type.name==="Button"||"displayName"in n.type&&n.type.displayName==="Button"||n.type.name?.toLowerCase().includes("button"))||we.isValidElement(n)&&n.props&&typeof n.props=="object"&&"role"in n.props&&n.props.role==="button"||n.props&&typeof n.props=="object"&&"type"in n.props&&n.props.type==="button");if(t||m){if(!we.isValidElement(n))throw new Error("PopoverTrigger: asChild requires a valid React element as child");return we.cloneElement(n,{ref:i,"data-slot":"popover-trigger","data-state":a?"open":"closed",onClick:s,className:p(we.isValidElement(n)&&n.props&&typeof n.props=="object"&&"className"in n.props?n.props.className:void 0)})}return(0,ba.jsx)("button",{ref:i,"data-slot":"popover-trigger","data-state":a?"open":"closed",className:p("inline-flex",e),onClick:s,...r,children:n})}function xa({children:e,className:o,align:t="center",side:n="bottom",sideOffset:r=4,...a}){let{open:l,contentRef:i,triggerRect:s}=Ei();if(we.useEffect(()=>{if(l&&i.current){let x=i.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');x.length>0?x[0].focus():i.current.focus()}},[l,i]),!l||!s)return null;let{top:m,left:d,width:c,height:f}=s,u={"--trigger-top":`${m}px`,"--trigger-left":`${d}px`,"--trigger-width":`${c}px`,"--trigger-height":`${f}px`,"--side-offset":`${r}px`},g=()=>{let x="fixed z-50",y={top:"bottom-[calc(100vh-var(--trigger-top)+var(--side-offset))]",bottom:"top-[calc(var(--trigger-top)+var(--trigger-height)+var(--side-offset))]",left:"right-[calc(100vw-var(--trigger-left)+var(--side-offset))] top-[var(--trigger-top)]",right:"left-[calc(var(--trigger-left)+var(--trigger-width)+var(--side-offset))] top-[var(--trigger-top)]"},C={top:{start:"left-[var(--trigger-left)]",center:"left-[calc(var(--trigger-left)+var(--trigger-width)/2)] -translate-x-1/2",end:"right-[calc(100vw-var(--trigger-left)-var(--trigger-width))]"},bottom:{start:"left-[var(--trigger-left)]",center:"left-[calc(var(--trigger-left)+var(--trigger-width)/2)] -translate-x-1/2",end:"right-[calc(100vw-var(--trigger-left)-var(--trigger-width))]"},left:{start:"top-[var(--trigger-top)]",center:"top-[calc(var(--trigger-top)+var(--trigger-height)/2)] -translate-y-1/2",end:"bottom-[calc(100vh-var(--trigger-top)-var(--trigger-height))]"},right:{start:"top-[var(--trigger-top)]",center:"top-[calc(var(--trigger-top)+var(--trigger-height)/2)] -translate-y-1/2",end:"bottom-[calc(100vh-var(--trigger-top)-var(--trigger-height))]"}};return`${x} ${y[n]} ${C[n][t]}`},h=()=>({top:{start:"origin-bottom-left",center:"origin-bottom",end:"origin-bottom-right"},bottom:{start:"origin-top-left",center:"origin-top",end:"origin-top-right"},left:{start:"origin-top-right",center:"origin-right",end:"origin-bottom-right"},right:{start:"origin-top-left",center:"origin-left",end:"origin-bottom-left"}})[n][t],v=(0,ba.jsx)("div",{ref:i,"data-slot":"popover-content","data-state":l?"open":"closed","data-side":n,"data-align":t,tabIndex:-1,className:p("bg-popover text-popover-foreground animate-in fade-in-0 zoom-in-95 shadow-bevel-xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 w-72 overflow-hidden rounded-3xl ring-0 outline-hidden duration-150 ease-in-out outline-none focus:outline-none",g(),h(),o),style:u,...a,children:e});return(0,Ai.createPortal)(v,document.body)}var Le=require("react/jsx-runtime"),yd={[wa.FACTOR_TYPE_PHONE]:rt.Smartphone,[wa.FACTOR_TYPE_EMAIL]:rt.Mail};function Oi({factors:e,factorType:o,readOnly:t,isEnabledFactor:n,onDeleteFactor:r,isDeletingFactor:a,disableDelete:l,styling:i={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:s}=w("mfa"),{isDarkMode:m}=G(),d=yd[o],c=Li.useMemo(()=>(0,zi.getComponentStyles)(i,m),[i,m]);return(0,Le.jsx)("div",{className:"space-y-2 mt-2",style:c?.variables,children:e.map(f=>(0,Le.jsx)(be,{className:"border border-[color:var(--color-border)] rounded-lg shadow-none bg-transparent p-0 w-full","aria-label":s(`${o}.title`),children:(0,Le.jsxs)(ze,{className:"flex flex-row items-center justify-between gap-3 p-3",children:[(0,Le.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-grow",children:[d&&(0,Le.jsx)(d,{className:"w-5 h-5 text-muted-foreground shrink-0","aria-hidden":"true"}),(0,Le.jsx)("span",{className:p("font-medium text-base text-(length:--font-size-body) text-foreground truncate"),title:f.name||f.id,children:f.name||f.id})]}),!t&&(0,Le.jsx)("div",{className:"shrink-0",children:(0,Le.jsxs)(ha,{children:[(0,Le.jsx)(va,{asChild:!0,children:(0,Le.jsx)(S,{variant:"ghost",size:"icon","aria-label":s("actions"),className:"p-2",tabIndex:0,children:(0,Le.jsx)(rt.MoreVertical,{className:"w-5 h-5","aria-hidden":"true"})})}),(0,Le.jsx)(xa,{className:"w-30 p-2",role:"menu",children:(0,Le.jsxs)(S,{size:"sm",variant:"ghost",className:"flex items-center justify-center px-4 py-2 gap-2 text-red-600 font-normal text-sm w-full",onClick:()=>r(f.id,o),disabled:l||a||!n,"aria-label":s("remove"),role:"menuitem",children:[(0,Le.jsx)(rt.Trash2,{className:"w-4 h-4 color-red-10","aria-hidden":"true"}),(0,Le.jsx)("span",{className:"color-red-10",children:s("remove")})]})})]})})]})},f.id))})}var fo=require("@auth0/web-ui-components-core"),gt=_(require("react"));var Bi=require("@auth0/web-ui-components-core"),Hi=_(require("react")),Ui=require("react/jsx-runtime"),kd=({width:e=30,height:o=30,title:t="Apple logo",className:n,...r})=>(0,Ui.jsx)("img",{src:Bi.AppleLogoSvg,alt:t,width:e,height:o,className:n,...r}),Vi=Hi.default.memo(kd);var Gi=require("@auth0/web-ui-components-core"),Ki=_(require("react")),$i=require("react/jsx-runtime"),Cd=({width:e=48,height:o=48,title:t="Google logo",className:n,...r})=>(0,$i.jsx)("img",{src:Gi.GoogleLogoSvg,alt:t,width:e,height:o,className:n,...r}),ya=Ki.default.memo(Cd);var Qi=require("@auth0/web-ui-components-core"),Jt=require("react");var qi="enterOtp",ka="showQr",at="enterContact",nt="enroll",Wi="confirm",Fn="installation",Ca="scan",Yi="enter-otp",Pa="show_recovery";function Xi({factorType:e,enrollMfa:o,onError:t,onClose:n}){let{t:r}=w("mfa"),[a,l]=(0,Jt.useState)(!1),[i,s]=(0,Jt.useState)({recoveryCode:"",authSession:"",authenticationMethodId:""}),m=(0,Jt.useCallback)(async()=>{if(!a){l(!0);try{let c=await o(e,{});s({recoveryCode:"recovery_code"in c?c.recovery_code:"",authSession:"auth_session"in c?c.auth_session:"",authenticationMethodId:"id"in c?c.id:""})}catch(c){let f=(0,Qi.normalizeError)(c,{resolver:u=>r(`errors.${e}.${u}`,{},"An unexpected error occurred during recovery code generation.")});t(f,nt),n()}finally{l(!1)}}},[a,e,o,t,n,r]),d=(0,Jt.useCallback)(()=>{s({recoveryCode:"",authSession:"",authenticationMethodId:""}),l(!1)},[]);return{fetchRecoveryCode:m,recoveryCodeData:i,resetRecoveryCodeData:d,loading:a}}var je=require("@auth0/web-ui-components-core"),il=require("@hookform/resolvers/zod"),Na=require("lucide-react"),dt=_(require("react")),ll=require("react-hook-form");var jt=require("@auth0/web-ui-components-core"),Br=require("react");function Hr({factorType:e,enrollMfa:o,onError:t}){let{t:n}=w("mfa"),[r,a]=(0,Br.useState)(!1),[l,i]=(0,Br.useState)({contact:"",authSession:"",authenticationMethodId:""});return{onSubmitContact:(0,Br.useCallback)(async m=>{if(!r){a(!0);try{let d=e===jt.FACTOR_TYPE_EMAIL?{email:m.contact}:e===jt.FACTOR_TYPE_PHONE?{phone_number:m.contact}:{},c=await o(e,d),f="id"in c?c.id:"";i({contact:m.contact,authenticationMethodId:f,authSession:c.auth_session})}catch(d){let c=(0,jt.normalizeError)(d,{resolver:f=>n(`errors.${e}.${f}`,{},"An unexpected error occurred during enrollment.")});t(c,nt)}finally{a(!1)}}},[r,e,o,t,n]),loading:r,contactData:l,setContactData:i}}var ji=require("@radix-ui/react-slot"),it=_(require("react")),lt=require("react-hook-form");var Ji=require("react/jsx-runtime");function ye({children:e,className:o,...t}){return(0,Ji.jsx)("label",{className:p("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",o),...t,children:e})}var Vo=require("react/jsx-runtime"),pe=lt.FormProvider,Zi=it.createContext({}),I=({...e})=>(0,Vo.jsx)(Zi.Provider,{value:{name:e.name},children:(0,Vo.jsx)(lt.Controller,{...e,render:({field:o,fieldState:t,formState:n})=>{let{onChange:r,onBlur:a,...l}=o;return e.render({field:{...l,onChange:(...i)=>{r(...i)},onBlur:(...i)=>{a(...i)}},fieldState:t,formState:n})}})}),_a=()=>{let e=it.useContext(Zi),o=it.useContext(el),{getFieldState:t}=(0,lt.useFormContext)(),n=(0,lt.useFormState)({name:e.name}),r=t(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");let{id:a}=o;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...r}},el=it.createContext({});function E({className:e,...o}){let t=it.useId();return(0,Vo.jsx)(el.Provider,{value:{id:t},children:(0,Vo.jsx)("div",{"data-slot":"form-item",className:p("grid gap-2",e),...o})})}function L({className:e,...o}){let{error:t,formItemId:n}=_a();return(0,Vo.jsx)(ye,{"data-slot":"form-label","data-error":!!t,className:p("data-[error=true]:text-destructive-foreground",e),htmlFor:n,...o})}function z({...e}){let{error:o,formItemId:t,formDescriptionId:n,formMessageId:r}=_a();return(0,Vo.jsx)(ji.Slot,{"data-slot":"form-control",id:t,"aria-describedby":o?`${n} ${r}`:`${n}`,"aria-invalid":!!o,...e})}function K({className:e,...o}){let{formDescriptionId:t}=_a();return(0,Vo.jsx)("p",{"data-slot":"form-description",id:t,className:p("text-muted-foreground text-sm",e),...o})}function O({className:e,...o}){let{error:t,formMessageId:n}=_a(),r=t?String(t?.message??""):o.children;return r?(0,Vo.jsx)("p",{"data-slot":"form-message",id:n,className:p("text-destructive-foreground text-sm",e),...o,children:r}):null}var ol=require("class-variance-authority"),tl=_(require("react"));var st=require("react/jsx-runtime"),Pd=(0,ol.cva)("bg-input aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive theme-default:active:scale-[0.99] relative box-border inline-flex w-full shrink-0 cursor-text items-center justify-center gap-2 overflow-hidden rounded-2xl text-sm transition-[color,box-shadow] duration-150 ease-in-out outline-none disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",{variants:{variant:{default:"border-border/50 text-input-foreground shadow-input-resting hover:shadow-input-hover hover:border-primary/25 focus-within:border-border focus-within:ring-primary/15 focus-within:ring-4",error:"border-destructive-border/50 text-destructive-foreground shadow-input-destructive-resting hover:shadow-input-destructive-hover hover:border-destructive-border/25 focus-within:ring-destructive-border/15 focus-within:ring-4"},size:{default:"h-10",sm:"h-9",lg:"h-11"}},defaultVariants:{variant:"default",size:"default"}}),J=tl.forwardRef(({className:e,variant:o,size:t,error:n,helperText:r,startAdornment:a,endAdornment:l,...i},s)=>{let m=i.disabled,d=i.id?"div":"label";return(0,st.jsxs)("div",{className:"flex w-full flex-col",children:[(0,st.jsxs)(d,{className:p(Pd({variant:n?"error":o,size:t}),"group items-center gap-0.5",m&&"bg-input-muted text-input-muted-foreground cursor-not-allowed opacity-50",m&&o==="default"&&"bg-input-muted",a&&"pl-[5px]",l&&"pr-[5px]",e),children:[a&&(0,st.jsx)("div",{className:"[&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:a}),(0,st.jsx)("input",{className:p("w-full flex-1 bg-transparent px-3 py-2 outline-none file:border-0 file:bg-transparent file:text-sm file:font-medium",m&&"bg-input-muted text-input-muted-foreground cursor-not-allowed opacity-50",a&&"pl-0",l&&"pr-0",t==="default"&&"h-10",t==="sm"&&"h-9",t==="lg"&&"h-11"),ref:s,...i}),l&&(0,st.jsx)("div",{className:"[&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:l})]}),r&&(0,st.jsx)("p",{className:p("mt-1.5 px-2 text-xs",n?"text-destructive-foreground":"text-muted-foreground"),children:r})]})});J.displayName="TextField";var ct=require("@auth0/web-ui-components-core"),It=_(require("react")),nl=require("react-hook-form");var rl=require("@auth0/web-ui-components-core"),Ra=require("react");function At({factorType:e,authSession:o,authenticationMethodId:t,confirmEnrollment:n,onError:r,onSuccess:a,onClose:l}){let{t:i}=w("mfa"),[s,m]=(0,Ra.useState)(!1);return{onSubmitOtp:(0,Ra.useCallback)(async c=>{if(!s){m(!0);try{let f={userOtpCode:c.userOtp};await n(e,o,t,f)&&(a(),l())}catch(f){let u=(0,rl.normalizeError)(f,{resolver:g=>i(`errors.${e}.${g}`,{},"An unexpected error occurred during enrollment.")});r(u,Wi)}finally{m(!1)}}},[s,e,n,r,a,l,i]),loading:s}}var er=_(require("react"));var Zt=require("react/jsx-runtime");function al({length:e=6,placeholder:o,disabled:t,className:n,onChange:r,autoSubmit:a,separator:l,id:i,value:s,name:m,inputRef:d}){let[c,f]=(0,er.useState)(new Array(e).fill("")),u=(0,er.useRef)([]),g=s!==void 0,h=s||"",v=g?Array.from({length:e},(P,b)=>h[b]||""):c,x=P=>{g||f(P)},y=(P,b)=>{let k=P.value;if(isNaN(Number(k)))return;let N=[...v];N[b]=k.substring(k.length-1),x(N);let R=N.join("");r?.(R),R.length===e&&a&&a(R),k&&b<e-1&&u.current[b+1]?.focus()},C=(P,b)=>{if((P.key==="Delete"||P.key==="Backspace")&&(P.ctrlKey||P.metaKey)){P.preventDefault();let k=new Array(e).fill("");x(k),r?.(""),u.current[0]?.focus();return}if(P.key==="ArrowLeft"){P.preventDefault(),b>0&&u.current[b-1]?.focus();return}if(P.key==="ArrowRight"){P.preventDefault(),b<e-1&&u.current[b+1]?.focus();return}if(P.key==="Home"){P.preventDefault(),u.current[0]?.focus();return}if(P.key==="End"){P.preventDefault(),u.current[e-1]?.focus();return}if(P.key==="Backspace"){if(!v[b]&&b>0){let k=[...v];k[b-1]="",x(k),r?.(k.join("")),u.current[b-1]?.focus()}return}if(P.key==="Delete"){if(v[b]){let k=[...v];k[b]="",x(k),r?.(k.join(""))}else if(b<e-1){let k=[...v];k[b+1]="",x(k),r?.(k.join(""))}return}if(P.key===" "){P.preventDefault();let k=v.findIndex((N,R)=>R>b&&!N);k!==-1?u.current[k]?.focus():b<e-1&&u.current[b+1]?.focus();return}},F=(P,b)=>{P.preventDefault();let k=P.clipboardData.getData("text").replace(/[^0-9]/g,"");if(!k)return;let N=[...v],R=e-b,$=k.slice(0,R);for(let A=b;A<Math.min(b+$.length,e);A++)N[A]="";for(let A=0;A<$.length&&b+A<e;A++)N[b+A]=$[A];x(N);let oe=N.join("");r?.(oe),oe.length===e&&a&&a(oe);let re=Math.min(b+$.length,e-1);setTimeout(()=>{u.current[re]?.focus()},0)};return(0,Zt.jsx)("div",{className:p("flex w-full items-center gap-2",n),children:v.map((P,b)=>(0,Zt.jsxs)(er.default.Fragment,{children:[(0,Zt.jsx)(J,{ref:k=>{u.current[b]=k,b===0&&d&&(typeof d=="function"?d(k):d.current=k)},type:"text",inputMode:"numeric",maxLength:1,value:P,placeholder:o,disabled:t,className:"flex-1 text-xl font-semibold *:text-center has-[input]:text-center",onChange:k=>y(k.target,b),onKeyDown:k=>C(k,b),onPaste:k=>F(k,b),id:b===0?i:void 0,name:b===0?m:void 0}),l?.afterEvery&&(b+1)%l.afterEvery===0&&b<e-1&&(0,Zt.jsx)("span",{className:"text-muted-foreground text-2xl font-semibold",children:l.character||"-"})]},b))})}var qe=require("react/jsx-runtime"),_d=(e,o)=>{if(!e)return"";if(o===ct.FACTOR_TYPE_EMAIL){let[t,n]=e.split("@");return!n||t.length<=2?e:`${t.slice(0,2)}${"*".repeat(t.length-2)}@${n}`}return e.length>6?`${e.slice(0,3)}${"*".repeat(e.length-6)}${e.slice(-3)}`:e};function Ta({factorType:e,confirmEnrollment:o,onError:t,onSuccess:n,onClose:r,contact:a,authSession:l,authenticationMethodId:i,onBack:s,styling:m={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:d}=w("mfa"),{isDarkMode:c}=G(),f=It.useMemo(()=>(0,ct.getComponentStyles)(m,c),[m,c]),{onSubmitOtp:u,loading:g}=At({factorType:e,authSession:l,authenticationMethodId:i,confirmEnrollment:o,onError:t,onSuccess:n,onClose:r}),h=(0,nl.useForm)({mode:"onChange"}),v=h.watch("userOtp"),x=It.useRef(null);It.useEffect(()=>{x.current?.focus()},[]);let y=async P=>{await u(P)},C=It.useMemo(()=>a?_d(a,e):"",[a,e]),F=d(g?"enrollment_form.show_otp.verifying":"submit");return(0,qe.jsx)("div",{style:f.variables,className:"w-full max-w-sm mx-auto text-center",children:(0,qe.jsx)(pe,{...h,children:(0,qe.jsxs)("form",{onSubmit:h.handleSubmit(y),autoComplete:"off",className:"space-y-6","aria-describedby":"otp-description",children:[(0,qe.jsx)("p",{id:"otp-description",className:p("text-sm text-primary font-normal text-center","text-(length:--font-size-paragraph)"),children:[ct.FACTOR_TYPE_PUSH_NOTIFICATION,ct.FACTOR_TYPE_TOTP].includes(e)?d("enrollment_form.show_otp.enter_opt_code"):d("enrollment_form.show_otp.enter_verify_code",{verifier:C})}),(0,qe.jsx)(I,{control:h.control,name:"userOtp",render:({field:P})=>(0,qe.jsxs)(E,{children:[(0,qe.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",htmlFor:"otp-input",children:d("enrollment_form.show_otp.one_time_passcode")}),(0,qe.jsx)(z,{children:(0,qe.jsx)(al,{id:"otp-input",length:6,separator:{character:"-",afterEvery:3},onChange:P.onChange,inputRef:x,"aria-invalid":!!h.formState.errors.userOtp,value:P.value||""})}),(0,qe.jsx)(O,{className:"text-sm text-left text-(length:--font-size-paragraph)",id:"otp-error",role:"alert"})]})}),(0,qe.jsxs)("div",{className:"flex flex-row justify-end gap-3 mt-6 mb-6",children:[(0,qe.jsx)(S,{type:"button",className:"text-sm",variant:"outline",size:"default",onClick:s,"aria-label":d("back"),children:d("back")}),(0,qe.jsx)(S,{type:"submit",className:"text-sm",size:"default",disabled:v?.length!==6||g,"aria-label":F,children:F})]})]})})})}var ue=require("react/jsx-runtime");function sl({factorType:e,enrollMfa:o,onError:t,confirmEnrollment:n,onSuccess:r,onClose:a,schema:l,styling:i={variables:{common:{},light:{},dark:{}},classes:{}}}){let[s,m]=dt.useState(at),{t:d}=w("mfa"),{isDarkMode:c}=G(),f=dt.useMemo(()=>(0,je.getComponentStyles)(i,c),[i,c]),{onSubmitContact:u,loading:g,contactData:h,setContactData:v}=Hr({factorType:e,enrollMfa:o,onError:t}),x=dt.useMemo(()=>e===je.FACTOR_TYPE_EMAIL?(0,je.createEmailContactSchema)(d("errors.invalid_email"),l?.email):(0,je.createSmsContactSchema)(d("errors.invalid_phone_number"),l?.phone),[e,d,l]),y=(0,ll.useForm)({resolver:(0,il.zodResolver)(x),mode:"onTouched",reValidateMode:"onChange",defaultValues:{contact:h.contact||""}}),C=()=>{y.reset(),v({contact:"",authSession:"",authenticationMethodId:""}),a?.()},F=dt.useCallback(()=>{m(at)},[s]),P=dt.useCallback(async N=>{await u(N),m(qi)},[u]);return s===at?(0,ue.jsx)("div",{style:f?.variables,className:"w-full max-w-sm mx-auto",children:(0,ue.jsx)("div",{className:"flex flex-col items-center justify-center flex-1 space-y-10",children:g?(0,ue.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",role:"status","aria-live":"polite",children:(0,ue.jsx)(ee,{"aria-label":d("loading")})}):(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)("p",{className:p("text-center text-primary text-sm text-(length:--font-size-paragraph) font-normal"),id:"contact-description",children:d(e===je.FACTOR_TYPE_EMAIL?"enrollment_form.enroll_email_description":"enrollment_form.enroll_sms_description")}),(0,ue.jsx)("div",{className:"w-full",children:(0,ue.jsx)(pe,{...y,children:(0,ue.jsxs)("form",{onSubmit:y.handleSubmit(P),className:"space-y-6","aria-describedby":"contact-description",children:[(0,ue.jsx)(I,{control:y.control,name:"contact",render:({field:N})=>(0,ue.jsxs)(E,{children:[(0,ue.jsx)(L,{className:"text-left text-sm text-(length:--font-size-paragraph)",htmlFor:"contact-input",children:d(e===je.FACTOR_TYPE_EMAIL?"enrollment_form.email_address":"enrollment_form.phone_number")}),(0,ue.jsx)(z,{children:(0,ue.jsx)(J,{id:"contact-input",type:e===je.FACTOR_TYPE_EMAIL?"email":"tel",autoComplete:e===je.FACTOR_TYPE_EMAIL?"email":"tel",startAdornment:(0,ue.jsx)("div",{className:"p-1.5","aria-hidden":"true",children:e===je.FACTOR_TYPE_EMAIL?(0,ue.jsx)(Na.MailIcon,{}):(0,ue.jsx)(Na.SmartphoneIcon,{})}),placeholder:d(e===je.FACTOR_TYPE_EMAIL?"enrollment_form.enroll_email_placeholder":"enrollment_form.enroll_sms_placeholder"),error:!!y.formState.errors.contact,"aria-invalid":!!y.formState.errors.contact,...N})}),(0,ue.jsx)(O,{className:"text-left text-sm text-(length:--font-size-paragraph)",id:"contact-error",role:"alert"})]})}),(0,ue.jsxs)("div",{className:"flex flex-row justify-end gap-3 mt-6 mb-6",children:[(0,ue.jsx)(S,{type:"button",className:"text-sm",variant:"outline",size:"default",onClick:C,"aria-label":d("cancel"),children:d("cancel")}),(0,ue.jsx)(S,{type:"submit",size:"default",className:"text-sm",disabled:!y.formState.isValid||g,"aria-label":d("submit"),children:d("submit")})]})]})})})]})})}):(0,ue.jsx)(Ta,{factorType:e,confirmEnrollment:n,onError:t,onSuccess:r,onClose:a,contact:h.contact,authSession:h.authSession,authenticationMethodId:h.authenticationMethodId,onBack:F,styling:i})}var rr=require("@auth0/web-ui-components-core"),Ko=_(require("react"));var cl=require("@auth0/web-ui-components-core"),or=require("react");function Vr({factorType:e,enrollMfa:o,onError:t,onClose:n}){let{t:r}=w("mfa"),[a,l]=(0,or.useState)(!1),[i,s]=(0,or.useState)({authSession:"",barcodeUri:"",authenticationMethodId:""}),m=(0,or.useCallback)(async()=>{if(!a){l(!0);try{let c=await o(e,{});s({authSession:"auth_session"in c?c.auth_session:"",barcodeUri:"barcode_uri"in c?c.barcode_uri:"",authenticationMethodId:"id"in c?c.id:"",manualInputCode:"manual_input_code"in c?c.manual_input_code:""})}catch(c){let f=(0,cl.normalizeError)(c,{resolver:u=>r(`errors.${e}.${u}`,{},"An unexpected error occurred during enrollment.")});t(f,nt),n()}finally{l(!1)}}},[a,e,o,t,n,r]),d=(0,or.useCallback)(()=>{s({authSession:"",barcodeUri:"",authenticationMethodId:""}),l(!1)},[]);return{fetchOtpEnrollment:m,otpData:i,resetOtpData:d,loading:a}}var pl=require("lucide-react"),Ur=_(require("react"));var to=_(require("@radix-ui/react-tooltip")),dl=require("class-variance-authority"),ml=_(require("react"));var mt=require("react/jsx-runtime"),Rd=(0,dl.cva)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 shadow-bevel-lg z-50 w-fit rounded-xl px-2 py-1 text-sm text-balance",{variants:{position:{top:"origin-bottom",bottom:"origin-top",left:"origin-left",right:"origin-right"}},defaultVariants:{position:"top"}});function pt({children:e,...o}){return(0,mt.jsx)(to.Provider,{children:(0,mt.jsx)(to.Root,{...o,children:e})})}function ut({asChild:e=!0,...o}){return(0,mt.jsx)(to.Trigger,{asChild:e,...o})}var Uo=ml.forwardRef(({className:e,side:o="top",position:t,sideOffset:n=8,children:r,...a},l)=>(0,mt.jsx)(to.Portal,{children:(0,mt.jsxs)(to.Content,{ref:l,side:o,sideOffset:n,className:p(Rd({position:t||o}),e),...a,children:[r,(0,mt.jsx)(to.Arrow,{className:"fill-popover"})]})}));Uo.displayName=to.Content.displayName;var Go=require("react/jsx-runtime"),se=Ur.forwardRef(({onCopy:e,copyButtonClassName:o,tooltipSide:t="top",tooltipAlign:n="end",readOnly:r=!0,endAdornment:a,...l},i)=>{let{t:s}=w("common"),[m,d]=Ur.useState(s("copy")),[c,f]=Ur.useState(!1),u=async()=>{l.value&&(await navigator.clipboard.writeText(String(l.value)),d(s("copied")),f(!0),setTimeout(()=>{d(s("copy")),f(!1)},1e3),e?.())},g=(0,Go.jsxs)(pt,{open:c,onOpenChange:f,children:[(0,Go.jsx)(ut,{asChild:!0,children:(0,Go.jsx)(S,{type:"button",variant:"ghost",size:"icon",className:p("h-8 w-8",o),onClick:u,"aria-label":s("copy"),children:(0,Go.jsx)(pl.Copy,{className:"h-4 w-4","aria-hidden":"true"})})}),(0,Go.jsx)(Uo,{side:t,align:n,sideOffset:5,className:"z-[1000]",children:m})]});return(0,Go.jsx)(J,{ref:i,readOnly:r,...l,endAdornment:a?(0,Go.jsxs)("div",{className:"flex items-center gap-1",children:[a,g]}):g})});se.displayName="CopyableTextField";var ul=_(require("qrcode")),ft=_(require("react"));var tr=require("react/jsx-runtime");function fl({value:e,size:o=150,className:t,alt:n="QR Code",loadingMessage:r="Loading QR code",errorMessage:a="Failed to load QR code"}){let[l,i]=ft.useState(null),[s,m]=ft.useState(!1),[d,c]=ft.useState(!0),{isDarkMode:f}=G(),u=ft.useMemo(()=>({dark:f?"#FFFFFF":"#000000",light:f?"#000000":"#FFFFFF"}),[f]);ft.useEffect(()=>{if(!e){i(null),m(!0),c(!1);return}let h=async()=>{try{let v=await ul.default.toDataURL(e,{width:o,margin:1,color:u});i(v),m(!1)}catch{i(null),m(!0)}finally{c(!1)}};c(!0),h()},[e,o,u]);let g={className:p("flex items-center justify-center rounded p-2","bg-gray-100 dark:bg-gray-800",s&&"text-gray-500 dark:text-gray-400 text-sm",t),style:{width:o,height:o}};return d?(0,tr.jsx)("div",{...g,"aria-label":r,children:(0,tr.jsx)(ee,{"aria-label":r})}):s||!l?(0,tr.jsx)("div",{...g,role:"alert","aria-live":"assertive","aria-label":a,children:(0,tr.jsx)("span",{children:a})}):(0,tr.jsx)("img",{src:l,alt:n,width:o,height:o,className:p("block rounded",t),style:{imageRendering:"pixelated"}})}var Oe=require("react/jsx-runtime");function gl({factorType:e,enrollMfa:o,confirmEnrollment:t,onError:n,onSuccess:r,onClose:a,styling:l={variables:{common:{},light:{},dark:{}},classes:{}}}){let[i,s]=Ko.useState(Ca),{t:m}=w("mfa"),{isDarkMode:d}=G(),c=Ko.useMemo(()=>(0,rr.getComponentStyles)(l,d),[l,d]),{fetchOtpEnrollment:f,otpData:u,resetOtpData:g,loading:h}=Vr({factorType:e,enrollMfa:o,onError:n,onClose:a});Ko.useEffect(()=>{u?.barcodeUri||f()},[u?.barcodeUri,f]);let v=Ko.useCallback(async()=>{if(e===rr.FACTOR_TYPE_PUSH_NOTIFICATION)try{await t(e,u.authSession,u.authenticationMethodId,{}),r(),g(),a()}catch(F){n(F instanceof Error?F:new Error("Unknown error"),"confirm")}else s(Yi)},[e,u,t,r,n,g,a]),x=Ko.useCallback(()=>{s(Ca)},[]);return i===Ca?(0,Oe.jsx)("div",{style:c.variables,className:"w-full",children:h?(0,Oe.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",role:"status","aria-live":"polite",children:(0,Oe.jsx)(ee,{"aria-label":m("loading")})}):(0,Oe.jsxs)("div",{className:"w-full max-w-sm mx-auto text-center",children:[(0,Oe.jsxs)("div",{className:"mb-6",children:[(0,Oe.jsx)("div",{className:"flex justify-center items-center mb-6",children:(0,Oe.jsx)(fl,{size:150,value:u.barcodeUri,alt:m("enrollment_form.show_otp.qr_code_description")})}),(0,Oe.jsx)("p",{id:"qr-description",className:p("font-normal block text-sm text-center text-(length:--font-size-paragraph) text-primary"),children:m(e===rr.FACTOR_TYPE_TOTP?"enrollment_form.show_otp.title":"enrollment_form.show_auth0_guardian_title")})]}),(0,Oe.jsxs)("div",{"aria-describedby":"qr-description",children:[(0,Oe.jsx)(se,{value:u.manualInputCode||u?.barcodeUri}),(0,Oe.jsx)("div",{className:"mt-3"}),(0,Oe.jsxs)("div",{className:"flex flex-row justify-end gap-3 mt-6 mb-6",children:[(0,Oe.jsx)(S,{type:"button",className:"text-sm",variant:"outline",size:"default",onClick:a,"aria-label":m("cancel"),children:m("cancel")}),(0,Oe.jsx)(S,{type:"button",className:"text-sm",size:"default",onClick:v,"aria-label":m("continue"),children:m("continue")})]})]})]})}):(0,Oe.jsx)(Ta,{factorType:e,confirmEnrollment:t,onError:n,onSuccess:r,onClose:a,authSession:u.authSession,authenticationMethodId:u.authenticationMethodId,onBack:x,styling:l})}var Sa=require("@auth0/web-ui-components-core"),Fa=_(require("react"));var uo=require("react/jsx-runtime");function hl({factorType:e,confirmEnrollment:o,onError:t,onSuccess:n,onClose:r,userOtp:a,recoveryCode:l,authSession:i,authenticationMethodId:s,onBack:m,styling:d={variables:{common:{},light:{},dark:{}},classes:{}},loading:c=!1}){let{t:f}=w("mfa"),{isDarkMode:u}=G(),g=Fa.useMemo(()=>(0,Sa.getComponentStyles)(d,u),[d,u]),h=e===Sa.FACTOR_TYPE_RECOVERY_CODE,{onSubmitOtp:v,loading:x}=At({factorType:e,authSession:i,authenticationMethodId:s,confirmEnrollment:o,onError:t,onSuccess:n,onClose:r}),y=Fa.useCallback(async()=>{h?(await o(e,i,s,{}),n()):a&&await v({userOtp:a})},[h,v,a,n,i,e,o,s]),C=f(x?"enrollment_form.show_otp.verifying":"submit");return(0,uo.jsx)("div",{style:g.variables,className:"w-full max-w-sm mx-auto text-center",children:c||x?(0,uo.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,uo.jsx)(ee,{})}):(0,uo.jsxs)("div",{className:"space-y-6",children:[(0,uo.jsxs)("div",{children:[(0,uo.jsx)("p",{className:p("font-normal block text-sm text-center mb-4 text-primary"),children:f("enrollment_form.recovery_code_description")}),l&&(0,uo.jsx)(se,{value:l})]}),(0,uo.jsxs)("div",{className:"flex flex-row justify-end gap-3 mt-6 mb-6",children:[(0,uo.jsx)(S,{type:"button",className:"text-sm",variant:"outline",size:"default",onClick:m,"aria-label":f("back"),children:f("back")}),(0,uo.jsx)(S,{type:"button",className:"text-sm",size:"default",disabled:!h&&c,onClick:y,"aria-label":C,children:C})]})]})})}var he=require("react/jsx-runtime");function vl({open:e,onClose:o,factorType:t,enrollMfa:n,confirmEnrollment:r,onSuccess:a,onError:l,schema:i,styling:s={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:m}=w("mfa"),{isDarkMode:d}=G(),c=gt.useMemo(()=>(0,fo.getComponentStyles)(s,d),[s,d]),[f,u]=gt.useState(null),{fetchRecoveryCode:g,loading:h,recoveryCodeData:v,resetRecoveryCodeData:x}=Xi({factorType:t,enrollMfa:n,onError:l,onClose:o});gt.useEffect(()=>{e||u(null)},[e]),gt.useEffect(()=>{if(!e)return;let F={[fo.FACTOR_TYPE_EMAIL]:at,[fo.FACTOR_TYPE_PHONE]:at,[fo.FACTOR_TYPE_PUSH_NOTIFICATION]:Fn,[fo.FACTOR_TYPE_TOTP]:ka,[fo.FACTOR_TYPE_RECOVERY_CODE]:Pa};u(F[t]??null)},[e,t]),gt.useEffect(()=>{f===Pa&&g()},[f]);let y=()=>(0,he.jsx)("div",{style:c?.variables,className:"w-full max-w-sm mx-auto",children:(0,he.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 space-y-10",children:[(0,he.jsx)("p",{className:p("text-center text-primary text-sm text-(length:--font-size-paragraph) font-normal"),children:m("enrollment_form.show_otp.install_guardian_description")}),(0,he.jsxs)("div",{className:"flex gap-4 w-full",children:[(0,he.jsx)("a",{href:"https://apps.apple.com/us/app/auth0-guardian/id1093447833",target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:(0,he.jsxs)(be,{className:"flex flex-col items-center gap-1 min-w-24 p-6 h-full",children:[(0,he.jsx)(Vi,{className:"w-8 h-8"}),(0,he.jsx)("span",{className:p("text-sm text-(length:--font-size-paragraph) text-center"),children:m("app-store")})]})}),(0,he.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.auth0.guardian",target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:(0,he.jsxs)(be,{className:"flex flex-col items-center gap-1 min-w-24 p-6 h-full",children:[(0,he.jsx)(ya,{className:"w-8 h-8"}),(0,he.jsx)("span",{className:p("text-sm text-(length:--font-size-paragraph) text-center"),children:m("google-play")})]})})]}),(0,he.jsxs)("div",{className:"flex flex-row justify-end gap-3 w-full mt-6 mb-6",children:[(0,he.jsx)(S,{type:"button",className:"text-sm",variant:"outline",size:"default",onClick:o,children:m("cancel")}),(0,he.jsx)(S,{type:"button",className:"text-sm",size:"default",onClick:()=>u(ka),children:m("continue")})]})]})}),C=()=>{switch(f){case Fn:return y();case at:return(0,he.jsx)(sl,{factorType:t,enrollMfa:n,confirmEnrollment:r,onError:l,onSuccess:a,onClose:o,schema:i,styling:s});case ka:return(0,he.jsx)(gl,{factorType:t,enrollMfa:n,confirmEnrollment:r,onError:l,onSuccess:a,onClose:o,styling:s});case Pa:return(0,he.jsx)(hl,{recoveryCode:v.recoveryCode,authSession:v.authSession,authenticationMethodId:v.authenticationMethodId,confirmEnrollment:r,onSuccess:()=>{a(),x()},onBack:()=>{x(),o()},styling:s,factorType:t,loading:h});default:return null}};return(0,he.jsx)(qt,{open:e&&!!f,onOpenChange:o,children:(0,he.jsxs)(Wt,{style:c.variables,"aria-describedby":"mfa-setup-form",className:p("w-[400px] max-h-[90vh]",c.classes?.["UserMFASetupForm-dialogContent"]),children:[(0,he.jsxs)(Yt,{children:[(0,he.jsx)(Qt,{className:"text-left font-medium text-xl text-(length:--font-size-title)",children:m("enrollment_form.enroll_title")}),(0,he.jsx)(tt,{className:"my-2"})]}),C()]})})}var xl=require("class-variance-authority"),bl=require("react");var wl=require("react/jsx-runtime"),Td=(0,xl.cva)("theme-default:shadow-xs box-border inline-flex items-center overflow-clip rounded-2xl border border-transparent font-medium",{variants:{variant:{default:"bg-primary text-primary-foreground theme-default:border-primary",secondary:"bg-muted text-muted-foreground theme-default:border-muted-foreground/25",outline:"border-border",info:"bg-info text-info-foreground theme-default:border-info-foreground/25",success:"bg-success theme-default:border-success-foreground/25 text-success-foreground",warning:"bg-warning theme-default:border-warning-foreground/25 text-warning-foreground",destructive:"bg-destructive theme-default:border-destructive-foreground/25 text-destructive-foreground"},size:{sm:"px-1.5 py-0.5 text-xs",md:"px-2 py-1 text-sm",lg:"px-2.5 py-1.5 text-sm"}},defaultVariants:{variant:"default",size:"md"}});function go({className:e,variant:o,size:t,asChild:n=!1,...r}){return(0,wl.jsx)(n?bl.Fragment:"span",{"data-slot":"badge",className:p(Td({variant:o,size:t}),e),...r})}var Dn=_(require("react"));var Do=require("react/jsx-runtime"),Mn=Dn.forwardRef(({className:e,children:o,icon:t,description:n,info:r,...a},l)=>(0,Do.jsxs)("li",{ref:l,className:p("flex items-start gap-2",e),...a,children:[(0,Do.jsxs)("div",{className:"flex min-w-0 gap-2 flex-1",children:[t&&(0,Do.jsx)("div",{className:"text-muted-foreground mt-1 shrink-0",children:t}),(0,Do.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Do.jsx)("div",{className:"text-primary text-sm",children:o}),n&&(0,Do.jsx)("p",{className:"text-muted-foreground text-sm",children:n})]})]}),r&&(0,Do.jsx)("div",{className:"shrink-0",children:r})]}));Mn.displayName="ListItem";var An=Dn.forwardRef(({className:e,children:o,variant:t="plain",spacing:n="default",...r},a)=>(0,Do.jsx)("ul",{ref:a,className:p("text-sm",n==="tight"&&"space-y-2",n==="default"&&"space-y-3",n==="relaxed"&&"space-y-4",t==="bullet"&&"list-inside list-disc",t==="number"&&"list-inside list-decimal",t==="plain"&&"divide-border list-none divide-y",e),...r,children:o}));An.displayName="List";var Cl=_(require("react"));da();var Et=require("react/jsx-runtime");function yl(e,o){if(!e)return!0;let t=e.split(" ").filter(Boolean),n=new Set(o.split(" ").filter(Boolean));return t.every(r=>n.has(r))}function kl(e){return e?e.split(" ").map(o=>o.trim()).filter(Boolean).sort().join(" "):""}function Pl(e,o={}){return n=>{let{loader:r}=G(),{registerScopes:a,ensured:l}=ca(),i=(0,Et.jsx)("div",{className:"fixed inset-0 flex items-center justify-center",children:(0,Et.jsx)(ee,{className:"h-8 w-8"})}),s=kl(o.myAccountApiScopes),m=kl(o.myOrgApiScopes),d=yl(s,l.me),c=yl(m,l["my-org"]);return Cl.useEffect(()=>{o.myAccountApiScopes&&a("me",o.myAccountApiScopes),o.myOrgApiScopes&&a("my-org",o.myOrgApiScopes)},[o.myAccountApiScopes,o.myOrgApiScopes,a]),o.myAccountApiScopes&&!d||o.myOrgApiScopes&&!c?(0,Et.jsx)(Et.Fragment,{children:r||i}):(0,Et.jsx)(e,{...n})}}function Mo(e,o){return Pl(e,{myOrgApiScopes:o})}function _l(e,o){return Pl(e,{myAccountApiScopes:o})}var Da=require("@auth0/web-ui-components-core"),Gr=require("react");De();function Kr(){let{coreClient:e}=ie();if(!e)throw new Error("useMFA must be used within Auth0ComponentProvider with initialized CoreClient");let o=(0,Gr.useCallback)(async(a=!1)=>{let l=e.getMyAccountApiClient(),[i,s]=await Promise.all([l.factors.list(),l.authenticationMethods.list()]);return Da.MFAMappers.fromAPI(i,s,a)},[e]),t=(0,Gr.useCallback)((a,l={})=>{let i=e.getMyAccountApiClient(),s=Da.MFAMappers.buildEnrollParams(a,l);return i.authenticationMethods.create(s)},[e]),n=(0,Gr.useCallback)(a=>e.getMyAccountApiClient().authenticationMethods.delete(a),[e]),r=(0,Gr.useCallback)((a,l,i,s)=>{let m=e.getMyAccountApiClient(),d=Da.MFAMappers.buildConfirmEnrollmentParams(a,l,s);return m.authenticationMethods.verify(i,d)},[e]);return{fetchFactors:o,enrollMfa:t,deleteMfa:n,confirmEnrollment:r}}var me=require("react/jsx-runtime");function Nd({customMessages:e={},styling:o={variables:{common:{},light:{},dark:{}},classes:{}},hideHeader:t=!1,showActiveOnly:n=!1,disableEnroll:r=!1,disableDelete:a=!1,readOnly:l=!1,factorConfig:i={},onEnroll:s,onDelete:m,onFetch:d,onErrorAction:c,onBeforeAction:f,schema:u}){let{t:g}=w("mfa",e),{loader:h,isDarkMode:v}=G(),x=ke.useMemo(()=>(0,ar.getComponentStyles)(o,v),[o,v]),{fetchFactors:y,enrollMfa:C,deleteMfa:F,confirmEnrollment:P}=Kr(),[b,k]=ke.useState({}),[N,R]=ke.useState(!0),[$,oe]=ke.useState(null),[re,A]=ke.useState(!1),[Q,U]=ke.useState(!1),[V,fe]=ke.useState(null),[X,_e]=ke.useState(!1),[To,eo]=ke.useState(null),oo=ke.useCallback(async()=>{R(!0),oe(null);try{let M=await y(n);k(M),d?.()}catch{oe(g("errors.factors_loading_error"))}R(!1)},[y,n,d,c]);ke.useEffect(()=>{oo()},[]);let Ho=ke.useMemo(()=>Object.keys(b).filter(M=>i[M]?.visible!==!1),[b,i]),Nt=ke.useMemo(()=>Ho.every(M=>!b[M]?.some(ge=>ge.enrolled)),[Ho,b]),St=M=>{fe(M),U(!0)},Ft=ke.useCallback(()=>{U(!1),V===ar.FACTOR_TYPE_PUSH_NOTIFICATION&&oo(),fe(null)},[V,oo]),q=ke.useCallback(async(M,ge)=>{if(!(l||a))if(f){if(!await f("delete",ge))return;await ce(M)}else eo({id:M,type:ge}),_e(!0)},[l,a,f]),ce=ke.useCallback(async M=>{A(!0);let ge=()=>{A(!1),_e(!1),eo(null)};try{await F(M)}catch(ko){let ot=ko instanceof Error?ko:new Error(g("errors.delete_factor"));zt.toast.error(g("errors.delete_factor")),c?.(ot,"delete"),ge();return}zt.toast.success(g("remove_factor"),{duration:2e3,onAutoClose:()=>m?.()});try{await oo()}catch(ko){let ot=ko instanceof Error?ko:new Error(g("errors.factors_loading_error"));c?.(ot,"delete")}finally{ge()}},[F,oo,m,c,g]),co=ke.useCallback(async()=>{U(!1),fe(null);try{zt.toast.success(g("enroll_factor"),{duration:2e3,onAutoClose:()=>{s?.()}}),await oo()}catch{zt.toast.dismiss(),zt.toast.error(g("errors.factors_loading_error"))}},[oo,s,g]),D=ke.useCallback((M,ge)=>{zt.toast.error(`${g(ge===nt?"enrollment":"confirmation")} ${g("errors.failed",{message:M.message})}`),c?.(M,ge)},[c,g]);return(0,me.jsxs)("div",{style:x.variables,children:[N?(0,me.jsx)("div",{className:"flex items-center justify-center py-16",children:h||(0,me.jsx)(ee,{})}):(0,me.jsx)(be,{className:p("py-10 px-8 sm:py-8 sm:px-6",x.classes?.["UserMFAMgmt-card"]),children:(0,me.jsx)(ze,{children:$?(0,me.jsx)(Mi,{title:g("component_error_title"),description:g("component_error_description")}):(0,me.jsxs)(me.Fragment,{children:[!t&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(So,{id:"mfa-management-title",className:"text-2xl text-(length:--font-size-heading) font-medium text-left",children:g("title")}),(0,me.jsx)(Fo,{id:"mfa-management-desc",className:"text-sm text-(length:--font-size-paragraph) text-muted-foreground text-left",children:g("description")})]}),n&&Nt?(0,me.jsx)(Fi,{message:g("no_active_mfa")}):(0,me.jsx)(An,{className:"flex flex-col gap-0 w-full","aria-labelledby":"mfa-management-title","aria-describedby":"mfa-management-desc",children:Ho.map(M=>{let ko=(b[M]||[]).filter(cd=>cd.enrolled),ot=i?.[M]?.enabled!==!1,kn=ko.length>0;return(0,me.jsxs)(Mn,{className:p("w-full p-0 m-0 py-6 gap-3",!ot&&"opacity-50 pointer-events-none"),"aria-disabled":!ot,tabIndex:0,"aria-label":g(`${M}.title`),children:[(0,me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-3",children:[(0,me.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[(0,me.jsx)("span",{className:p("break-words text-card-foreground whitespace-normal text-base text-(length:--font-size-body) font-medium"),id:`factor-title-${M}`,children:g(`${M}.title`)}),kn&&(0,me.jsx)(go,{variant:"success",size:"sm",className:"shrink-0","aria-label":g("enabled"),children:g("enabled")})]}),!l&&(0,me.jsx)(S,{size:"default",variant:"outline",className:"text-sm w-full sm:w-auto shrink-0",onClick:()=>St(M),disabled:r||!ot,"aria-label":g(`${M}.button-text`),"aria-describedby":`factor-title-${M}`,children:g(`${M}.button-text`)})]}),!kn&&(0,me.jsx)("p",{className:p("font-normal text-sm text-(length:--font-size-paragraph) text-muted-foreground text-left break-words"),id:`factor-desc-${M}`,children:g(`${M}.description`)}),kn&&(0,me.jsx)(Oi,{factors:ko,factorType:M,readOnly:l,isEnabledFactor:ot,onDeleteFactor:q,isDeletingFactor:re,disableDelete:a,styling:o})]},M)})})]})})}),V&&(0,me.jsx)(vl,{open:Q,onClose:Ft,factorType:V,enrollMfa:C,confirmEnrollment:P,onSuccess:co,onError:D,schema:u,styling:o}),(0,me.jsx)(Si,{open:X,onOpenChange:M=>!re&&_e(M),factorToDelete:To,isDeletingFactor:re,onConfirm:ce,onCancel:()=>_e(!1),styling:o})]})}var Rl=_l(Nd,ar.USER_MFA_SCOPES);var Ba=require("@auth0/web-ui-components-core"),Hl=_(require("react"));var za=require("@auth0/web-ui-components-core"),Al=require("@hookform/resolvers/zod"),Lt=_(require("react")),Il=require("react-hook-form");var nr=_(require("react"));var ro=require("react/jsx-runtime"),Sd={type:"submit",label:"Save",variant:"primary",onClick:()=>{}},Fd={label:"Cancel",variant:"outline",onClick:()=>{}},ht=({hasUnsavedChanges:e=!1,isLoading:o=!1,nextAction:t,previousAction:n,className:r,showPrevious:a=!0,showNext:l=!0,showUnsavedChanges:i=!0,align:s="right",unsavedChangesText:m="Unsaved changes"})=>{let d=nr.useMemo(()=>({...Sd,...t}),[t]),c=nr.useMemo(()=>({...Fd,...n}),[n]),f=nr.useCallback(h=>{d.onClick(h.nativeEvent)},[d.onClick]),u=nr.useCallback(h=>{c.onClick(h.nativeEvent)},[c.onClick]),g=i&&e;return(0,ro.jsxs)("div",{className:p("flex flex-row items-center gap-4 p-2",s==="right"?"justify-end":"justify-start",r),children:[g&&(0,ro.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ro.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-500 transition-colors","aria-hidden":"true"}),(0,ro.jsx)("span",{className:"text-sm text-muted-foreground",children:m})]}),a&&(0,ro.jsx)(S,{type:"button",variant:c.variant,size:c.size,onClick:u,disabled:c.disabled||o,className:"FormActions-previous",children:c.label}),l&&(0,ro.jsx)(S,{type:d.type,variant:d.variant,size:d.size,disabled:d.disabled||o,className:"FormActions-next",...d.type!=="submit"&&{onClick:f},children:o?(0,ro.jsx)(ee,{size:"sm","aria-hidden":"true"}):(0,ro.jsxs)(ro.Fragment,{children:[d.icon&&(0,ro.jsx)("span",{className:"mr-2","aria-hidden":"true",children:d.icon}),d.label]})})]})};var Tl=require("class-variance-authority"),Ma=_(require("react"));var ir=require("react/jsx-runtime"),Nl=/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Dd=e=>Nl.test(e),Md=e=>{let o=e.replace(/^#+/,"");return o?`#${o.toUpperCase()}`:""},Ad=(0,Tl.cva)("h-7 w-7 rounded",{variants:{disabled:{true:"opacity-50 cursor-not-allowed",false:"cursor-pointer hover:scale-105 transition-transform"}},defaultVariants:{disabled:!1}}),Aa=Ma.forwardRef(({className:e,value:o="",onChange:t,disabled:n=!1,id:r,error:a,helperText:l,placeholder:i,label:s,size:m,variant:d,...c},f)=>{let u=Ma.useId(),g=r||u,h=b=>{let k=Md(b.target.value);t?.({...b,target:{...b.target,value:k}})},v=b=>{let k=b.target.value.toUpperCase();t?.({...b,target:{...b.target,value:k}})},x=b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),b.currentTarget.click())},y=Dd(o),C=!!(a||o&&!y),F=(0,ir.jsx)("input",{type:"color",id:g,value:y?o.toUpperCase():"#000000",onChange:v,onKeyDown:x,disabled:n,className:Ad({disabled:n}),tabIndex:n?-1:0,"aria-label":s,"aria-describedby":l,"aria-invalid":C,title:o}),P=[l,a].filter(Boolean).join(" ");return(0,ir.jsxs)("div",{className:p("w-full",e),role:"group","aria-labelledby":`${g}-label`,children:[s&&(0,ir.jsx)(ye,{id:`${g}-label`,htmlFor:g,className:"mb-1 text-left","aria-required":c.required,children:s}),(0,ir.jsx)(J,{ref:f,id:g,type:"text",inputMode:"text",pattern:Nl.source,value:o.toUpperCase(),onChange:h,disabled:n,className:"p-2",placeholder:i,"aria-invalid":C,"aria-describedby":P,"aria-label":s,error:C,helperText:l,startAdornment:F,size:m,variant:d,role:"textbox",...c})]})});Aa.displayName="ColorPicker";var Ia=require("lucide-react"),Ea=_(require("react"));var We=require("react/jsx-runtime"),In=Ea.forwardRef(({value:e,onChange:o,disabled:t=!1,className:n,error:r,disableFileUpload:a=!1,placeholder:l,helperText:i,...s},m)=>{let d=Ea.useRef(null),c=h=>{let v=h.target.files?.[0];if(!v)return;let x=new FileReader;x.onload=()=>{let y=x.result;o?.(y)},x.readAsDataURL(v)},f=h=>{o?.(h.target.value)},u=h=>{h.key==="Enter"&&h.preventDefault()},g=()=>{o?.(""),d.current&&(d.current.value="")};return(0,We.jsx)("div",{ref:m,className:p("w-full",n),children:(0,We.jsxs)("div",{className:"border border-border rounded-lg overflow-hidden",children:[(0,We.jsxs)("div",{className:p("relative border-b border-border p-6 flex items-center justify-center bg-muted/30 min-h-[120px]",t&&"opacity-50 cursor-not-allowed"),children:[e?(0,We.jsxs)("div",{className:"relative",children:[(0,We.jsx)("img",{src:e,alt:"Preview",className:"h-20 w-20 object-cover rounded-lg"}),!t&&(0,We.jsx)(S,{variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-5 w-5 rounded-full",onClick:g,children:(0,We.jsx)(Ia.X,{className:"h-3 w-3"})})]}):(0,We.jsx)("div",{className:"h-20 w-20 bg-muted rounded-lg border-2 border-dashed border-border cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>!t&&!a&&d.current?.click()}),!a&&(0,We.jsx)("input",{ref:d,type:"file",accept:"image/*",onChange:c,className:"hidden",disabled:t})]}),(0,We.jsx)("div",{className:"p-4",children:(0,We.jsx)(J,{value:e,placeholder:l,onChange:f,onKeyDown:u,disabled:t,error:!!r,helperText:i,startAdornment:(0,We.jsx)(S,{variant:"ghost",size:"icon",onClick:()=>d.current?.click(),disabled:t||a,className:p("h-8 w-8",a&&"opacity-50"),children:(0,We.jsx)(Ia.Link,{className:"h-4 w-4"})}),...s})})]})})});In.displayName="ImagePreview";var Sl=require("class-variance-authority");var En=require("react/jsx-runtime"),Id=(0,Sl.cva)("hover:bg-muted hover:text-muted-foreground data-[state=on]:bg-accent data-[state=on]:text-accent-foreground focus-visible:border-ring aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive theme-default:shadow-bevel-sm focus-visible:ring-ring inline-flex items-center justify-center gap-2 rounded-xl text-sm font-medium whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-3 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",{variants:{variant:{default:"hover:bg-muted data-[state=on]:bg-muted data-[state=on]:text-primary bg-transparent",outline:"data-[state=on]:bg-muted data-[state=on]:text-primary-foreground hover:bg-accent hover:text-accent-foreground shadow-input-resting bg-transparent"},size:{default:"h-9 min-w-9 px-2",sm:"h-8 min-w-8 px-1.5",lg:"h-10 min-w-10 px-2.5"}},defaultVariants:{variant:"default",size:"default"}});function Ed({className:e,children:o,pressed:t,onPressedChange:n,variant:r="default",size:a="default",...l}){return(0,En.jsx)("button",{type:"button","aria-pressed":t,"data-state":t?"on":"off","data-variant":r,onClick:()=>n?.(!t),className:p(Id({variant:r,size:a}),e),...l,children:o})}function Fl(e){return(0,En.jsx)(Ed,{...e})}var Be=require("react/jsx-runtime"),zd=({icon:e,className:o,label:t,onClick:n,disabled:r,variant:a,size:l})=>(0,Be.jsxs)(S,{onClick:n,disabled:r,variant:a,size:l,className:p("flex items-center gap-2 w-full sm:w-auto sm:min-w-fit",o),"aria-label":t,children:[e&&(0,Be.jsx)(e,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),(0,Be.jsx)("span",{className:"truncate",children:t})]}),Ld=({icon:e,className:o,label:t,"aria-label":n,pressed:r,onPressedChange:a,disabled:l,variant:i,size:s})=>(0,Be.jsxs)(Fl,{pressed:r,onPressedChange:a,disabled:l,variant:i==="outline"?"outline":"default",size:s==="icon"||s==="xs"?"sm":s,className:p("flex items-center gap-2",o),"aria-label":n,children:[e&&(0,Be.jsx)(e,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),t&&(0,Be.jsx)("span",{className:"truncate",children:t})]});function ho({title:e,description:o,children:t,actions:n,className:r}){let a=(l,i)=>{let s=`action-${i}`;return l.type==="toggle"?(0,Be.jsx)(Ld,{...l},s):(0,Be.jsx)(zd,{...l},s)};return(0,Be.jsxs)("div",{className:p("space-y-6",r),children:[(0,Be.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,Be.jsxs)("div",{className:"flex flex-col min-w-0 flex-1 space-y-2",children:[e&&(0,Be.jsx)("h3",{className:p("text-lg text-foreground text-(length:--font-size-subtitle) font-semibold mb-1 text-left"),children:e}),o&&(0,Be.jsx)("p",{className:p("text-sm text-muted-foreground text-left text-(length:--font-size-paragraph)"),children:o})]}),n&&n.length>0&&(0,Be.jsx)("div",{className:"flex-shrink-0 flex items-start gap-2 mt-1",children:n.map(a)})]}),(0,Be.jsx)("div",{className:"space-y-4",children:t})]})}var ve=require("react/jsx-runtime");function Dl({form:e,readOnly:o=!1,customMessages:t={},className:n}){let{t:r}=w("org_management.org_details",t);return(0,ve.jsx)("div",{className:n,children:(0,ve.jsxs)(ho,{title:r("sections.branding.title"),children:[(0,ve.jsx)(I,{control:e.control,name:"branding.logo_url",render:({field:a,fieldState:l})=>(0,ve.jsxs)(E,{children:[(0,ve.jsx)(L,{className:"text-sm text-(length:--font-size-label) font-normal",children:r("sections.branding.fields.logo.label")}),(0,ve.jsx)(z,{children:(0,ve.jsx)(In,{error:l.error?.message,readOnly:o,...a,disableFileUpload:!0})}),(0,ve.jsx)(O,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),(0,ve.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:r("sections.branding.fields.logo.helper_text")})]})}),(0,ve.jsx)(I,{control:e.control,name:"branding.colors.primary",render:({field:a,fieldState:l})=>(0,ve.jsxs)(E,{children:[(0,ve.jsx)(L,{className:"text-sm text-(length:--font-size-label) font-normal",htmlFor:"primary-color",children:r("sections.branding.fields.primary_color.label")}),(0,ve.jsx)(z,{children:(0,ve.jsx)(Aa,{id:"primary-color",error:!!l.error,readOnly:o,...a})}),(0,ve.jsx)(O,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),(0,ve.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:r("sections.branding.fields.primary_color.helper_text")})]})}),(0,ve.jsx)(I,{control:e.control,name:"branding.colors.page_background",render:({field:a,fieldState:l})=>(0,ve.jsxs)(E,{children:[(0,ve.jsx)(L,{className:"text-sm text-(length:--font-size-label) font-normal",htmlFor:"page-background-color",children:r("sections.branding.fields.page_background_color.label")}),(0,ve.jsx)(z,{children:(0,ve.jsx)(Aa,{id:"page-background-color",error:!!l.error,readOnly:o,...a})}),(0,ve.jsx)(O,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),(0,ve.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:r("sections.branding.fields.page_background_color.helper_text")})]})})]})})}var Me=require("react/jsx-runtime");function Ml({form:e,readOnly:o=!1,customMessages:t={},className:n}){let{t:r}=w("org_management.org_details",t);return(0,Me.jsx)("div",{className:n,children:(0,Me.jsxs)(ho,{title:r("sections.settings.title"),children:[(0,Me.jsx)(I,{control:e.control,name:"name",render:({field:a})=>(0,Me.jsxs)(E,{children:[(0,Me.jsx)(L,{className:"text-sm text-(length:--font-size-label) font-normal",htmlFor:"organization-name",children:r("sections.settings.fields.name.label")}),(0,Me.jsx)(z,{children:(0,Me.jsx)(J,{id:"organization-name",placeholder:r("sections.settings.fields.name.placeholder"),error:!!e.formState.errors.name,"aria-invalid":!!e.formState.errors.name,readOnly:!0,...a})}),(0,Me.jsx)(O,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),(0,Me.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:r("sections.settings.fields.name.helper_text")})]})}),(0,Me.jsx)(I,{control:e.control,name:"display_name",render:({field:a})=>(0,Me.jsxs)(E,{children:[(0,Me.jsx)(L,{className:"text-sm text-(length:--font-size-label) font-normal",htmlFor:"organization-display-name",children:r("sections.settings.fields.display_name.label")}),(0,Me.jsx)(z,{children:(0,Me.jsx)(J,{id:"organization-display-name",placeholder:r("sections.settings.fields.display_name.placeholder"),error:!!e.formState.errors.display_name,"aria-invalid":!!e.formState.errors.display_name,readOnly:o,...a})}),(0,Me.jsx)(O,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),(0,Me.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:r("sections.settings.fields.display_name.helper_text")})]})})]})})}var vo=require("react/jsx-runtime");function El({organization:e,isLoading:o=!1,schema:t,customMessages:n={},styling:r={variables:{common:{},light:{},dark:{}},classes:{}},readOnly:a=!1,formActions:l}){let{t:i}=w("org_management.org_details",n),{isDarkMode:s}=G(),m=Lt.useMemo(()=>(0,za.getComponentStyles)(r,s),[r,s]),d=Lt.useMemo(()=>{let v=(x,y)=>{let C=t?.[x];return C?{...C,errorMessage:C.errorMessage||y}:{errorMessage:y}};return(0,za.createOrganizationDetailSchema)({name:v("name",i("sections.settings.fields.name.error")),displayName:v("displayName",i("sections.settings.fields.display_name.error")),color:v("color",i("sections.branding.fields.primary_color.error")),logoURL:v("logoURL",i("sections.branding.fields.logo.error"))})},[i,t]),c=Lt.useMemo(()=>({name:e.name,display_name:e.display_name,branding:{logo_url:e.branding.logo_url,colors:{primary:e.branding.colors.primary,page_background:e.branding.colors.page_background}}}),[e]),f=(0,Il.useForm)({resolver:(0,Al.zodResolver)(d),defaultValues:c,values:c}),u=f.formState.isDirty,g=Lt.useCallback(async v=>{if(l?.nextAction?.onClick){let x={...v,name:e.name,id:e.id};await l.nextAction.onClick(x)&&f.reset(v,{keepValues:!0,keepDirty:!1,keepTouched:!1})}},[l?.nextAction,e.id,f]),h=Lt.useCallback(v=>{f.reset(),l?.previousAction?.onClick?.(v)},[f,l?.previousAction?.onClick]);return o?(0,vo.jsx)(ee,{}):(0,vo.jsx)("div",{style:m.variables,className:"w-full space-y-6",children:(0,vo.jsx)(pe,{...f,children:(0,vo.jsx)("form",{onSubmit:f.handleSubmit(g),className:"space-y-6",children:(0,vo.jsx)(be,{"data-testid":"org-details-card",className:p("p-6",m.classes?.OrgDetails_Card),children:(0,vo.jsxs)("div",{className:"space-y-6",children:[(0,vo.jsx)(Ml,{form:f,readOnly:a,customMessages:n,className:m.classes?.OrgDetails_SettingsDetails}),(0,vo.jsx)(tt,{}),(0,vo.jsx)(Dl,{form:f,readOnly:a,customMessages:n,className:m.classes?.OrgDetails_BrandingDetails}),(0,vo.jsx)(ht,{hasUnsavedChanges:u,isLoading:l.isLoading,nextAction:{label:i("submit_button_label"),disabled:l?.nextAction?.disabled||!u||l.isLoading||a,type:"submit"},previousAction:{label:i("cancel_button_label"),disabled:l?.previousAction?.disabled||l.isLoading||a,onClick:h},showPrevious:l?.showPrevious,unsavedChangesText:i("unsaved_changes_text"),showUnsavedChanges:l?.showUnsavedChanges,align:l?.align,className:m.classes?.OrgDetails_FormActions})]})})})})})}var zl=require("lucide-react"),Ll=_(require("react"));var La=_(require("@radix-ui/react-switch"));var zn=require("react/jsx-runtime");function xo({className:e,...o}){return(0,zn.jsx)(La.Root,{"data-slot":"switch",className:p("theme-default:shadow-switch-resting data-[state=checked]:from-primary-foreground/0 data-[state=checked]:to-primary-foreground/25 from-primary-foreground/50 to-primary-foreground/0 bg-accent/50 hover:bg-accent/75 data-[state=checked]:hover:bg-primary theme-default:hover:shadow-switch-hover data-[state=checked]:bg-primary focus-visible:ring-ring focus-within:ring-ring relative h-7 w-[46px] rounded-full bg-gradient-to-l transition-all duration-150 ease-in-out focus-visible:ring-4 active:scale-95 disabled:cursor-not-allowed disabled:opacity-50",e),...o,children:(0,zn.jsx)(La.Thumb,{"data-slot":"switch-thumb",className:p("dark:bg-primary dark:shadow-switch-thumb-dark data-[state=checked]:dark:bg-background bg-background to-background/0 from-primary/5 shadow-switch-thumb data-[state=checked]:bg-background pointer-events-none absolute top-[4px] left-[4px] h-5 w-5 rounded-full bg-gradient-to-t transition-transform duration-150 ease-in-out data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var Ae=require("react/jsx-runtime"),Od=({icon:e,className:o,label:t,onClick:n,disabled:r,variant:a,size:l})=>(0,Ae.jsxs)(S,{onClick:n,disabled:r,variant:a,size:l,className:p("flex items-center gap-2 w-full sm:w-auto sm:min-w-fit",o),"aria-label":t,children:[e&&(0,Ae.jsx)(e,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),(0,Ae.jsx)("span",{className:"truncate",children:t})]}),Bd=({className:e,"aria-label":o,checked:t,onCheckedChange:n,disabled:r})=>(0,Ae.jsx)("div",{className:p("flex items-center gap-2",e),children:(0,Ae.jsx)(xo,{checked:t,onCheckedChange:n,disabled:r,"aria-label":o})}),ao=Ll.forwardRef(({title:e,description:o,backButton:t,actions:n,className:r,...a},l)=>{let i=t?.icon||zl.ArrowLeft,s=(m,d)=>{let c=`action-${d}`;return m.type==="switch"?(0,Ae.jsx)(Bd,{...m},c):(0,Ae.jsx)(Od,{...m},c)};return(0,Ae.jsxs)("div",{ref:l,className:p("w-full mb-8",r),role:"banner","aria-label":e?`${e} header`:"Header",...a,children:[t&&(0,Ae.jsxs)(S,{variant:"link",onClick:t.onClick,size:"default",className:"flex items-center text-sm mb-3","aria-label":t.text||"Go back",children:[(0,Ae.jsx)(i,{className:"h-4 w-4","aria-hidden":"true"}),t.text&&(0,Ae.jsx)("span",{children:t.text})]}),(0,Ae.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,Ae.jsxs)("div",{className:"flex flex-col min-w-0 flex-1",children:[e&&(0,Ae.jsx)("h1",{className:p("text-xl sm:text-2xl text-primary md:text-4xl font-bold leading-tight break-words text-left text-(length:--font-size-page-header) mb-0"),children:e}),o&&(0,Ae.jsx)("p",{className:p("text-base text-muted-foreground leading-relaxed break-words text-left text-(length:--font-size-page-description) mt-2"),children:o})]}),n&&n.length>0&&(0,Ae.jsx)("div",{className:"flex-shrink-0 flex items-start gap-2 mt-1",children:n.map(s)})]})]})});ao.displayName="Header";var lr=require("@auth0/web-ui-components-core"),Co=require("react");var Ol=require("lucide-react"),Bl=require("sonner"),Ln=require("react/jsx-runtime"),Hd={success:"text-success-foreground",error:"text-destructive-foreground",warning:"text-warning-foreground",info:"text-info-foreground"},H=({type:e,message:o,className:t,icon:n,data:r={}})=>{let a=Hd[e],l=(0,Ln.jsx)(Ol.Flag,{className:`h-4 w-4 ${a}`}),i=(0,Ln.jsx)("span",{className:a,children:o}),s={className:t,icon:n||l,...r};return Bl.toast[e](i,s)};De();function Oa({saveAction:e,cancelAction:o,readOnly:t=!1,customMessages:n={}}){let{t:r}=w("org_management.org_details_edit",n),{coreClient:a}=ie(),[l,i]=(0,Co.useState)(lr.OrgDetailsFactory.create()),[s,m]=(0,Co.useState)(!1),[d,c]=(0,Co.useState)(!1),f=!a,u=(0,Co.useCallback)(async()=>{if(a)try{m(!0);let v=await a.getMyOrgApiClient().organizationDetails.get(),x=lr.OrgDetailsMappers.fromAPI(v);i(x)}catch(v){let x=v instanceof Error?r("org_changes_error_message",{message:v.message}):r("org_changes_error_message_generic");H({type:"error",message:x})}finally{m(!1)}},[a,r]),g=(0,Co.useCallback)(async v=>{if(!a)return!1;try{if(c(!0),e?.onBefore&&!e.onBefore(v))return!1;let x=lr.OrgDetailsMappers.toAPI(v),y=await a.getMyOrgApiClient().organizationDetails.update(x),C=lr.OrgDetailsMappers.fromAPI(y);return i(C),H({type:"success",message:r("save_org_changes_message",{orgName:v.display_name||v.name})}),e?.onAfter&&e.onAfter(v),!0}catch(x){let y=x instanceof Error?r("org_changes_error_message",{message:x.message}):r("org_changes_error_message_generic");return H({type:"error",message:y}),!1}finally{c(!1)}},[e,r,a]),h=(0,Co.useMemo)(()=>({isLoading:d,previousAction:{disabled:o?.disabled||t||!l||d||f,onClick:()=>l?o?.onAfter?.(l):void 0},nextAction:{disabled:e?.disabled||t||!l||d||f,onClick:g}}),[g,t,o,e?.disabled,l,d,f]);return(0,Co.useEffect)(()=>{u()},[]),{organization:l,isFetchLoading:s,isSaveLoading:d,isInitializing:f,formActions:h,fetchOrgDetails:u,updateOrgDetails:g}}var $o=require("react/jsx-runtime");function Vd({schema:e,customMessages:o={},styling:t={variables:{common:{},light:{},dark:{}},classes:{}},readOnly:n=!1,saveAction:r,cancelAction:a,hideHeader:l=!1,backButton:i}){let{t:s}=w("org_management.org_details_edit",o),{isDarkMode:m}=G(),{organization:d,isFetchLoading:c,formActions:f}=Oa({saveAction:r,cancelAction:a,readOnly:n,customMessages:o}),u=Hl.useMemo(()=>(0,Ba.getComponentStyles)(t,m),[t,m]);return c?(0,$o.jsx)("div",{style:u.variables,className:"flex items-center justify-center min-h-96 w-full",children:(0,$o.jsx)(ee,{})}):(0,$o.jsxs)("div",{style:u.variables,className:"w-full",children:[!l&&(0,$o.jsx)("div",{className:"mb-8",children:(0,$o.jsx)(ao,{title:s("header.title",{orgName:d.display_name||d.name||""}),backButton:i&&{...i,text:s("header.back_button_text")}})}),(0,$o.jsx)("div",{className:"mb-8",children:(0,$o.jsx)(El,{organization:d,schema:e?.details,customMessages:o.details,styling:t,readOnly:n,formActions:f})})]})}var Vl=Mo(Vd,Ba.MY_ORG_DETAILS_EDIT_SCOPES);var pr=require("@auth0/web-ui-components-core"),Wl=require("lucide-react"),Xe=_(require("react"));var vt=_(require("react"));var Ao=require("react/jsx-runtime"),Re=({open:e,onOpenChange:o,title:t,description:n,content:r,modalActions:a,className:l,showCloseButton:i})=>{let s=t||n,m={hasUnsavedChanges:!0,showPrevious:!0,showUnsavedChanges:!1,previousAction:{label:"Cancel",variant:"outline",onClick:()=>o(!1)},nextAction:{label:"Confirm",variant:"primary",onClick:()=>o(!1)},...a};return(0,Ao.jsx)(qt,{open:e,onOpenChange:o,children:(0,Ao.jsxs)(Wt,{className:l,showCloseButton:i,children:[s&&(0,Ao.jsxs)(Yt,{children:[t&&(0,Ao.jsx)(Qt,{children:t}),n&&(0,Ao.jsx)(_i,{children:n})]}),r&&(0,Ao.jsx)("div",{className:"py-4",children:r}),(0,Ao.jsx)(Pi,{children:(0,Ao.jsx)(ht,{...m})})]})})};Re.displayName="Modal";var sr=require("react/jsx-runtime");function Ha({onChange:e,customMessages:o={},className:t}){let n=a=>{e("providerName",a.target.value)},{t:r}=w("idp_management.delete_sso_provider.modal.content",o);return(0,sr.jsxs)("div",{className:t,children:[(0,sr.jsx)("p",{id:"delete-modal-content-description",className:p("font-normal block text-sm text-left text-(length:--font-size-paragraph) text-muted-foreground mt-6 mb-6"),children:r("description")}),(0,sr.jsx)(ye,{htmlFor:"provider-name",className:"text-sm text-(length:--font-size-label) font-medium",children:r("field.label")}),(0,sr.jsx)(J,{id:"provider-name",type:"text",placeholder:r("field.placeholder"),onChange:n,className:"mt-2 mb-6"})]})}var cr=require("react/jsx-runtime");function Va({className:e,isOpen:o,onClose:t,provider:n,onDelete:r,isLoading:a=!1,customMessages:l={}}){let{t:i}=w("idp_management.delete_sso_provider",l),[s,m]=vt.useState(""),d=vt.useCallback((u,g)=>{m(g)},[]),c=vt.useCallback(async()=>{n&&(await r(n),t())},[r,n,t]),f=vt.useCallback(u=>{u||t()},[t]);return vt.useEffect(()=>{o&&m("")},[o]),(0,cr.jsx)(Re,{open:o,onOpenChange:f,className:p("p-10",e),title:i("modal.title",{providerName:n.name}),content:(0,cr.jsxs)("div",{className:"space-y-6",children:[(0,cr.jsx)("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph)"),children:i("modal.description",{providerName:n.name})}),(0,cr.jsx)(Ha,{onChange:d,customMessages:l.modal?.content})]}),modalActions:{nextAction:{type:"button",label:i("modal.actions.delete_button_label"),onClick:c,variant:"destructive",disabled:a||s!==n.name},previousAction:{label:i("modal.actions.cancel_button_label"),onClick:t}}})}var xt=_(require("react"));var dr=require("react/jsx-runtime");function Ua({className:e,isOpen:o,onClose:t,provider:n,organizationName:r,onRemove:a,isLoading:l=!1,customMessages:i={}}){let{t:s}=w("idp_management.remove_sso_provider",i),[m,d]=xt.useState(""),c=xt.useCallback((g,h)=>{d(h)},[]),f=xt.useCallback(async()=>{n&&(await a(n),t())},[a,n,t]),u=xt.useCallback(g=>{g||t()},[t]);return xt.useEffect(()=>{o&&d("")},[o]),(0,dr.jsx)(Re,{open:o,onOpenChange:u,className:p("p-10",e),title:s("modal.title",{providerName:n.name,organizationName:r}),content:(0,dr.jsxs)("div",{className:"space-y-6",children:[(0,dr.jsx)("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph)"),children:s("modal.description",{providerName:n.name})}),(0,dr.jsx)(Ha,{onChange:c,customMessages:i.modal?.content})]}),modalActions:{nextAction:{type:"button",label:s("modal.actions.remove_button_text"),onClick:f,variant:"destructive",disabled:l||m!==n.name},previousAction:{label:s("modal.actions.cancel_button_text"),onClick:t}}})}var Ot=require("lucide-react"),$r=_(require("react"));var Te=_(require("@radix-ui/react-dropdown-menu")),On=require("lucide-react");var qo=require("react/jsx-runtime");function Ga({...e}){return(0,qo.jsx)(Te.Root,{"data-slot":"dropdown-menu",...e})}function Ka({...e}){return(0,qo.jsx)(Te.Portal,{"data-slot":"dropdown-menu-portal",...e})}function $a({className:e,variant:o,size:t,...n}){return(0,qo.jsx)(Te.Trigger,{asChild:!0,...n,children:(0,qo.jsx)(S,{"data-slot":"dropdown-menu-trigger",className:p(Sn({variant:o,size:t}),e),children:n.children})})}function qa({className:e,sideOffset:o=4,...t}){return(0,qo.jsx)(Te.Portal,{children:(0,qo.jsx)(Te.Content,{"data-slot":"dropdown-menu-content",sideOffset:o,className:p("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 shadow-bevel-xl z-50 min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-2xl p-1 outline-none",e),...t})})}function Wo({className:e,inset:o,variant:t="default",...n}){return(0,qo.jsx)(Te.Item,{"data-slot":"dropdown-menu-item","data-inset":o,"data-variant":t,className:p("focus:bg-muted hover:bg-muted/50 focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-xl px-2 py-1.5 text-sm outline-none select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}var Ye=require("react/jsx-runtime");function Ul({provider:e,readOnly:o=!1,isUpdating:t=!1,customMessages:n={},edit:r,onToggleEnabled:a,onEdit:l,onDelete:i,onRemoveFromOrg:s}){let{t:m}=w("idp_management.sso_provider_table",n),d=$r.useCallback(g=>{a(e,g)},[e,a]),c=$r.useCallback(()=>{l(e)},[e,l]),f=$r.useCallback(()=>{i(e)},[e,i]),u=$r.useCallback(()=>{s(e)},[e,s]);return(0,Ye.jsxs)("div",{className:"flex items-center justify-end gap-4 min-w-0",children:[(0,Ye.jsx)(xo,{checked:e.is_enabled??!1,onCheckedChange:d,disabled:o||t}),(0,Ye.jsxs)(Ga,{children:[(0,Ye.jsx)($a,{className:"h-8 w-8 p-0 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 shadow-sm transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-800 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:(0,Ye.jsx)(Ot.MoreHorizontal,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),(0,Ye.jsx)(Ka,{children:(0,Ye.jsxs)(qa,{align:"end",children:[(0,Ye.jsxs)(Wo,{onClick:c,disabled:o||!r||r.disabled,children:[(0,Ye.jsx)(Ot.Edit,{className:"mr-2 h-4 w-4"}),m("table.actions.edit_button_text")]}),(0,Ye.jsxs)(Wo,{onClick:f,className:"text-destructive-foreground focus:text-destructive-foreground",disabled:o,children:[(0,Ye.jsx)(Ot.Trash2,{className:"mr-2 h-4 w-4"}),m("table.actions.delete_button_text")]}),(0,Ye.jsxs)(Wo,{onClick:u,className:"text-destructive-foreground focus:text-destructive-foreground",disabled:o,children:[(0,Ye.jsx)(Ot.Trash2,{className:"mr-2 h-4 w-4"}),m("table.actions.remove_button_text")]})]})})]})]})}var Yo=require("@tanstack/react-table"),bt=require("lucide-react"),mr=require("react");var Kl=require("react/jsx-runtime");function Gl({children:e,className:o}){return(0,Kl.jsx)("code",{className:p("bg-background theme-default:shadow-input-resting theme-default:bg-secondary shadow-bevel-xs relative rounded-lg px-[0.35rem] py-[0.2rem] font-mono text-sm font-medium tracking-tight",o),children:e})}var qr=require("lucide-react"),Bt=_(require("react"));var Ie=require("react/jsx-runtime"),Bn=Bt.default.forwardRef(({className:e,...o},t)=>(0,Ie.jsx)("div",{className:"shadow-bevel-sm w-full overflow-clip rounded-2xl",children:(0,Ie.jsx)("div",{className:"overflow-x-auto",children:(0,Ie.jsx)("table",{ref:t,className:p("w-full border-collapse",e),...o})})}));Bn.displayName="Table";var Hn=Bt.default.forwardRef(({className:e,...o},t)=>(0,Ie.jsx)("thead",{ref:t,className:p("bg-muted text-primary text-sm",e),...o}));Hn.displayName="TableHeader";var Vn=Bt.default.forwardRef(({className:e,...o},t)=>(0,Ie.jsx)("tbody",{ref:t,className:p("[&_tr:last-child]:border-0",e),...o}));Vn.displayName="TableBody";var Wr=Bt.default.forwardRef(({className:e,...o},t)=>(0,Ie.jsx)("tr",{ref:t,className:p("hover:bg-muted/50 border-border/50 border-b text-sm transition-colors",e),...o}));Wr.displayName="TableRow";var Un=Bt.default.forwardRef(({className:e,children:o,isSortable:t,sortDirection:n,...r},a)=>(0,Ie.jsx)("th",{ref:a,className:p("hover:bg-accent/10 border-border/50 border-b px-4 py-2 text-left",t&&"select-none",e),...r,children:(0,Ie.jsxs)("div",{className:"flex items-center gap-1",children:[o,t&&(0,Ie.jsxs)("div",{className:"ml-2 flex items-center",children:[n===!1&&(0,Ie.jsx)(S,{variant:"ghost",size:"sm",className:"px-0.5 py-1",children:(0,Ie.jsx)(qr.ChevronUpIcon,{className:"text-muted-foreground h-4 w-4"})}),n==="asc"&&(0,Ie.jsx)(S,{variant:"ghost",size:"sm",className:"px-0.5 py-1",children:(0,Ie.jsx)(qr.ChevronUpIcon,{className:"h-4 w-4"})}),n==="desc"&&(0,Ie.jsx)(S,{variant:"ghost",size:"sm",className:"px-0.5 py-1",children:(0,Ie.jsx)(qr.ChevronDownIcon,{className:"h-4 w-4"})})]})]})}));Un.displayName="TableHead";var Wa=Bt.default.forwardRef(({className:e,...o},t)=>(0,Ie.jsx)("td",{ref:t,className:p("px-4 py-2",e),...o}));Wa.displayName="TableCell";var W=require("react/jsx-runtime"),$l={text:{left:"text-left",center:"text-center",right:"text-right"},flex:{left:"justify-start",center:"justify-center",right:"justify-end"}},Ud=e=>e==null||e==="",Gd=(e,o="medium")=>{let t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";switch(o){case"short":return t.toLocaleDateString();case"long":return t.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});case"relative":{let n=new Date,r=t.getTime()-n.getTime(),a=Math.ceil(r/(1e3*60*60*24));return Math.abs(a)===0?"Today":a===1?"Tomorrow":a===-1?"Yesterday":a>0?`In ${a} days`:`${Math.abs(a)} days ago`}case"medium":default:return t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}},Kd={copyTooltip:"Copy to clipboard",copiedTooltip:"Copied!"};function $d({value:e,labels:o=Kd}){let[t,n]=(0,mr.useState)(!1),[r,a]=(0,mr.useState)(!1),l=async i=>{if(i.stopPropagation(),!!e)try{await navigator.clipboard.writeText(String(e)),n(!0),a(!0),setTimeout(()=>{n(!1),a(!1)},2e3)}catch(s){console.error("Failed to copy text:",s)}};return(0,W.jsxs)(Gl,{className:"w-full flex items-center justify-between gap-2 pr-1",children:[(0,W.jsx)("span",{className:"truncate text-muted-foreground",children:String(e)}),(0,W.jsxs)(pt,{open:r,onOpenChange:a,children:[(0,W.jsx)(ut,{asChild:!0,children:(0,W.jsx)(S,{variant:"ghost",size:"sm",onClick:l,className:"h-6 w-6 p-0 hover:bg-muted/50 shrink-0","aria-label":t?o.copiedTooltip:o.copyTooltip,children:(0,W.jsx)(bt.Copy,{className:"h-3 w-3"})})}),(0,W.jsx)(Uo,{children:(0,W.jsx)("p",{children:t?o.copiedTooltip:o.copyTooltip})})]})]})}function qd(e,o,t){return t.render?t.render(e,o):(0,W.jsx)("span",{className:"text-muted-foreground",children:String(o)})}function Wd(e,o,t){if(t.render)return t.render(e,o);let n=Gd(o,t.format);return(0,W.jsx)("span",{className:"text-muted-foreground",title:new Date(o).toISOString(),children:n})}function Yd(e,o,t){return(0,W.jsx)("div",{onClick:r=>r.stopPropagation(),children:(0,W.jsx)(xo,{checked:!!o,onCheckedChange:r=>{t.onToggle?.(r,e)}})})}function Qd(e,o){let t=n=>{n.stopPropagation(),o.onClick(e)};return(0,W.jsx)(S,{variant:o.variant,size:"sm",onClick:t,children:o.buttonText})}function Xd(e,o){return(0,W.jsx)(go,{variant:o.variant,children:String(e)})}function Jd(e){return(0,W.jsx)($d,{value:e})}function jd({title:e,subtitle:o,action:t}){return(0,W.jsxs)("div",{className:"text-center py-12",children:[(0,W.jsx)("h3",{className:"text-md font-semibold text-foreground mb-2",children:e}),o&&(0,W.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:o}),t&&(0,W.jsx)(S,{variant:t.variant,onClick:t.onClick,children:t.label})]})}function Zd({direction:e}){return(0,W.jsx)(e==="asc"?bt.ChevronUpIcon:e==="desc"?bt.ChevronDownIcon:bt.ArrowUpDownIcon,{className:e?"h-4 w-4":"h-4 w-4 opacity-50"})}function Io({data:e,columns:o,loading:t=!1,loader:n,emptyState:r,onRowClick:a,className:l,headerAlign:i="left"}){let[s,m]=(0,mr.useState)([]),d=(0,mr.useMemo)(()=>o.map((f,u)=>({id:`column-${u}`,accessorKey:f.accessorKey,header:f.title,size:f.width?isNaN(Number(f.width))?void 0:Number(f.width):void 0,enableSorting:f.enableSorting!==!1&&!!f.accessorKey,meta:{headerAlign:f.headerAlign||i||"left",column:f},cell:({getValue:g,row:h})=>{let v=g(),x=h.original;if(f.type==="actions")return(0,W.jsx)("div",{onClick:y=>y.stopPropagation(),children:f.render(x)});if(f.type==="custom")return(0,W.jsx)(W.Fragment,{children:f.render(x,v)});if(f.type==="switch")return Yd(x,v,f);if(f.type==="button")return Qd(x,f);if(Ud(v))return null;switch(f.type){case"text":return qd(x,v,f);case"date":return Wd(x,v,f);case"copy":return Jd(v);case"badge":return Xd(v,f);default:return(0,W.jsx)("span",{className:"text-foreground",children:String(v)})}}})),[o,i]),c=(0,Yo.useReactTable)({data:e,columns:d,state:{sorting:s},onSortingChange:m,getCoreRowModel:(0,Yo.getCoreRowModel)(),getSortedRowModel:(0,Yo.getSortedRowModel)(),manualPagination:!0});return t?(0,W.jsx)("div",{className:p("w-full flex items-center justify-center py-8",l),children:n||(0,W.jsx)(ee,{})}):(0,W.jsx)("div",{className:p("w-full",l),children:(0,W.jsxs)(Bn,{children:[(0,W.jsx)(Hn,{children:c.getHeaderGroups().map(f=>(0,W.jsx)(Wr,{children:f.headers.map(u=>{let g=u.column.getCanSort(),h=u.column.getIsSorted(),v=u.column.columnDef.meta;return(0,W.jsx)(Un,{className:p(g&&"cursor-pointer select-none hover:bg-muted/50","transition-colors",$l.text[v.headerAlign]),style:{width:v.column.width,minWidth:v.column.width,maxWidth:v.column.width},onClick:g?u.column.getToggleSortingHandler():void 0,children:(0,W.jsxs)("div",{className:p("flex items-center space-x-2",$l.flex[v.headerAlign]),children:[(0,W.jsx)("span",{children:(0,Yo.flexRender)(u.column.columnDef.header,u.getContext())}),g&&(0,W.jsx)(Zd,{direction:h})]})},u.id)})},f.id))}),(0,W.jsx)(Vn,{children:c.getRowModel().rows.length===0?(0,W.jsx)(Wr,{children:(0,W.jsx)(Wa,{colSpan:o.length,children:(0,W.jsx)(jd,{...r??{title:"No data available",subtitle:"There are no items to display."}})})}):c.getRowModel().rows.map(f=>(0,W.jsx)(Wr,{className:p(a&&"cursor-pointer hover:bg-muted/50","transition-colors"),onClick:()=>a?.(f.original),children:f.getVisibleCells().map(u=>{let g=u.column.columnDef.meta;return(0,W.jsx)(Wa,{className:"text-left",style:{width:g.column.width,minWidth:g.column.width,maxWidth:g.column.width},children:(0,Yo.flexRender)(u.column.columnDef.cell,u.getContext())},u.id)})},f.id))})]})})}var Ya=require("@auth0/web-ui-components-core"),Qe=require("react");De();function ql(e,o,t,n={}){let{t:r}=w("idp_management.notifications",n),{coreClient:a}=ie(),[l,i]=(0,Qe.useState)([]),[s,m]=(0,Qe.useState)(null),[d,c]=(0,Qe.useState)(!1),[f,u]=(0,Qe.useState)(!1),[g,h]=(0,Qe.useState)(!1),[v,x]=(0,Qe.useState)(!1),y=!a||d,C=(0,Qe.useCallback)(async()=>{if(!a)return null;try{let N=await a.getMyOrgApiClient().organizationDetails.get(),R=Ya.OrgDetailsMappers.fromAPI(N);return m(R),R}catch{return H({type:"error",message:r("general_error")}),null}},[a,r]),F=(0,Qe.useCallback)(async()=>{if(a)try{c(!0);let R=(await a.getMyOrgApiClient().organization.identityProviders.list())?.identity_providers??[];i(R)}catch{H({type:"error",message:r("general_error")})}finally{c(!1)}},[a,r]),P=(0,Qe.useCallback)(async(N,R)=>{if(!N||!a||!N.id)return!1;try{if(x(!0),t?.onBefore&&!t.onBefore(N))return!1;let $=Ya.SsoProviderMappers.updateToAPI({strategy:N.strategy,is_enabled:R}),oe=await a.getMyOrgApiClient().organization.identityProviders.update(N.id,$);return t?.onAfter&&await t.onAfter(N),H({type:"success",message:r("update_success",{providerName:N.display_name})}),i(re=>re.map(A=>A.id===N.id?{...A,...oe}:A)),!0}catch{return H({type:"error",message:r("general_error")}),!1}finally{x(!1)}},[t,r,a]),b=(0,Qe.useCallback)(async N=>{if(!(!N||!a||!N.id))try{u(!0),await a.getMyOrgApiClient().organization.identityProviders.delete(N.id),e?.onAfter&&await e.onAfter(N),H({type:"success",message:r("delete_success",{providerName:N.display_name})}),await F()}catch{H({type:"error",message:r("general_error")})}finally{u(!1)}},[e,F,r,a]),k=(0,Qe.useCallback)(async N=>{if(!(!N||!a||!N.id))try{h(!0);let R=await C();await a.getMyOrgApiClient().organization.identityProviders.detach(N.id),o?.onAfter&&await o.onAfter(N),H({type:"success",message:r("remove_success",{providerName:N.display_name,organizationName:R?.display_name})}),await F()}catch{H({type:"error",message:r("general_error")})}finally{h(!1)}},[o,F,C,r,a]);return(0,Qe.useEffect)(()=>{a&&(c(!0),Promise.allSettled([F(),C()]).finally(()=>{c(!1)}))},[a]),{providers:l,organization:s,isLoading:y,isDeleting:f,isRemoving:g,isUpdating:v,fetchProviders:F,fetchOrganizationDetails:C,onDeleteConfirm:b,onRemoveConfirm:k,onEnableProvider:P}}var Ze=require("react/jsx-runtime");function em({customMessages:e={},styling:o={variables:{common:{},light:{},dark:{}},classes:{}},readOnly:t=!1,createAction:n,editAction:r,deleteAction:a,deleteFromOrgAction:l,enableProviderAction:i}){let{isDarkMode:s}=G(),{t:m}=w("idp_management.sso_provider_table",e),{providers:d,isLoading:c,isDeleting:f,isRemoving:u,isUpdating:g,onDeleteConfirm:h,onRemoveConfirm:v,onEnableProvider:x,organization:y}=ql(a,l,i,e),[C,F]=Xe.useState(!1),[P,b]=Xe.useState(!1),[k,N]=Xe.useState(null),R=Xe.useMemo(()=>(0,pr.getComponentStyles)(o,s),[o,s]),$=Xe.useCallback(()=>{n?.onAfter&&n.onAfter()},[n]),oe=Xe.useCallback(X=>{r?.onAfter&&r.onAfter(X)},[r]),re=Xe.useCallback(X=>{N(X),!(a?.onBefore&&!a.onBefore(X))&&F(!0)},[a]),A=Xe.useCallback(X=>{N(X),!(l?.onBefore&&!l.onBefore(X))&&b(!0)},[l]),Q=Xe.useCallback(async(X,_e)=>{t||!x||await x(X,_e)},[t,x]),U=Xe.useCallback(async X=>{await h(X),F(!1),N(null)},[h,k]),V=Xe.useCallback(async X=>{await v(X),b(!1),N(null)},[v]),fe=Xe.useMemo(()=>[{type:"text",accessorKey:"name",title:m("table.columns.name"),width:"25%",render:X=>(0,Ze.jsx)("div",{className:"font-medium text-muted-foreground",children:X.name})},{type:"text",accessorKey:"display_name",width:"30%",title:m("table.columns.display_name"),render:X=>(0,Ze.jsx)("div",{className:"text-muted-foreground",children:X.display_name})},{type:"text",accessorKey:"strategy",title:m("table.columns.identity_provider"),width:"25%",render:X=>(0,Ze.jsx)("div",{className:"text-muted-foreground",children:pr.STRATEGY_DISPLAY_NAMES[X.strategy]})},{type:"actions",title:"",width:"20%",render:X=>(0,Ze.jsx)(Ul,{provider:X,readOnly:t,isUpdating:g,customMessages:e,edit:r,onToggleEnabled:Q,onEdit:oe,onDelete:re,onRemoveFromOrg:A})}],[m,t,r,g,oe,re,A,Q]);return c?(0,Ze.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,Ze.jsx)(ee,{})}):(0,Ze.jsxs)("div",{style:R.variables,children:[(0,Ze.jsx)("div",{className:R.classes?.["SsoProviderTable-header"],children:(0,Ze.jsx)(ao,{title:m("header.title"),description:m("header.description"),actions:[{type:"button",label:m("header.create_button_text"),onClick:()=>$(),icon:Wl.Plus,disabled:n?.disabled||t}]})}),(0,Ze.jsx)(Io,{columns:fe,data:d,emptyState:{title:m("table.empty_message")},className:R.classes?.["SsoProviderTable-table"]}),k&&(0,Ze.jsx)(Va,{className:R.classes?.["SsoProviderTable-deleteProviderModal"],isOpen:C,onClose:()=>F(!1),provider:k,onDelete:U,isLoading:f,customMessages:e.delete_modal}),k&&(0,Ze.jsx)(Ua,{className:R.classes?.["SsoProviderTable-deleteProviderFromOrgModal"],isOpen:P,onClose:()=>b(!1),provider:k,organizationName:y?.name,onRemove:V,isLoading:u,customMessages:e.remove_modal})]})}var Yl=Mo(em,pr.MY_ORG_SSO_PROVIDER_TABLE_SCOPES);var Dr=require("@auth0/web-ui-components-core"),_o=require("react"),gc=require("sonner");var Nr=_(require("react"));var Pt=require("@auth0/web-ui-components-core"),Ss=_(require("react"));var Ql=require("@auth0/web-ui-components-core"),Xl=require("@hookform/resolvers/zod"),hr=_(require("react")),Jl=require("react"),jl=require("react-hook-form");var Qa=require("lucide-react"),Eo=_(require("react"));var He=require("react/jsx-runtime");function ur({value:e=[],onChange:o,onRemove:t,maxSize:n,accept:r,maxFiles:a=1,preview:l=!0,className:i,disabled:s,...m}){let d=Eo.useRef(null),[c,f]=Eo.useState(!1),u=Eo.useCallback(y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?f(!0):y.type==="dragleave"&&f(!1)},[]),g=Eo.useCallback(y=>{y.preventDefault(),y.stopPropagation(),f(!1);let C=Array.from(y.dataTransfer.files);v(C)},[]),h=Eo.useCallback(y=>{let C=Array.from(y.target.files||[]);v(C)},[]),v=Eo.useCallback(y=>{if(s)return;let C=y.filter(F=>!(n&&F.size>n||r&&!r.split(",").some(P=>{let b=P.trim();return b.startsWith(".")?F.name.toLowerCase().endsWith(b.toLowerCase()):F.type.match(new RegExp(b.replace("*",".*")))})));o?.(a===1?C.slice(0,1):[...e,...C].slice(0,a)),d.current&&(d.current.value="")},[s,n,r,a,o,e]),x=Eo.useCallback(y=>{t?.(y),o?.(e.filter(C=>C!==y))},[o,t,e]);return(0,He.jsxs)("div",{className:p("space-y-4",i),children:[(0,He.jsxs)("div",{onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:g,className:p("border-muted-foreground/25 relative flex min-h-[150px] cursor-pointer items-center justify-center rounded-lg border-2 border-dashed p-4 text-center transition-colors",c&&"border-primary",s&&"cursor-not-allowed opacity-60",i),children:[(0,He.jsx)("input",{ref:d,type:"file",multiple:a!==1,accept:r,onChange:h,disabled:s,className:"absolute inset-0 cursor-pointer opacity-0 disabled:cursor-not-allowed",...m}),(0,He.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,He.jsx)(Qa.Upload,{className:"text-muted-foreground h-8 w-8"}),(0,He.jsx)("p",{className:"text-muted-foreground text-sm",children:"Drag & drop files here, or click to select files"}),r&&(0,He.jsxs)("p",{className:"text-muted-foreground text-xs",children:["Allowed files: ",r]}),n&&(0,He.jsxs)("p",{className:"text-muted-foreground text-xs",children:["Max size: ",(n/1024/1024).toFixed(2),"MB"]})]})]}),l&&e.length>0&&(0,He.jsx)("div",{className:"grid gap-4",children:e.map((y,C)=>(0,He.jsxs)("div",{className:"flex items-center gap-2 rounded-md border p-2",children:[(0,He.jsxs)("div",{className:"flex-1 truncate",children:[(0,He.jsx)("p",{className:"text-sm font-medium",children:y.name}),(0,He.jsxs)("p",{className:"text-muted-foreground text-xs",children:[(y.size/1024).toFixed(2),"KB"]})]}),(0,He.jsx)("button",{type:"button",onClick:()=>x(y),className:"hover:bg-muted shrink-0 rounded-md p-1 transition-colors",disabled:s,children:(0,He.jsx)(Qa.X,{className:"size-4"})})]},C))})]})}var fr=_(require("@radix-ui/react-radio-group"));var Xa=require("react/jsx-runtime");function gr({className:e,...o}){return(0,Xa.jsx)(fr.RadioGroup,{"data-slot":"radio-group",className:p("space-y-2",e),...o})}function Qo({className:e,...o}){return(0,Xa.jsx)(fr.Item,{"data-slot":"radio-group-item",className:p("shadow-checkbox-resting peer border-border hover:shadow-checkbox-hover data-[state=checked]:hover:border-primary data-[state=checked]:border-primary hover:border-accent focus-visible:ring-ring data-[disabled]:border-border/50 data-[disabled]:bg-muted/50 data-[disabled]:data-[state=checked]:border-border/50 size-5 appearance-none rounded-full border transition-all duration-150 ease-in-out focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:cursor-not-allowed data-[state=checked]:border-7",e),...o,children:(0,Xa.jsx)(fr.Indicator,{"data-slot":"radio-group-indicator",className:"fill-primary-foreground top-1/2 left-1/2 hidden size-2 -translate-x-1/2 -translate-y-1/2 data-[checked]:absolute"})})}var j=require("react/jsx-runtime"),Zl=hr.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),[s,m]=(0,Jl.useState)([]),d=o,c=(0,jl.useForm)({resolver:(0,Xl.zodResolver)((0,Ql.createProviderConfigureSchema)("adfs")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{meta_data_source:d?.meta_data_source||"meta_data_url",meta_data_location_url:d?.meta_data_location_url||"",adfs_server:d?.adfs_server||"",fedMetadataXml:d?.fedMetadataXml||""}}),{isDirty:f}=c.formState;hr.useEffect(()=>{a?.(f)},[f,a]),hr.useImperativeHandle(l,()=>({validate:async()=>await c.trigger(),getData:()=>c.getValues(),isDirty:()=>c.formState.isDirty}));let g=c.watch("meta_data_source")==="meta_data_file",h=v=>{m(v),v.length>0&&c.setValue("fedMetadataXml",v[0].name)};return(0,j.jsx)(pe,{...c,children:(0,j.jsxs)("div",{className:p("space-y-6",r),children:[(0,j.jsx)(I,{control:c.control,name:"meta_data_source",render:({field:v})=>(0,j.jsxs)(E,{children:[(0,j.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.adfs.meta_data_source.label")}),(0,j.jsx)(z,{children:(0,j.jsxs)(gr,{value:v.value,onValueChange:v.onChange,disabled:t,className:"flex flex-col space-y-2",children:[(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)(Qo,{value:"meta_data_url",id:"meta_data_url"}),(0,j.jsx)(ye,{htmlFor:"meta_data_url",className:"text-sm font-normal cursor-pointer",children:i("fields.adfs.meta_data_source.options.meta_data_url.label")})]}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,j.jsx)(Qo,{value:"meta_data_file",id:"meta_data_file"}),(0,j.jsx)(ye,{htmlFor:"meta_data_file",className:"text-sm font-normal cursor-pointer",children:i("fields.adfs.meta_data_source.options.meta_data_file.label")})]})]})}),(0,j.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})}),(0,j.jsx)(I,{control:c.control,name:"adfs_server",render:({field:v,fieldState:x})=>(0,j.jsxs)(E,{children:[(0,j.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.adfs.meta_data_url.label")}),(0,j.jsx)(z,{children:(0,j.jsx)(J,{type:"url",placeholder:i("fields.adfs.meta_data_url.placeholder"),error:!!x.error,readOnly:t,"aria-required":!0,"aria-invalid":!!x.error,...v})}),(0,j.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,j.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.adfs.meta_data_url.helper_text")})]})}),(0,j.jsx)(I,{control:c.control,name:"meta_data_location_url",render:({field:v,fieldState:x})=>(0,j.jsxs)(E,{children:[(0,j.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.adfs.meta_data_location_url.label")}),(0,j.jsx)(z,{children:(0,j.jsx)(se,{type:"url",placeholder:i("fields.adfs.meta_data_location_url.placeholder"),error:!!x.error,readOnly:t,...v})}),(0,j.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,j.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.adfs.meta_data_location_url.helper_text")})]})}),g&&(0,j.jsx)(I,{control:c.control,name:"fedMetadataXml",render:()=>(0,j.jsxs)(E,{children:[(0,j.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.adfs.federation_metadata_file.label")}),(0,j.jsx)(z,{children:(0,j.jsx)("div",{className:"space-y-3",children:(0,j.jsx)(ur,{accept:".pem",onChange:h,value:s,maxFiles:1,disabled:t,className:"w-full",placeholder:i("fields.adfs.federation_metadata_file.placeholder")})})}),(0,j.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,j.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.adfs.federation_metadata_file.helper_text")})]})})]})})});var es=require("@auth0/web-ui-components-core"),os=require("@hookform/resolvers/zod"),wt=_(require("react")),ts=require("react-hook-form");De();var ae=require("react/jsx-runtime"),rs=wt.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),{coreClient:s}=ie(),m=wt.useMemo(()=>`https://${s?.auth?.domain||"your domain"}/login/callback`,[s?.auth?.domain]),d=o,c=(0,ts.useForm)({resolver:(0,os.zodResolver)((0,es.createProviderConfigureSchema)("google-apps")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{domain:d?.domain||"",client_id:d?.client_id||"",client_secret:d?.client_secret||"",callback_url:m||""}}),{isDirty:f}=c.formState;return wt.useEffect(()=>{a?.(f)},[f,a]),wt.useImperativeHandle(l,()=>({validate:async()=>await c.trigger(),getData:()=>c.getValues(),isDirty:()=>c.formState.isDirty})),(0,ae.jsx)(pe,{...c,children:(0,ae.jsxs)("div",{className:p("space-y-6",r),children:[(0,ae.jsx)(I,{control:c.control,name:"domain",render:({field:u,fieldState:g})=>(0,ae.jsxs)(E,{children:[(0,ae.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.google-apps.domain.label")}),(0,ae.jsx)(z,{children:(0,ae.jsx)(J,{type:"text",placeholder:i("fields.google-apps.domain.placeholder"),error:!!g.error,readOnly:t,...u})}),(0,ae.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})}),(0,ae.jsx)(I,{control:c.control,name:"client_id",render:({field:u,fieldState:g})=>(0,ae.jsxs)(E,{children:[(0,ae.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.google-apps.client_id.label")}),(0,ae.jsx)(z,{children:(0,ae.jsx)(se,{type:"text",placeholder:i("fields.google-apps.client_id.placeholder"),error:!!g.error,readOnly:t,...u})}),(0,ae.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,ae.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.google-apps.client_id.helper_text")})]})}),(0,ae.jsx)(I,{control:c.control,name:"client_secret",render:({field:u,fieldState:g})=>(0,ae.jsxs)(E,{children:[(0,ae.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.google-apps.client_secret.label")}),(0,ae.jsx)(z,{children:(0,ae.jsx)(se,{type:"password",placeholder:i("fields.google-apps.client_secret.placeholder"),error:!!g.error,readOnly:t,...u})}),(0,ae.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,ae.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.google-apps.client_secret.helper_text")})]})}),(0,ae.jsx)(I,{control:c.control,name:"callback_url",render:({field:u,fieldState:g})=>(0,ae.jsxs)(E,{children:[(0,ae.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.google-apps.callback_url.label")}),(0,ae.jsx)(z,{children:(0,ae.jsx)(se,{type:"text",placeholder:i("fields.google-apps.callback_url.placeholder"),error:!!g.error,readOnly:!0,...u})}),(0,ae.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,ae.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.google-apps.callback_url.helper_text")})]})})]})})});var as=require("@auth0/web-ui-components-core"),ns=require("@hookform/resolvers/zod"),Ht=_(require("react")),is=require("react-hook-form");var Z=require("react/jsx-runtime"),ls=Ht.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),s=o,m=(0,is.useForm)({resolver:(0,ns.zodResolver)((0,as.createProviderConfigureSchema)("oidc")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{discovery_url:s?.discovery_url||"",type:s?.type||"back_channel",client_id:s?.client_id||"",client_secret:s?.client_secret||""}}),{isDirty:d}=m.formState;Ht.useEffect(()=>{a?.(d)},[d,a]),Ht.useImperativeHandle(l,()=>({validate:async()=>await m.trigger(),getData:()=>m.getValues(),isDirty:()=>m.formState.isDirty}));let c=m.watch("type"),f=c==="back_channel";return Ht.useEffect(()=>{c==="front_channel"&&(m.clearErrors("client_secret"),m.setValue("client_secret","",{shouldValidate:!1}))},[c,m]),(0,Z.jsx)(pe,{...m,children:(0,Z.jsxs)("div",{className:p("space-y-6",r),children:[(0,Z.jsx)(I,{control:m.control,name:"discovery_url",render:({field:u,fieldState:g})=>(0,Z.jsxs)(E,{children:[(0,Z.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.oidc.discovery_url.label")}),(0,Z.jsx)(z,{children:(0,Z.jsx)(J,{type:"url",placeholder:i("fields.oidc.discovery_url.placeholder"),error:!!g.error,readOnly:t,"aria-required":!0,"aria-invalid":!!g.error,...u})}),(0,Z.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,Z.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.oidc.discovery_url.helper_text")})]})}),(0,Z.jsx)(I,{control:m.control,name:"type",render:({field:u})=>(0,Z.jsxs)(E,{children:[(0,Z.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.oidc.type.label")}),(0,Z.jsx)(z,{children:(0,Z.jsxs)(gr,{value:u.value,onValueChange:u.onChange,disabled:t,className:"flex flex-col space-y-2",children:[(0,Z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Z.jsx)(Qo,{value:"back_channel",id:"back_channel"}),(0,Z.jsx)(ye,{htmlFor:"back_channel",className:"text-sm font-normal cursor-pointer",children:i("fields.oidc.type.options.back_channel.label")})]}),(0,Z.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Z.jsx)(Qo,{value:"front_channel",id:"front_channel"}),(0,Z.jsx)(ye,{htmlFor:"front_channel",className:"text-sm font-normal cursor-pointer",children:i("fields.oidc.type.options.front_channel.label")})]})]})}),(0,Z.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,Z.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.oidc.type.helper_text")})]})}),(0,Z.jsx)(I,{control:m.control,name:"client_id",render:({field:u,fieldState:g})=>(0,Z.jsxs)(E,{children:[(0,Z.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.oidc.client_id.label")}),(0,Z.jsx)(z,{children:(0,Z.jsx)(se,{type:"text",placeholder:i("fields.oidc.client_id.placeholder"),error:!!g.error,readOnly:t,"aria-required":!0,"aria-invalid":!!g.error,...u})}),(0,Z.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,Z.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.oidc.client_id.helper_text")})]})}),f&&(0,Z.jsx)(I,{control:m.control,name:"client_secret",render:({field:u,fieldState:g})=>(0,Z.jsxs)(E,{children:[(0,Z.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.oidc.client_secret.label")}),(0,Z.jsx)(z,{children:(0,Z.jsx)(se,{type:"password",placeholder:i("fields.oidc.client_secret.placeholder"),error:!!g.error,readOnly:t,"aria-required":!0,"aria-invalid":!!g.error,...u})}),(0,Z.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,Z.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.oidc.client_secret.helper_text")})]})})]})})});var ds=require("@auth0/web-ui-components-core"),ms=require("@hookform/resolvers/zod"),kt=_(require("react")),ps=require("react-hook-form");De();var ss=require("class-variance-authority");var cs=require("react/jsx-runtime"),om=(0,ss.cva)("focus-within:ring-ring inline-flex items-center gap-2 rounded-md py-0.5 underline-offset-4 transition-colors focus:ring-3 focus-visible:outline-hidden",{variants:{variant:{destructive:"text-destructive hover:text-destructive/90",muted:"text-muted hover:text-muted/80",primary:"text-primary hover:text-primary/90"},underline:{none:"no-underline",hover:"no-underline hover:underline",always:"underline"}},defaultVariants:{variant:"primary",underline:"always"}});function yt({ref:e,className:o,children:t,variant:n,underline:r,...a}){return(0,cs.jsx)("a",{ref:e,className:p(om({variant:n,underline:r}),o),...a,children:t})}var Y=require("react/jsx-runtime"),Gn={domain:"https://developer.okta.com/docs/guides/find-your-domain/main/",client_id:"https://developer.okta.com/docs/guides/find-your-app-credentials/main",client_secret:"https://developer.okta.com/docs/guides/find-your-app-credentials/main"},us=kt.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),{coreClient:s}=ie(),m=kt.useMemo(()=>`https://${s?.auth?.domain||"your domain"}/login/callback`,[s?.auth?.domain]),d=o,c=(0,ps.useForm)({resolver:(0,ms.zodResolver)((0,ds.createProviderConfigureSchema)("okta")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{domain:d?.domain||"",client_id:d?.client_id||"",client_secret:d?.client_secret||"",icon_url:d?.icon_url||"",callback_url:d?.callback_url||m}}),{isDirty:f}=c.formState;return kt.useEffect(()=>{a?.(f)},[f,a]),kt.useImperativeHandle(l,()=>({validate:async()=>await c.trigger(),getData:()=>c.getValues(),isDirty:()=>c.formState.isDirty})),(0,Y.jsx)(pe,{...c,children:(0,Y.jsxs)("div",{className:p("space-y-6",r),children:[(0,Y.jsx)(I,{control:c.control,name:"domain",render:({field:u,fieldState:g})=>(0,Y.jsxs)(E,{children:[(0,Y.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.okta.domain.label")}),(0,Y.jsx)(z,{children:(0,Y.jsx)(J,{type:"text",placeholder:i("fields.okta.domain.placeholder"),error:!!g.error,readOnly:t,...u})}),(0,Y.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,Y.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:(0,Y.jsx)(Y.Fragment,{children:i.trans("fields.okta.domain.helper_text",{components:{link:h=>(0,Y.jsx)(yt,{href:Gn.domain,target:"_blank",rel:"noopener noreferrer",children:h})}})})})]})}),(0,Y.jsx)(I,{control:c.control,name:"client_id",render:({field:u,fieldState:g})=>(0,Y.jsxs)(E,{children:[(0,Y.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.okta.client_id.label")}),(0,Y.jsx)(z,{children:(0,Y.jsx)(se,{type:"text",placeholder:i("fields.okta.client_id.placeholder"),error:!!g.error,readOnly:t,...u})}),(0,Y.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,Y.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:(0,Y.jsx)(Y.Fragment,{children:i.trans("fields.okta.client_id.helper_text",{components:{link:h=>(0,Y.jsx)(yt,{href:Gn.client_id,target:"_blank",rel:"noopener noreferrer",children:h})}})})})]})}),(0,Y.jsx)(I,{control:c.control,name:"client_secret",render:({field:u,fieldState:g})=>(0,Y.jsxs)(E,{children:[(0,Y.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.okta.client_secret.label")}),(0,Y.jsx)(z,{children:(0,Y.jsx)(se,{type:"password",placeholder:i("fields.okta.client_secret.placeholder"),error:!!g.error,readOnly:t,...u})}),(0,Y.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,Y.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:(0,Y.jsx)(Y.Fragment,{children:i.trans("fields.okta.client_secret.helper_text",{components:{link:h=>(0,Y.jsx)(yt,{href:Gn.client_secret,target:"_blank",rel:"noopener noreferrer",children:h})}})})})]})}),(0,Y.jsx)(I,{control:c.control,name:"callback_url",render:({field:u,fieldState:g})=>(0,Y.jsxs)(E,{children:[(0,Y.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.okta.callback_url.label")}),(0,Y.jsx)(z,{children:(0,Y.jsx)(se,{type:"text",placeholder:i("fields.okta.callback_url.placeholder"),error:!!g.error,readOnly:!0,...u})}),(0,Y.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,Y.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.okta.callback_url.helper_text")})]})})]})})});var gs=require("@auth0/web-ui-components-core"),hs=require("@hookform/resolvers/zod"),Rr=_(require("react")),vs=require("react"),xs=require("react-hook-form");var zo=_(require("@radix-ui/react-accordion")),fs=require("lucide-react");var Xo=require("react/jsx-runtime");function vr({className:e,...o}){return(0,Xo.jsx)(zo.Root,{"data-slot":"accordion",className:p("w-full space-y-2 bg-card",e),...o})}function xr({className:e,...o}){return(0,Xo.jsx)(zo.Item,{"data-slot":"accordion-item",className:p("text-card-foreground shadow-bevel-2xl flex flex-col rounded-2xl transition-all duration-150 ease-in-out",e),...o})}function br({className:e,children:o,...t}){return(0,Xo.jsx)(zo.Header,{className:"flex",children:(0,Xo.jsxs)(zo.Trigger,{"data-slot":"accordion-trigger",className:p("group text-foreground focus-visible:ring-ring flex w-full items-center justify-between px-4 py-3 text-sm font-medium transition-all duration-150 ease-in-out focus-visible:ring-2 focus-visible:outline-hidden disabled:cursor-not-allowed [&[data-state=open]>svg]:rotate-180",e),...t,children:[o,(0,Xo.jsx)(fs.ChevronDown,{className:"text-muted-foreground size-4 shrink-0 transition-transform duration-150"})]})})}function wr({className:e,children:o,...t}){return(0,Xo.jsx)(zo.Content,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...t,children:(0,Xo.jsx)("div",{className:p("text-muted-foreground border-border animate-in fade-in-50 mx-4 min-h-10 border-t py-3 text-sm transition-all duration-150 ease-in-out",e),children:o})})}var Ja=_(require("@radix-ui/react-checkbox")),ja=require("lucide-react");var Yr=require("react/jsx-runtime");function Za({className:e,...o}){return(0,Yr.jsx)(Ja.Root,{"data-slot":"checkbox",className:p("group shadow-checkbox-resting peer hover:shadow-checkbox-hover focus-visible:ring-ring hover:border-primary/50 border-border data-[state=checked]:bg-primary data-[state=indeterminate]:border-primary data-[state=indeterminate]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive relative flex size-6 shrink-0 appearance-none items-center justify-center rounded-lg border transition-[colors,shadow] duration-150 ease-in-out outline-none focus-visible:ring-3 disabled:cursor-not-allowed disabled:opacity-50",e),...o,children:(0,Yr.jsx)(Ja.Indicator,{"data-slot":"checkbox-indicator",className:"group-data-[state=checked]:animate-in group-data-[state=unchecked]:animate-out group-data-[state=unchecked]:fade-out-0 group-data-[state=checked]:fade-in-0 group-data-[state=unchecked]:slide-out-to-bottom-5 group-data-[state=unchecked]:zoom-out-75 group-data-[state=checked]:zoom-in-75 group-data-[state=checked]:slide-in-from-bottom-5 text-primary-foreground stroke-primary-foreground duration-150 ease-in-out group-data-[state=checked]:block",children:o.checked==="indeterminate"?(0,Yr.jsx)(ja.MinusIcon,{className:"size-3 stroke-[4px]",absoluteStrokeWidth:!0}):(0,Yr.jsx)(ja.CheckIcon,{className:"size-3 stroke-[4px]",absoluteStrokeWidth:!0})})})}var Qr=require("lucide-react"),xe=_(require("react"));var Ge=require("react/jsx-runtime"),Xr=xe.createContext(null),yr=({value:e,onValueChange:o,defaultValue:t,children:n,name:r,id:a,...l})=>{let[i,s]=xe.useState(!1),[m,d]=xe.useState(t),[c,f]=xe.useState(-1),[u,g]=xe.useState(""),h=xe.useRef([]),v=xe.useRef(null),x=e??m,y=xe.useCallback((b,k)=>{h.current.find(R=>R.value===b)?h.current=h.current.map(R=>R.value===b?{value:b,label:k}:R):h.current=[...h.current,{value:b,label:k}]},[]),C=xe.useCallback(b=>{h.current=h.current.filter(k=>k.value!==b)},[]),F=xe.useCallback(()=>h.current,[]);xe.useEffect(()=>{if(i&&h.current.length>0){let b=h.current.findIndex(k=>k.value===x);f(b>=0?b:0)}else i||f(-1)},[i,x]);let P=xe.useCallback(b=>{let k=h.current;if(!k||k.length===0)return;v.current&&clearTimeout(v.current);let N=u+b.toLowerCase();g(N);let R=k.findIndex($=>$.label.toLowerCase().startsWith(N));R!==-1&&(i||s(!0),f(R)),v.current=setTimeout(()=>{g("")},500)},[u,i]);return(0,Ge.jsx)(Xr.Provider,{value:{value:x,onChange:b=>{d(b),o?.(b),s(!1),f(-1)},name:r,onOpenChange:s,isOpen:i,focusedIndex:c,setFocusedIndex:f,handleTypeahead:P,registerOption:y,unregisterOption:C,getOptions:F,id:a},children:(0,Ge.jsx)(ha,{open:i,onOpenChange:s,children:(0,Ge.jsx)("div",{className:"relative","data-slot":"select",...l,children:n})})})};var kr=({placeholder:e,className:o,...t})=>{let n=xe.useContext(Xr);if(!n)throw new Error("SelectValue must be used within Select");let r=n.value,a=n.getOptions?.()||[],l=r&&a.find(i=>i.value===r)?.label;return(0,Ge.jsx)("span",{"data-slot":"select-value",className:o,...t,children:l||e})},Cr=({placeholder:e,disabled:o,error:t,icon:n,className:r,size:a="default",children:l,...i})=>{let s=xe.useContext(Xr);if(!s)throw new Error("SelectTrigger must be used within Select");let m=s.value,d=s.getOptions?.()||[],c=m&&d.find(u=>u.value===m)?.label;return(0,Ge.jsx)(va,{children:(0,Ge.jsxs)(S,{variant:t?"destructive":"outline",disabled:o,onClick:()=>s.onOpenChange?.(!s.isOpen),onKeyDown:u=>{if(o)return;let{key:g}=u,{isOpen:h,focusedIndex:v,setFocusedIndex:x,onOpenChange:y,onChange:C,handleTypeahead:F}=s,P=s.getOptions?.()||[];if(!(!P||P.length===0))switch(g){case"ArrowDown":{if(u.preventDefault(),!h)y?.(!0);else{let b=v??-1,k=b<P.length-1?b+1:0;x?.(k)}break}case"ArrowUp":{if(u.preventDefault(),!h)y?.(!0);else{let b=v??-1,k=b>0?b-1:P.length-1;x?.(k)}break}case"Enter":case" ":{u.preventDefault(),h?v!==void 0&&v>=0&&v<P.length&&C?.(P[v].value):y?.(!0);break}case"Escape":{u.preventDefault(),y?.(!1);break}case"Tab":{h&&y?.(!1);break}default:{g.length===1&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&(u.preventDefault(),F?.(g));break}}},"data-slot":"select-trigger","data-size":a,className:p("border-border/25 text-input-foreground shadow-input-resting hover:shadow-input-hover hover:border-border/0 focus-within:outline-primary focus-within:shadow-input-hover bg-input disabled:bg-muted flex w-full justify-between px-3 ring-4 ring-transparent outline-4 disabled:cursor-not-allowed",s.isOpen&&"focus-within:outline-primary focus-within:shadow-input-hover",r),id:s.id,...i,children:[n&&(0,Ge.jsx)("div",{className:"text-primary absolute top-1/2 left-3 -translate-y-1/2",children:n}),l||(0,Ge.jsx)("span",{className:p("text-primary block truncate"),children:c||e}),(0,Ge.jsx)(Qr.ChevronDown,{className:p("text-primary size-4 transition-transform duration-200",s.isOpen&&"rotate-180")})]})})},Pr=({className:e,children:o,...t})=>{let n=xe.useContext(Xr);if(!n)throw new Error("SelectContent must be used within Select");let r=xe.useRef(null);xe.useEffect(()=>{n.isOpen&&r.current&&r.current.focus()},[n.isOpen]);let a=l=>{let{key:i}=l,{focusedIndex:s,setFocusedIndex:m,onChange:d,onOpenChange:c,handleTypeahead:f,getOptions:u}=n,g=u?.()||[];if(!(!g||g.length===0))switch(i){case"ArrowDown":{l.preventDefault();let h=s??-1,v=h<g.length-1?h+1:0;m?.(v);break}case"ArrowUp":{l.preventDefault();let h=s??-1,v=h>0?h-1:g.length-1;m?.(v);break}case"Enter":{l.preventDefault(),s!==void 0&&s>=0&&s<g.length&&d?.(g[s].value);break}case"Escape":{l.preventDefault(),c?.(!1);break}default:{i.length===1&&!l.ctrlKey&&!l.altKey&&!l.metaKey&&(l.preventDefault(),f?.(i));break}}};return(0,Ge.jsx)(xa,{className:p("w-[var(--trigger-width)] p-1 outline-none",e),children:(0,Ge.jsx)("div",{ref:r,"data-slot":"select-content",tabIndex:0,role:"listbox",onKeyDown:a,className:"outline-none",...t,children:o})})};var _r=({value:e,children:o,className:t,...n})=>{let r=xe.useContext(Xr);if(!r)throw new Error("SelectItem must be used within Select");xe.useEffect(()=>{let d=typeof o=="string"?o:e;return r.registerOption?.(e,d),()=>{r.unregisterOption?.(e)}},[e,o,r.registerOption,r.unregisterOption]);let a=e===r.value,i=(r.getOptions?.()||[]).findIndex(d=>d.value===e),s=i===r.focusedIndex;return(0,Ge.jsxs)("button",{type:"button",onClick:()=>r.onChange?.(e),onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),r.onChange?.(e))},onMouseEnter:()=>{i>=0&&r.setFocusedIndex?.(i)},"data-slot":"select-item",className:p("hover:bg-muted/50 focus:bg-muted relative flex w-full items-center justify-between rounded-2xl px-2 py-1.5 text-sm outline-hidden select-none",a&&"bg-muted",s&&"bg-muted/75",t),...n,children:[(0,Ge.jsx)("span",{children:o}),a&&(0,Ge.jsx)(Qr.Check,{className:"text-primary size-4"})]})};var B=require("react/jsx-runtime"),tm={sign_request:"domain/pem?cert=connection"},rm=[{value:"rsa-sha1",label:"RSA-SHA1"},{value:"rsa-sha256",label:"RSA-SHA256"}],am=[{value:"sha1",label:"SHA1"},{value:"sha256",label:"SHA256"}],bs=Rr.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),[s,m]=(0,vs.useState)([]),d=o,c=(0,xs.useForm)({resolver:(0,hs.zodResolver)((0,gs.createProviderConfigureSchema)("pingfederate")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{pingFederateBaseUrl:d?.pingFederateBaseUrl||"",signingCert:d?.signingCert||"",signSAMLRequest:d?.signSAMLRequest||!1,signatureAlgorithm:d?.signatureAlgorithm||"",digestAlgorithm:d?.digestAlgorithm||""}}),{isDirty:f}=c.formState;Rr.useEffect(()=>{a?.(f)},[f,a]),Rr.useImperativeHandle(l,()=>({validate:async()=>await c.trigger(),getData:()=>c.getValues(),isDirty:()=>c.formState.isDirty}));let u=c.watch("signSAMLRequest"),g=h=>{m(h),h.length>0&&c.setValue("signingCert",h[0].name)};return(0,B.jsx)(pe,{...c,children:(0,B.jsxs)("div",{className:p("space-y-6",r),children:[(0,B.jsx)(I,{control:c.control,name:"pingFederateBaseUrl",render:({field:h,fieldState:v})=>(0,B.jsxs)(E,{children:[(0,B.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.ping-federate.ping_federate_baseurl.label")}),(0,B.jsx)(z,{children:(0,B.jsx)(J,{type:"url",placeholder:i("fields.ping-federate.ping_federate_baseurl.placeholder"),error:!!v.error,readOnly:t,"aria-invalid":!!v.error,...h})}),(0,B.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,B.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.ping-federate.ping_federate_baseurl.helper_text")})]})}),(0,B.jsx)(I,{control:c.control,name:"signingCert",render:()=>(0,B.jsxs)(E,{children:[(0,B.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.ping-federate.sign_cert.label")}),(0,B.jsx)(z,{children:(0,B.jsx)("div",{className:"space-y-3",children:(0,B.jsx)(ur,{accept:".pem",onChange:g,value:s,maxFiles:1,disabled:t,className:"w-full",placeholder:i("fields.ping-federate.sign_cert.placeholder")})})}),(0,B.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,B.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.ping-federate.sign_cert.helper_text")})]})}),(0,B.jsx)(vr,{type:"single",collapsible:!0,className:"w-full",children:(0,B.jsxs)(xr,{value:"advanced-settings",children:[(0,B.jsx)(br,{className:"text-sm font-medium",children:i("fields.ping-federate.advanced_settings.title")}),(0,B.jsxs)(wr,{className:"space-y-6",children:[(0,B.jsx)(I,{control:c.control,name:"signSAMLRequest",render:({field:h})=>(0,B.jsxs)(E,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,B.jsx)(z,{children:(0,B.jsx)(Za,{checked:h.value||!1,onCheckedChange:h.onChange,disabled:t})}),(0,B.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,B.jsx)(L,{className:"text-sm font-normal cursor-pointer",children:i("fields.ping-federate.advanced_settings.sign_request.label")}),(0,B.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:(0,B.jsx)(B.Fragment,{children:i.trans("fields.ping-federate.advanced_settings.sign_request.helper_text",{components:{link:v=>(0,B.jsx)(yt,{href:tm.sign_request,target:"_blank",rel:"noopener noreferrer",children:v})}})})})]})]})}),u&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(I,{control:c.control,name:"signatureAlgorithm",render:({field:h,fieldState:v})=>(0,B.jsxs)(E,{children:[(0,B.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.ping-federate.advanced_settings.sign_request_algorithm.label")}),(0,B.jsxs)(yr,{onValueChange:h.onChange,value:h.value||"",children:[(0,B.jsx)(z,{children:(0,B.jsx)(Cr,{error:!!v.error,children:(0,B.jsx)(kr,{placeholder:i("fields.ping-federate.advanced_settings.sign_request_algorithm.placeholder")})})}),(0,B.jsx)(Pr,{children:rm.map(x=>(0,B.jsx)(_r,{value:x.value,children:x.label},x.value))})]}),(0,B.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})}),(0,B.jsx)(I,{control:c.control,name:"digestAlgorithm",render:({field:h,fieldState:v})=>(0,B.jsxs)(E,{children:[(0,B.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.ping-federate.advanced_settings.sign_request_algorithm_digest.label")}),(0,B.jsxs)(yr,{onValueChange:h.onChange,value:h.value||"",children:[(0,B.jsx)(z,{children:(0,B.jsx)(Cr,{error:!!v.error,children:(0,B.jsx)(kr,{placeholder:i("fields.ping-federate.advanced_settings.sign_request_algorithm_digest.placeholder")})})}),(0,B.jsx)(Pr,{children:am.map(x=>(0,B.jsx)(_r,{value:x.value,children:x.label},x.value))})]}),(0,B.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})})]})]})]})})]})})});var ws=require("@auth0/web-ui-components-core"),ys=require("@hookform/resolvers/zod"),Tr=_(require("react")),ks=require("react"),Cs=require("react-hook-form");var T=require("react/jsx-runtime"),nm={sign_request:"domain/pem?cert=connection"},im=[{value:"rsa-sha1",label:"RSA-SHA1"},{value:"rsa-sha256",label:"RSA-SHA256"}],lm=[{value:"sha1",label:"SHA1"},{value:"sha256",label:"SHA256"}],Ps=Tr.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),[s,m]=(0,ks.useState)([]),d=o,c=(0,Cs.useForm)({resolver:(0,ys.zodResolver)((0,ws.createProviderConfigureSchema)("samlp")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{meta_data_source:d?.meta_data_source||"meta_data_url",metadataUrl:d?.metadataUrl||"",single_sign_on_login_url:d?.single_sign_on_login_url||"",cert:d?.cert||"",signSAMLRequest:d?.signSAMLRequest||!1,signatureAlgorithm:d?.signatureAlgorithm||"",digestAlgorithm:d?.digestAlgorithm||""}}),{isDirty:f}=c.formState;Tr.useEffect(()=>{a?.(f)},[f,a]),Tr.useImperativeHandle(l,()=>({validate:async()=>await c.trigger(),getData:()=>c.getValues(),isDirty:()=>c.formState.isDirty}));let g=c.watch("meta_data_source")==="meta_data_file",h=c.watch("signSAMLRequest"),v=x=>{m(x),x.length>0&&c.setValue("cert",x[0].name)};return(0,T.jsx)(pe,{...c,children:(0,T.jsxs)("div",{className:p("space-y-6",r),children:[(0,T.jsx)(I,{control:c.control,name:"meta_data_source",render:({field:x})=>(0,T.jsxs)(E,{children:[(0,T.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.samlp.meta_data_source.label")}),(0,T.jsx)(z,{children:(0,T.jsxs)(gr,{value:x.value,onValueChange:x.onChange,disabled:t,className:"flex flex-col space-y-2",children:[(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)(Qo,{value:"meta_data_url",id:"meta_data_url"}),(0,T.jsx)(ye,{htmlFor:"meta_data_url",className:"text-sm font-normal cursor-pointer",children:i("fields.samlp.meta_data_source.options.meta_data_url.label")})]}),(0,T.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,T.jsx)(Qo,{value:"meta_data_file",id:"meta_data_file"}),(0,T.jsx)(ye,{htmlFor:"meta_data_file",className:"text-sm font-normal cursor-pointer",children:i("fields.samlp.meta_data_source.options.meta_data_file.label")})]})]})}),(0,T.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})}),(0,T.jsx)(I,{control:c.control,name:"metadataUrl",render:({field:x,fieldState:y})=>(0,T.jsxs)(E,{children:[(0,T.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.samlp.meta_data_url.label")}),(0,T.jsx)(z,{children:(0,T.jsx)(J,{type:"url",placeholder:i("fields.samlp.meta_data_url.placeholder"),error:!!y.error,readOnly:t,"aria-required":!0,"aria-invalid":!!y.error,...x})}),(0,T.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,T.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.samlp.meta_data_url.helper_text")})]})}),g&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(I,{control:c.control,name:"single_sign_on_login_url",render:({field:x,fieldState:y})=>(0,T.jsxs)(E,{children:[(0,T.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.samlp.single_sign_on_login_url.label")}),(0,T.jsx)(z,{children:(0,T.jsx)(J,{type:"url",placeholder:i("fields.samlp.single_sign_on_login_url.placeholder"),error:!!y.error,readOnly:t,"aria-required":!0,"aria-invalid":!!y.error,...x})}),(0,T.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,T.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.samlp.single_sign_on_login_url.helper_text")})]})}),(0,T.jsx)(I,{control:c.control,name:"cert",render:()=>(0,T.jsxs)(E,{children:[(0,T.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.samlp.cert.label")}),(0,T.jsx)(z,{children:(0,T.jsx)("div",{className:"space-y-3",children:(0,T.jsx)(ur,{accept:".pem",onChange:v,value:s,maxFiles:1,disabled:t,className:"w-full",placeholder:i("fields.samlp.cert.placeholder")})})}),(0,T.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,T.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.samlp.cert.helper_text")})]})})]}),(0,T.jsx)(vr,{type:"single",collapsible:!0,className:"w-full",children:(0,T.jsxs)(xr,{value:"advanced-settings",children:[(0,T.jsx)(br,{className:"text-sm font-medium",children:i("fields.samlp.advanced_settings.title")}),(0,T.jsxs)(wr,{className:"space-y-6",children:[(0,T.jsx)(I,{control:c.control,name:"signSAMLRequest",render:({field:x})=>(0,T.jsxs)(E,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,T.jsx)(z,{children:(0,T.jsx)(Za,{checked:x.value||!1,onCheckedChange:x.onChange,disabled:t})}),(0,T.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,T.jsx)(L,{className:"text-sm font-normal cursor-pointer",children:i("fields.samlp.advanced_settings.sign_request.label")}),(0,T.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:(0,T.jsx)(T.Fragment,{children:i.trans("fields.samlp.advanced_settings.sign_request.helper_text",{components:{link:y=>(0,T.jsx)(yt,{href:nm.sign_request,target:"_blank",rel:"noopener noreferrer",children:y})}})})})]})]})}),h&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(I,{control:c.control,name:"signatureAlgorithm",render:({field:x,fieldState:y})=>(0,T.jsxs)(E,{children:[(0,T.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.samlp.advanced_settings.sign_request_algorithm.label")}),(0,T.jsxs)(yr,{onValueChange:x.onChange,value:x.value||"",children:[(0,T.jsx)(z,{children:(0,T.jsx)(Cr,{error:!!y.error,children:(0,T.jsx)(kr,{placeholder:i("fields.samlp.advanced_settings.sign_request_algorithm.placeholder")})})}),(0,T.jsx)(Pr,{children:im.map(C=>(0,T.jsx)(_r,{value:C.value,children:C.label},C.value))})]}),(0,T.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})}),(0,T.jsx)(I,{control:c.control,name:"digestAlgorithm",render:({field:x,fieldState:y})=>(0,T.jsxs)(E,{children:[(0,T.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.samlp.advanced_settings.sign_request_algorithm_digest.label")}),(0,T.jsxs)(yr,{onValueChange:x.onChange,value:x.value||"",children:[(0,T.jsx)(z,{children:(0,T.jsx)(Cr,{error:!!y.error,children:(0,T.jsx)(kr,{placeholder:i("fields.samlp.advanced_settings.sign_request_algorithm_digest.placeholder")})})}),(0,T.jsx)(Pr,{children:lm.map(C=>(0,T.jsx)(_r,{value:C.value,children:C.label},C.value))})]}),(0,T.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})})]})]})]})})]})})});var _s=require("@auth0/web-ui-components-core"),Rs=require("@hookform/resolvers/zod"),Ct=_(require("react")),Ts=require("react-hook-form");De();var te=require("react/jsx-runtime"),Ns=Ct.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),{coreClient:s}=ie(),m=Ct.useMemo(()=>`https://${s?.auth?.domain||"your domain"}/login/callback`,[s?.auth?.domain]),d=o,c=(0,Ts.useForm)({resolver:(0,Rs.zodResolver)((0,_s.createProviderConfigureSchema)("waad")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{tenant_domain:d?.tenant_domain||"",client_id:d?.client_id||"",client_secret:d?.client_secret||"",callback_url:d?.callback_url||m}}),{isDirty:f}=c.formState;return Ct.useEffect(()=>{a?.(f)},[f,a]),Ct.useImperativeHandle(l,()=>({validate:async()=>await c.trigger(),getData:()=>c.getValues(),isDirty:()=>c.formState.isDirty})),(0,te.jsx)(pe,{...c,children:(0,te.jsxs)("div",{className:p("space-y-6",r),children:[(0,te.jsx)(I,{control:c.control,name:"tenant_domain",render:({field:u,fieldState:g})=>(0,te.jsxs)(E,{children:[(0,te.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.waad.tenant_domain.label")}),(0,te.jsx)(z,{children:(0,te.jsx)(J,{type:"text",placeholder:i("fields.waad.tenant_domain.placeholder"),error:!!g.error,readOnly:t,...u})}),(0,te.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,te.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.waad.tenant_domain.helper_text")})]})}),(0,te.jsx)(I,{control:c.control,name:"client_id",render:({field:u,fieldState:g})=>(0,te.jsxs)(E,{children:[(0,te.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.waad.client_id.label")}),(0,te.jsx)(z,{children:(0,te.jsx)(se,{type:"text",placeholder:i("fields.waad.client_id.placeholder"),error:!!g.error,readOnly:t,...u})}),(0,te.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,te.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.waad.client_id.helper_text")})]})}),(0,te.jsx)(I,{control:c.control,name:"client_secret",render:({field:u,fieldState:g})=>(0,te.jsxs)(E,{children:[(0,te.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.waad.client_secret.label")}),(0,te.jsx)(z,{children:(0,te.jsx)(se,{type:"password",placeholder:i("fields.waad.client_secret.placeholder"),error:!!g.error,readOnly:t,...u})}),(0,te.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,te.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.waad.client_secret.helper_text")})]})}),(0,te.jsx)(I,{control:c.control,name:"callback_url",render:({field:u,fieldState:g})=>(0,te.jsxs)(E,{children:[(0,te.jsx)(L,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.waad.callback_url.label")}),(0,te.jsx)(z,{children:(0,te.jsx)(se,{type:"text",placeholder:i("fields.waad.callback_url.placeholder"),error:!!g.error,readOnly:!0,...u})}),(0,te.jsx)(O,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),(0,te.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.waad.callback_url.helper_text")})]})})]})})});var Jo=require("react/jsx-runtime"),en=Ss.forwardRef(function({strategy:o,className:t,...n},r){let a=()=>{switch(o){case Pt.STRATEGIES.OKTA:return(0,Jo.jsx)(us,{ref:r,...n});case Pt.STRATEGIES.GOOGLE_APPS:return(0,Jo.jsx)(rs,{ref:r,...n});case Pt.STRATEGIES.WAAD:return(0,Jo.jsx)(Ns,{ref:r,...n});case Pt.STRATEGIES.PINGFEDERATE:return(0,Jo.jsx)(bs,{ref:r,...n});case Pt.STRATEGIES.ADFS:return(0,Jo.jsx)(Zl,{ref:r,...n});case Pt.STRATEGIES.SAMLP:return(0,Jo.jsx)(Ps,{ref:r,...n});case Pt.STRATEGIES.OIDC:return(0,Jo.jsx)(ls,{ref:r,...n});default:return null}};return(0,Jo.jsx)("div",{className:p("space-y-6",t),children:a()})});var on=require("react/jsx-runtime"),sm=Nr.forwardRef(function({strategy:o,initialData:t,readOnly:n=!1,customMessages:r={},className:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",r),s=Nr.useRef(null);return Nr.useImperativeHandle(l,()=>({validate:async()=>await s.current?.validate()??!1,getData:()=>s.current?.getData()})),(0,on.jsx)("div",{className:a,children:(0,on.jsx)(ho,{title:i("title"),description:i("description"),children:(0,on.jsx)(en,{ref:s,strategy:o,initialData:t,readOnly:n,customMessages:r.fields})})})}),Fs=sm;var Ds=require("@auth0/web-ui-components-core"),Ms=require("@hookform/resolvers/zod"),Sr=_(require("react")),As=require("react-hook-form");var Ne=require("react/jsx-runtime"),tn=Sr.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_details",n),s=(0,As.useForm)({resolver:(0,Ms.zodResolver)((0,Ds.createProviderDetailsSchema)()),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{name:o?.name||"",display_name:o?.display_name||""}}),{isDirty:m}=s.formState;return Sr.useEffect(()=>{a?.(m)},[m,a]),Sr.useImperativeHandle(l,()=>({validate:async()=>await s.trigger(),getData:()=>s.getValues(),isDirty:()=>s.formState.isDirty})),(0,Ne.jsx)(pe,{...s,children:(0,Ne.jsx)("div",{className:r,children:(0,Ne.jsxs)(ho,{title:i("title"),description:i("description"),children:[(0,Ne.jsx)(I,{control:s.control,name:"name",render:({field:d,fieldState:c})=>(0,Ne.jsxs)(E,{children:[(0,Ne.jsx)(L,{className:"text-sm text-(length:--font-size-label) font-normal",children:i("fields.name.label")}),(0,Ne.jsx)(z,{children:(0,Ne.jsx)(J,{placeholder:i("fields.name.placeholder"),error:!!c.error,readOnly:t,...d})}),(0,Ne.jsx)(O,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),(0,Ne.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.name.helper_text")})]})}),(0,Ne.jsx)(I,{control:s.control,name:"display_name",render:({field:d,fieldState:c})=>(0,Ne.jsxs)(E,{children:[(0,Ne.jsx)(L,{className:"text-sm text-(length:--font-size-label) font-normal",children:i("fields.display_name.label")}),(0,Ne.jsx)(z,{children:(0,Ne.jsx)(J,{placeholder:i("fields.display_name.placeholder"),error:!!c.error,readOnly:t,...d})}),(0,Ne.jsx)(O,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),(0,Ne.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.display_name.helper_text")})]})})]})})})});var Lo=require("@auth0/web-ui-components-core");var Is=require("@auth0/web-ui-components-core"),Es=_(require("react")),Ls=require("react/jsx-runtime"),cm=({width:e=17,height:o=17,title:t="EntraID logo",className:n,...r})=>(0,Ls.jsx)("img",{src:Is.EntraIdLogoSvg,alt:t,width:e,height:o,className:n,...r}),zs=Es.default.memo(cm);var Os=require("@auth0/web-ui-components-core"),Bs=_(require("react")),Vs=require("react/jsx-runtime"),dm=({width:e=17,height:o=17,title:t="Microsoft logo",className:n,...r})=>(0,Vs.jsx)("img",{src:Os.MicrosoftLogoSvg,alt:t,width:e,height:o,className:n,...r}),Hs=Bs.default.memo(dm);var Us=require("@auth0/web-ui-components-core"),Gs=_(require("react")),$s=require("react/jsx-runtime"),mm=({width:e=17,height:o=17,title:t="Oidc logo",className:n,...r})=>(0,$s.jsx)("img",{src:Us.OidcLogoSvg,alt:t,width:e,height:o,className:n,...r}),Ks=Gs.default.memo(mm);var qs=require("@auth0/web-ui-components-core"),Ws=_(require("react")),Qs=require("react/jsx-runtime"),pm=({width:e=17,height:o=17,title:t="Okta logo",className:n,...r})=>(0,Qs.jsx)("img",{src:qs.OktaLogoSvg,alt:t,width:e,height:o,className:n,...r}),Ys=Ws.default.memo(pm);var Xs=require("@auth0/web-ui-components-core"),Js=_(require("react")),Zs=require("react/jsx-runtime"),um=({width:e=17,height:o=17,title:t="PingId logo",className:n,...r})=>(0,Zs.jsx)("img",{src:Xs.PingIdLogoSvg,alt:t,width:e,height:o,className:n,...r}),js=Js.default.memo(um);var ec=require("@auth0/web-ui-components-core"),oc=_(require("react")),rc=require("react/jsx-runtime"),fm=({width:e=17,height:o=17,title:t="Samlp logo",className:n,...r})=>(0,rc.jsx)("img",{src:ec.SamlpLogoSvg,alt:t,width:e,height:o,className:n,...r}),tc=oc.default.memo(fm);var jo=require("react/jsx-runtime"),gm={[Lo.STRATEGIES.OKTA]:Ys,[Lo.STRATEGIES.GOOGLE_APPS]:ya,[Lo.STRATEGIES.WAAD]:zs,[Lo.STRATEGIES.ADFS]:Hs,[Lo.STRATEGIES.PINGFEDERATE]:js,[Lo.STRATEGIES.SAMLP]:tc,[Lo.STRATEGIES.OIDC]:Ks};function ac({strategyList:e,onClickStrategy:o,customMessages:t={},className:n}){let{t:r}=w("idp_management.create_sso_provider.provider_select",t);return(0,jo.jsx)(ho,{title:r("title"),description:r("description"),className:n,children:(0,jo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(a=>{let l=gm[a],i=Lo.STRATEGY_DISPLAY_NAMES[a];return(0,jo.jsx)(S,{variant:"outline",className:"justify-start h-10 py-2.5 px-3",onClick:()=>o(a),children:(0,jo.jsxs)("div",{className:"flex items-center gap-3 w-full text-left",children:[(0,jo.jsx)(l,{className:"w-4 h-4 flex-shrink-0 text-primary"}),(0,jo.jsx)("div",{className:"flex flex-col gap-1",children:(0,jo.jsx)("span",{className:"font-medium",children:i})})]})},a)})})})}var Jr=_(require("react"));var nc=require("lucide-react"),Zo=_(require("react"));var Je=require("react/jsx-runtime"),ic=Zo.createContext(null),hm=()=>{let e=Zo.useContext(ic);if(!e)throw new Error("Stepper components must be used within a Stepper");return e};function lc({currentStep:e=0,className:o,onStepClick:t,enableAllSteps:n=!1,children:r}){let a=Zo.useMemo(()=>({currentStep:e,isClickable:n&&!!t,onStepClick:t}),[e,n,t]),l=Zo.useMemo(()=>{let i=Zo.Children.toArray(r),s=[];return i.forEach((m,d)=>{s.push(m),d<i.length-1&&s.push((0,Je.jsx)(vm,{},`separator-${d}`))}),s},[r]);return(0,Je.jsx)(ic.Provider,{value:a,"data-slot":"stepper",children:(0,Je.jsx)(be,{className:p("w-full p-0",o),children:(0,Je.jsx)("nav",{"aria-label":"Progress",className:"flex p-6 flex-col items-start gap-8 self-stretch",children:(0,Je.jsx)("div",{className:"flex items-center w-full",children:l})})})})}function sc({step:e,id:o,hideNumber:t=!0,className:n,children:r}){let{currentStep:a,isClickable:l,onStepClick:i}=hm(),s=e===a,m=e<a,d=()=>{l&&i&&i(e,o)};return(0,Je.jsxs)("div",{"data-slot":"stepper-step","data-state":s?"current":m?"completed":"pending","data-step":e,className:p("flex items-start",l&&"cursor-pointer hover:opacity-80 transition-opacity",n),onClick:d,children:[(0,Je.jsx)("div",{className:p("flex items-center justify-center rounded-full transition-colors w-[21px] h-[21px] flex-shrink-0 mt-0.5",m?"bg-foreground text-background dark:bg-background dark:text-foreground border-0":s?"border-2 border-primary bg-background text-primary":"bg-muted-foreground/30 border-0 text-muted-foreground"),children:m?(0,Je.jsx)(nc.Check,{className:"w-3 h-3"}):t?null:(0,Je.jsx)("span",{className:"text-xs font-medium",children:e+1})}),(0,Je.jsx)("div",{className:"ml-2 flex-1",children:r})]})}function cc({className:e,children:o}){return(0,Je.jsx)("p",{"data-slot":"stepper-title",className:p("text-sm font-medium transition-colors whitespace-nowrap text-foreground",e),children:o})}function vm({className:e}){return(0,Je.jsx)(tt,{orientation:"horizontal",className:p("flex-1 mx-4",e),"data-slot":"stepper-separator"})}function dc({className:e,children:o}){return(0,Je.jsx)("p",{"data-slot":"stepper-description",className:p("text-xs text-muted-foreground mt-1",e),children:o})}var Fr=require("react/jsx-runtime");function mc({steps:e,currentStep:o=0,onStepClick:t,className:n,hideNumbers:r=!0}){return(0,Fr.jsx)(lc,{currentStep:o,enableAllSteps:!!t,className:n,children:e.map((a,l)=>(0,Fr.jsxs)(sc,{step:l,id:a.id,hideNumber:r,children:[(0,Fr.jsx)(cc,{className:"text-(length:--font-size-label)",children:a.title}),a.description&&(0,Fr.jsx)(dc,{children:a.description})]},a.id||l))})}var Po=require("react/jsx-runtime");function pc({steps:e,initialStep:o=0,onComplete:t,className:n,formActionLabels:r,hideStepperNumbers:a=!1,isLoading:l=!1}){let[i,s]=Jr.useState(o),m=e[i],d=i===0,c=i===e.length-1,f=Jr.useCallback(async()=>{if(l)return;let y=e[i];y.actions?.onNextAction&&!await y.actions.onNextAction(y.id)||(c?await t?.():s(C=>C+1))},[i,c,e,t,l]),u=Jr.useCallback(async()=>{if(d)return;let y=e[i];y.actions?.onPreviousAction&&!await y.actions.onPreviousAction(y.id)||s(C=>C-1)},[i,d,e]),g=m.content,h=m.actions?.showPrevious!==!1&&!d,v=m.actions?.showNext??!0,x={nextButtonLabel:"Next",previousButtonLabel:"Previous",completeButtonLabel:"Submit",...r};return(0,Po.jsxs)("div",{className:p("space-y-6",n),children:[(0,Po.jsx)(mc,{steps:e,currentStep:i,hideNumbers:a}),(0,Po.jsx)(be,{children:(0,Po.jsxs)(ze,{className:"p-6 relative",children:[l&&(0,Po.jsx)("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center z-10",children:(0,Po.jsx)(ee,{})}),(0,Po.jsx)("div",{className:p(l&&"opacity-50 pointer-events-none"),children:(0,Po.jsx)(g,{onNext:f,onPrevious:u,isLoading:l})})]})}),(0,Po.jsx)(ht,{isLoading:l,showPrevious:h,showNext:v,nextAction:{type:"button",label:c?x.completeButtonLabel:x.nextButtonLabel,variant:"primary",onClick:f},previousAction:{type:"button",label:x.previousButtonLabel,variant:"outline",onClick:u}})]})}var uc=require("@auth0/web-ui-components-core"),rn=require("react");De();function fc({createAction:e,customMessages:o={}}={}){let{coreClient:t}=ie(),{t:n}=w("idp_management.create_sso_provider",o),[r,a]=(0,rn.useState)(!1);return{createProvider:(0,rn.useCallback)(async i=>{if(t){a(!0);try{if(e?.onBefore&&!e.onBefore(i))return;let{strategy:s,name:m,display_name:d,...c}=i,f={strategy:s,name:m,display_name:d,options:c},u=uc.SsoProviderMappers.createToAPI(f),g=await t.getMyOrgApiClient().organization.identityProviders.create(u);H({type:"success",message:n("notifications.provider_create_success",{providerName:g.name})}),e?.onAfter?.(i,g)}catch(s){throw H({type:"error",message:n("notifications.general_error")}),s}finally{a(!1)}}},[t,e,n]),isCreating:r}}var Oo=require("react/jsx-runtime");function xm({createAction:e,backButton:o,onNext:t,onPrevious:n,customMessages:r={},styling:a={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:l}=w("idp_management.create_sso_provider",r),{isDarkMode:i}=G(),[s,m]=(0,_o.useState)({}),{strategy:d,details:c,configure:f}=s,{createProvider:u,isCreating:g}=fc({createAction:e,customMessages:r}),h=(0,_o.useRef)(null),v=(0,_o.useRef)(null),x=(0,_o.useMemo)(()=>(0,Dr.getComponentStyles)(a,i),[a,i]),y=(0,_o.useCallback)((P,b)=>{let k=P==="provider_details"?"details":"configure",N=async(R,$=!1)=>{if($&&!await b.current?.validate())return!1;let oe=b.current?.getData()??null;if(m(A=>({...A,[k]:oe})),!R)return!0;let re={...s,[k]:oe};return R(P,re)};return{onNextAction:()=>N(t,!0),onPreviousAction:()=>N(n,!1)}},[s,t,n]),C=(0,_o.useCallback)(async()=>{let P=v.current?.getData();await u({strategy:d,...c,...P})},[d,c,f,u]),F=(0,_o.useMemo)(()=>[{id:"provider_select",title:l("steps.one"),content:({onNext:P})=>(0,Oo.jsx)(ac,{strategyList:Dr.AVAILABLE_STRATEGY_LIST,onClickStrategy:b=>{m(k=>({strategy:b,details:k.strategy===b?k.details:null,configure:k.strategy===b?k.configure:null})),t?.("provider_select",{strategy:b}),P?.()},selectedStrategy:d,customMessages:r.provider_select,className:x?.classes?.["ProviderSelect-root"]}),actions:{showNext:!1}},{id:"provider_details",title:l("steps.two"),content:()=>(0,Oo.jsx)(tn,{ref:h,initialData:c??void 0,customMessages:r.provider_details,styling:a,className:x?.classes?.["ProviderDetails-root"]}),actions:y("provider_details",h)},{id:"provider_configure",title:l("steps.three"),content:()=>d?(0,Oo.jsx)(Fs,{ref:v,strategy:d,initialData:f??void 0,customMessages:r.provider_configure,className:x?.classes?.["ProviderConfigure-root"]}):null,actions:y("provider_configure",v)}],[l,d,c,f,t,n,r,x,a,y]);return(0,Oo.jsxs)("div",{style:x.variables,className:"w-full",children:[(0,Oo.jsx)(gc.Toaster,{position:"top-right"}),(0,Oo.jsx)(ao,{title:l("header.title"),backButton:o&&{...o,text:l("header.back_button_text")},className:x?.classes?.["SsoProviderCreate-header"]}),(0,Oo.jsx)("div",{className:"sso-provider-create__content",children:(0,Oo.jsx)(pc,{isLoading:g,hideStepperNumbers:!0,steps:F,onComplete:C,className:x?.classes?.["SsoProviderCreate-wizard"]})})]})}var hc=Mo(xm,Dr.MY_ORG_SSO_PROVIDER_CREATE_SCOPES);var bn=require("@auth0/web-ui-components-core"),wn=_(require("react"));var Nc=require("@auth0/web-ui-components-core"),Sc=require("lucide-react"),qn=_(require("react"));var Ar=require("@auth0/web-ui-components-core"),ne=require("react");var an=require("@auth0/web-ui-components-core"),vc=require("react");var Mr=()=>({handleError:(0,vc.useCallback)((o,t={})=>{let{fallbackMessage:n="An error occurred",showToastNotification:r=!0}=t,a;return(0,an.isBusinessError)(o)?a=o.message:(0,an.hasApiErrorBody)(o)&&o.body?.detail?a=o.body.detail:o instanceof Error?a=o.message:typeof o=="string"?a=o:a=n,r&&H({type:"error",message:a}),a},[])});De();function xc(e,{customMessages:o={},domains:t,provider:n}={}){let{coreClient:r}=ie(),{t:a}=w("idp_management.notifications",o),{handleError:l}=Mr(),[i,s]=(0,ne.useState)(!1),[m,d]=(0,ne.useState)([]),[c,f]=(0,ne.useState)([]),[u,g]=(0,ne.useState)(!1),[h,v]=(0,ne.useState)(null),[x,y]=(0,ne.useState)(!1),[C,F]=(0,ne.useState)(!1),[P,b]=(0,ne.useState)(!1),[k,N]=(0,ne.useState)(void 0),[R,$]=(0,ne.useState)(!1),[oe,re]=(0,ne.useState)(!1),[A,Q]=(0,ne.useState)(!1),U=(0,ne.useCallback)(async D=>{if(!r)return;(await r.getMyOrgApiClient().organization.domains.identityProviders.get(D)).identity_providers?.some(ko=>ko.id===e)&&f([...c,D])},[r]),V=(0,ne.useCallback)(async D=>{try{s(!0),D.map(async M=>await U(M.id))}catch(M){l(M,{fallbackMessage:a("general_error")})}finally{s(!1)}},[m]),fe=(0,ne.useCallback)(async()=>{if(r)try{s(!0);let D=await r.getMyOrgApiClient().organization.domains.list();d(D.organization_domains),await V(D.organization_domains)}catch(D){l(D,{fallbackMessage:a("general_error")})}finally{s(!1)}},[r,a]),X=(0,ne.useCallback)(async D=>{if(t?.createAction?.onBefore&&!t.createAction.onBefore(D))throw g(!1),new Ar.BusinessError({message:a("domain_create.on_before")});let M=await r.getMyOrgApiClient().organization.domains.create(D);return t?.createAction?.onAfter?.(M),await fe(),M},[r,t,a]),_e=(0,ne.useCallback)(async D=>{if(t?.verifyAction?.onBefore&&!t.verifyAction.onBefore(D))throw b(!1),new Ar.BusinessError({message:a("domain_verify.on_before")});let M=await r.getMyOrgApiClient().organization.domains.verify.create(D.id);return t?.verifyAction?.onAfter&&await t.verifyAction.onAfter(D),b(!1),M.status==="verified"},[t,a,r]),To=(0,ne.useCallback)(async D=>{if(r){if(t?.deleteAction?.onBefore&&!t.deleteAction.onBefore(D))throw $(!1),new Ar.BusinessError({message:a("domain_delete.on_before")});await r.getMyOrgApiClient().organization.domains.delete(D.id),t?.deleteAction?.onAfter&&await t.deleteAction.onAfter(D),await fe()}},[t,fe,a,r]),eo=(0,ne.useCallback)(async D=>{if(t?.associateToProviderAction?.onBefore&&!t.associateToProviderAction.onBefore(D,n))throw new Ar.BusinessError({message:a("domain_associate_provider.on_before")});await r.getMyOrgApiClient().organization.identityProviders.domains.create(e,{domain:D.domain}),t?.associateToProviderAction?.onAfter&&await t.associateToProviderAction.onAfter(D,n)},[t,n,a,r]),oo=(0,ne.useCallback)(async D=>{if(n){if(t?.deleteFromProviderAction?.onBefore&&!t.deleteFromProviderAction.onBefore(D,n))throw new Ar.BusinessError({message:a("domain_delete_provider.on_before")});await r.getMyOrgApiClient().organization.identityProviders.domains.delete(n.id,D.domain),t?.deleteFromProviderAction?.onAfter&&await t.deleteFromProviderAction.onAfter(D),await V(m)}},[t,a,r,m]),Ho=(0,ne.useCallback)(async D=>{g(!0);try{let M=await X({domain:D});H({type:"success",message:a("domain_create.success",{domainName:M?.domain})}),v(M),re(!1),y(!0)}catch(M){l(M,{fallbackMessage:a("domain_create.error")})}finally{g(!1)}},[X,a]),Nt=(0,ne.useCallback)(()=>{y(!1),N(void 0)},[]),St=(0,ne.useCallback)(async D=>{b(!0);try{await _e(D)?(y(!1),H({type:"success",message:a("domain_verify.success",{domainName:D.domain})}),await eo(D)):N(a("domain_verify.verification_failed",{domainName:D.domain}))}catch(M){l(M,{fallbackMessage:a("domain_verify.verification_failed")})}finally{b(!1)}},[_e,a]),Ft=(0,ne.useCallback)(D=>{v(D),y(!1),F(!0)},[]),q=(0,ne.useCallback)(async D=>{$(!0);try{await To(D),H({type:"success",message:a("domain_delete.success",{domainName:D.domain})}),F(!1),y(!1)}catch(M){l(M,{fallbackMessage:a("domain_delete.error")})}finally{$(!1)}},[To,a]),ce=(0,ne.useCallback)(async D=>{Q(!0);try{await _e(D)?(H({type:"success",message:a("domain_verify.success",{domainName:D.domain})}),await eo(D)):H({type:"error",message:a("domain_verify.verification_failed",{domainName:D.domain})})}catch(M){l(M,{fallbackMessage:a("domain_verify.verification_failed",{domainName:D.domain})})}finally{Q(!1)}},[_e,a]),co=(0,ne.useCallback)(async(D,M)=>{if(Q(!0),M)try{await eo(D),H({type:"success",message:a("domain_associate_provider.success",{domain:D.domain,idp:n?.name})})}catch(ge){l(ge,{fallbackMessage:a("general_error")})}finally{Q(!1)}else try{await oo(D),H({type:"success",message:a("domain_delete_provider.success",{domain:D.domain,idp:n?.name})})}catch(ge){l(ge,{fallbackMessage:a("general_error")})}finally{Q(!1)}},[eo,a,n]);return(0,ne.useEffect)(()=>{!r||!e||(s(!0),Promise.allSettled([fe()]).finally(()=>{s(!1)}))},[r,e]),{isLoading:i,domainsList:m,isCreating:u,selectedDomain:h,showVerifyModal:x,showDeleteModal:C,isVerifying:P,verifyError:k,isDeleting:R,showCreateModal:oe,handleCreate:Ho,handleCloseVerifyModal:Nt,handleVerify:St,handleDeleteClick:Ft,handleDelete:q,setShowCreateModal:re,setShowDeleteModal:F,idpDomains:c,handleVerifyActionColumn:ce,isUpdating:A,handleToggleSwitch:co}}function nn(e){switch(e){case"verified":return"success";case"pending":return"warning";case"failed":return"destructive";default:return"outline"}}var bc=require("@auth0/web-ui-components-core"),wc=require("@hookform/resolvers/zod"),jr=_(require("react")),yc=require("react-hook-form");var bo=require("react/jsx-runtime");function ln({translatorKey:e="domain_management.domain_create.modal",className:o,customMessages:t,isOpen:n,isLoading:r,schema:a,onClose:l,onCreate:i}){let{t:s}=w(e,t),m=jr.useMemo(()=>(0,bc.createDomainCreateSchema)(a,s("field.error")),[a,s]),d=(0,yc.useForm)({resolver:(0,wc.zodResolver)(m),defaultValues:{domain_url:""},mode:"onChange"}),c=jr.useCallback(async u=>{u.domain_url&&(await i(u.domain_url),d.reset())},[d,i]),f=jr.useCallback(()=>{d.reset(),l()},[d,l]);return(0,bo.jsx)(Re,{open:n,onOpenChange:u=>!u&&f(),className:p("p-10",o),title:s("title"),content:(0,bo.jsx)("div",{children:(0,bo.jsx)(pe,{...d,children:(0,bo.jsx)("form",{id:"domain-create-form",children:(0,bo.jsx)(I,{control:d.control,name:"domain_url",render:({field:u})=>(0,bo.jsxs)(E,{children:[(0,bo.jsx)(ye,{htmlFor:"domain-url",className:"text-sm text-(length:--font-size-label) font-medium",children:s("field.label")}),(0,bo.jsx)(z,{children:(0,bo.jsx)(J,{id:"domain-url",type:"text",placeholder:s("field.placeholder"),className:"mt-2",...u})}),(0,bo.jsx)(O,{})]})})})})}),modalActions:{nextAction:{type:"button",label:s("actions.create_button_text"),variant:"primary",disabled:r,onClick:u=>{u.preventDefault(),d.handleSubmit(c)()}},previousAction:{label:s("actions.cancel_button_text"),onClick:f}}})}var kc=_(require("react"));var sn=require("react/jsx-runtime"),bm=e=>e?.status==="pending"?"description.pending":"description.verified";function cn({translatorKey:e="domain_management.domain_delete.modal",className:o,customMessages:t,domain:n,isOpen:r,isLoading:a,onClose:l,onDelete:i}){let{t:s}=w(e,t),m=kc.default.useCallback(()=>{n&&i(n)},[i,n]);return(0,sn.jsx)(Re,{open:r,onOpenChange:d=>!d&&l(),className:p("p-10",o),title:s("title"),content:(0,sn.jsx)("div",{className:"space-y-6",children:(0,sn.jsx)("p",{className:"text-sm text-muted-foreground text-(length:--font-size-paragraph)",children:s(bm(n),{domainName:n?.domain})})}),modalActions:{nextAction:{type:"button",label:s("actions.delete_button_text"),variant:"destructive",disabled:a,onClick:m},previousAction:{label:s("actions.cancel_button_text"),onClick:l}}})}var Rc=require("lucide-react"),$n=_(require("react"));var Cc=require("class-variance-authority");var Kn=require("react/jsx-runtime"),wm=(0,Cc.cva)("shadow-input-hover bg-input relative grid w-full grid-cols-[0_1fr] items-start gap-y-0.5 overflow-clip rounded-3xl p-3 text-sm has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] has-[>svg]:gap-x-3 [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"text-foreground border-b-2 border-transparent",info:"text-info-foreground [&>svg]:text-info-foreground",success:"text-success-foreground [&>svg]:text-success-foreground",warning:"text-warning-foreground [&>svg]:text-warning-foreground",destructive:"text-destructive-foreground [&>svg]:text-destructive-foreground"}},defaultVariants:{variant:"default"}});function Pc({className:e,variant:o,...t}){return(0,Kn.jsx)("div",{"data-slot":"alert",role:"alert",className:p(wm({variant:o}),e),...t})}function _c({className:e,...o}){return(0,Kn.jsx)("div",{"data-slot":"alert-description",className:p("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...o})}var Ce=require("react/jsx-runtime");function dn({translatorKey:e="domain_management.domain_verify.modal",className:o,customMessages:t,isOpen:n,isLoading:r,domain:a,error:l,onClose:i,onVerify:s,onDelete:m}){let{t:d}=w(e,t),c=$n.default.useCallback(()=>{a&&s(a)},[s,a]),f=$n.default.useCallback(()=>{a&&m(a)},[m,a]);return(0,Ce.jsx)(Re,{open:n,onOpenChange:u=>!u&&i(),className:"p-10",title:d("title",{domainName:a?.domain}),content:(0,Ce.jsxs)("div",{className:p("space-y-4",o),children:[l&&(0,Ce.jsxs)(Pc,{variant:"destructive",children:[(0,Ce.jsx)(Rc.MessageSquare,{className:"h-4 w-4"}),(0,Ce.jsx)(_c,{className:"text-destructive-foreground",children:l})]}),(0,Ce.jsxs)("div",{className:"space-y-2",children:[(0,Ce.jsx)(ye,{htmlFor:"txt-record-name",className:"text-sm font-medium",children:d("txt_record_name.label")}),(0,Ce.jsx)(se,{id:"txt-record-name",value:a?.verification_host||"",readOnly:!0,className:"font-mono text-sm"})]}),(0,Ce.jsxs)("div",{className:"space-y-2",children:[(0,Ce.jsx)(ye,{htmlFor:"txt-record-content",className:"text-sm font-medium",children:d("txt_record_content.label")}),(0,Ce.jsx)(se,{id:"txt-record-content",value:a?.verification_txt||"",readOnly:!0,className:"font-mono text-sm"})]}),(0,Ce.jsxs)("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[(0,Ce.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ce.jsx)("span",{className:"text-sm font-medium",children:d("verification_status.label")}),(0,Ce.jsx)(go,{variant:"warning",children:d("verification_status.pending")})]}),(0,Ce.jsx)("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph"),children:d("verification_status.description")})]}),(0,Ce.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,Ce.jsx)(S,{variant:"outline",onClick:c,disabled:r,children:d("actions.verify_button_text")}),(0,Ce.jsx)(S,{variant:"destructive",onClick:f,disabled:r,children:d("actions.delete_button_text")})]})]}),modalActions:{showNext:!1,previousAction:{label:d("actions.done_button_text"),onClick:i,variant:"primary"}}})}var mn=require("react/jsx-runtime");function Tc({translatorKey:e="idp_management.edit_sso_provider.tabs.domains",customMessages:o={},readOnly:t,idpDomains:n,domain:r,handleVerify:a,isUpdating:l,onToggle:i}){let{t:s}=w(e,o),m=n.includes(r.id);return(0,mn.jsx)("div",{className:"flex items-center justify-end gap-4 min-w-0",children:r.status==="verified"?(0,mn.jsx)(xo,{checked:m,onCheckedChange:d=>i(r,d),disabled:t||l}):(0,mn.jsx)(S,{variant:"outline",onClick:()=>a(r),children:s("table.columns.verify")})})}var wo=require("react/jsx-runtime");function Fc({customMessages:e={},styling:o={variables:{common:{},light:{},dark:{}},classes:{}},readOnly:t=!1,schema:n,idpId:r,domains:a,provider:l}){let{t:i}=w("idp_management.edit_sso_provider.tabs.domains.content",e),{isDarkMode:s}=G(),m=qn.default.useMemo(()=>(0,Nc.getComponentStyles)(o,s),[o,s]),{domainsList:d,isCreating:c,selectedDomain:f,showVerifyModal:u,isVerifying:g,showDeleteModal:h,verifyError:v,handleCloseVerifyModal:x,handleVerify:y,handleDeleteClick:C,isLoading:F,isDeleting:P,setShowDeleteModal:b,handleDelete:k,setShowCreateModal:N,showCreateModal:R,handleCreate:$,idpDomains:oe,handleVerifyActionColumn:re,isUpdating:A,handleToggleSwitch:Q}=xc(r,{customMessages:e,domains:a,provider:l}),U=qn.default.useMemo(()=>[{type:"text",accessorKey:"domain",title:i("table.columns.name"),render:V=>(0,wo.jsx)("div",{className:"font-medium",children:V.domain})},{type:"text",accessorKey:"status",title:i("table.columns.status"),render:V=>(0,wo.jsx)(go,{variant:nn(V.status),size:"sm",children:i(`table.domain_statuses.${V.status}`)})},{type:"actions",title:"",render:V=>(0,wo.jsx)(Tc,{translatorKey:"idp_management.edit_sso_provider.tabs.domains.content",idpDomains:oe,readOnly:t,isUpdating:A,customMessages:e,onToggle:Q,handleVerify:re,domain:V})}],[i]);return(0,wo.jsxs)("div",{style:m.variables,className:"space-y-8",children:[(0,wo.jsx)("div",{className:m.classes?.["SsoDomainsTab-header"],children:(0,wo.jsx)(ao,{title:i("title"),description:i("description"),actions:[{type:"button",label:i("create_button_text"),onClick:()=>N(!0),icon:Sc.Plus,disabled:a?.createAction?.disabled||t}]})}),(0,wo.jsx)(Io,{columns:U,data:d,loading:F,emptyState:{title:i("table.empty_message")},className:m.classes?.["SsoDomainsTab-table"]}),(0,wo.jsx)(ln,{translatorKey:"idp_management.edit_sso_provider.tabs.domains.content.domain_create.modal",className:m.classes?.["SsoDomainsTab-createModal"],isOpen:R,isLoading:c,schema:n?.create,onClose:()=>N(!1),onCreate:$,customMessages:e.domain_create}),(0,wo.jsx)(dn,{translatorKey:"idp_management.edit_sso_provider.tabs.domains.content.domain_verify.modal",className:m.classes?.["SsoDomainsTab-verifyModal"],isOpen:u,isLoading:g,domain:f,error:v,onClose:x,onVerify:y,onDelete:C,customMessages:e.domain_verify}),(0,wo.jsx)(cn,{translatorKey:"idp_management.edit_sso_provider.tabs.domains.content.domain_delete.modal",className:m.classes?.["SsoDomainsTab-deleteModal"],domain:f,isOpen:h,isLoading:P,onClose:()=>b(!1),onDelete:k,customMessages:e.domain_delete})]})}var Ec=require("@auth0/web-ui-components-core"),zc=_(require("react"));var Zr=_(require("react"));var no=require("react/jsx-runtime");function Dc({provider:e,onDelete:o,customMessages:t={},isLoading:n,readOnly:r}){let{t:a}=w("idp_management.delete_sso_provider",t),[l,i]=Zr.useState(!1),s=Zr.useCallback(()=>{i(!0)},[]),m=Zr.useCallback(()=>{i(!1)},[]);return(0,no.jsxs)(no.Fragment,{children:[(0,no.jsx)("div",{className:p("w-full"),children:(0,no.jsx)(be,{className:"p-6",children:(0,no.jsxs)(ze,{className:"flex items-start justify-between gap-6 p-0",children:[(0,no.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,no.jsx)("h3",{className:p("text-lg font-semibold text-left text-(length:--font-size-subtitle)"),children:a("title",{providerName:e.name})}),(0,no.jsx)("p",{className:p("text-sm text-muted-foreground text-left text-(length:--font-size-paragraph)"),children:a("description")})]}),(0,no.jsx)(S,{variant:"destructive",onClick:s,disabled:r,className:"shrink-0",children:a("delete_button_label")})]})})}),(0,no.jsx)(Va,{isOpen:l,onClose:m,provider:e,onDelete:o,isLoading:n,customMessages:t.modal})]})}var ea=_(require("react"));var io=require("react/jsx-runtime");function Mc({provider:e,organizationName:o,onRemove:t,customMessages:n={},isLoading:r,readOnly:a}){let{t:l}=w("idp_management.remove_sso_provider",n),[i,s]=ea.useState(!1),m=ea.useCallback(()=>{s(!0)},[]),d=ea.useCallback(()=>{s(!1)},[]);return(0,io.jsxs)(io.Fragment,{children:[(0,io.jsx)("div",{className:p("w-full"),children:(0,io.jsx)(be,{className:"p-6",children:(0,io.jsxs)(ze,{className:"flex items-start justify-between gap-6 p-0",children:[(0,io.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,io.jsx)("h3",{className:p("text-lg font-semibold text-left text-(length:--font-size-subtitle)"),children:l("title",{providerName:e.name,organizationName:o})}),(0,io.jsx)("p",{className:p("text-sm text-muted-foreground text-left text-(length:--font-size-paragraph)"),children:l("description",{providerName:e.name})})]}),(0,io.jsx)(S,{variant:"destructive",onClick:m,disabled:a,className:"shrink-0",children:l("remove_button_label")})]})})}),(0,io.jsx)(Ua,{isOpen:i,onClose:d,provider:e,organizationName:o,onRemove:t,isLoading:r,customMessages:n.modal})]})}var Ac=require("@auth0/web-ui-components-core"),Vt=_(require("react"));var _t=require("react/jsx-runtime");function Ic({provider:e,readOnly:o=!1,formActions:t,customMessages:n={},styling:r={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:a}=w("idp_management.sso_provider_details",n),{isDarkMode:l}=G(),i=Vt.default.useRef(null),s=Vt.default.useRef(null),[m,d]=Vt.default.useState(!1),[c,f]=Vt.default.useState(!1),u=Vt.default.useMemo(()=>(0,Ac.getComponentStyles)(r,l),[r,l]),g=Vt.default.useMemo(()=>{if(e)return{name:e.name??void 0,display_name:e.display_name??void 0}},[e]),h=m||c,v=async()=>{if(!t?.nextAction?.onClick||!e?.strategy)return;let x=await i.current?.validate(),y=await s.current?.validate();if(!x||!y)return;let C=i.current?.getData(),F=s.current?.getData(),P={strategy:e.strategy,...C,...F};await t.nextAction.onClick(P),d(!1),f(!1)};return e?(0,_t.jsxs)("div",{style:u.variables,className:p("space-y-8"),children:[(0,_t.jsx)("div",{className:"space-y-4",children:(0,_t.jsx)(tn,{ref:i,initialData:g,readOnly:o,customMessages:n.details_fields,className:u.classes?.["ProviderDetails-root"],hideHeader:!0,onFormDirty:d})}),(0,_t.jsx)("div",{className:"space-y-4",children:(0,_t.jsx)(en,{ref:s,strategy:e.strategy,initialData:e.options,readOnly:o,customMessages:n.configure_fields,className:u.classes?.["ProviderConfigure-root"],onFormDirty:f})}),t&&(0,_t.jsx)(ht,{hasUnsavedChanges:h,showUnsavedChanges:!0,isLoading:t.isLoading,nextAction:{label:a("submit_button_label"),disabled:!h||t?.nextAction?.disabled||t.isLoading||o,type:"button",onClick:v},showPrevious:!1,align:t?.align,className:u.classes?.["SsoProviderDetails-FormActions"]})]}):null}var lo=require("react/jsx-runtime");function Lc({customMessages:e={},styling:o={variables:{common:{},light:{},dark:{}},classes:{}},readOnly:t=!1,provider:n,onDelete:r,onRemove:a,organization:l,isDeleting:i,isRemoving:s,formActions:m}){let{t:d}=w("idp_management.edit_sso_provider.tabs.sso",e),{isDarkMode:c}=G(),f=zc.default.useMemo(()=>(0,Ec.getComponentStyles)(o,c),[o,c]);return(0,lo.jsxs)("div",{style:f.variables,className:"space-y-8",children:[(0,lo.jsxs)(be,{children:[(0,lo.jsx)(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,lo.jsxs)("div",{className:"space-y-1",children:[(0,lo.jsx)(So,{className:"text-lg text-left font-medium",children:d("content.title")}),(0,lo.jsx)(Fo,{className:"text-sm text-left text-muted-foreground",children:d("content.description")})]})}),(0,lo.jsx)(ze,{children:n&&(0,lo.jsx)(Ic,{provider:n,readOnly:t,formActions:m,customMessages:e.details,styling:o})})]}),(0,lo.jsxs)("div",{className:"space-y-4",children:[n&&l&&(0,lo.jsx)(Mc,{provider:n,organizationName:l?.name,onRemove:a,isLoading:s,readOnly:t}),n&&(0,lo.jsx)(Dc,{provider:n,onDelete:r,isLoading:i,readOnly:t})]})]})}var jc=require("@auth0/web-ui-components-core"),Ir=_(require("react"));var Rt=require("@auth0/web-ui-components-core"),de=require("react");De();function pn(e,{sso:o,provisioning:t,customMessages:n={}}={}){let{coreClient:r}=ie(),{t:a}=w("idp_management.notifications",n),[l,i]=(0,de.useState)(null),[s,m]=(0,de.useState)(Rt.OrgDetailsFactory.create()),[d,c]=(0,de.useState)(!1),[f,u]=(0,de.useState)(!1),[g,h]=(0,de.useState)(!1),[v,x]=(0,de.useState)(!1),[y,C]=(0,de.useState)(!1),[F,P]=(0,de.useState)(!1),[b,k]=(0,de.useState)(!1),[N,R]=(0,de.useState)(!1),[$,oe]=(0,de.useState)(!1),[re,A]=(0,de.useState)(!1),[Q,U]=(0,de.useState)(null),V=(0,de.useCallback)(async()=>{if(!r||!e)return null;try{c(!0);let q=await r.getMyOrgApiClient().organization.identityProviders.get(e);return i(q),q}catch{return H({type:"error",message:a("general_error")}),null}finally{c(!1)}},[r,e,a]),fe=(0,de.useCallback)(async()=>{if(r)try{c(!0);let q=await r.getMyOrgApiClient().organizationDetails.get(),ce=Rt.OrgDetailsMappers.fromAPI(q);m(ce)}catch(q){let ce=q instanceof Error?a("general_error",{message:q.message}):a("general_error");H({type:"error",message:ce})}finally{c(!1)}},[r,a]),X=(0,de.useCallback)(async()=>{if(!r||!e)return null;try{A(!0);let q=await r.getMyOrgApiClient().organization.identityProviders.provisioning.get(e);return U(q),q}catch(q){return(0,Rt.getStatusCode)(q)===404?(U(null),null):(H({type:"error",message:a("general_error")}),null)}finally{A(!1)}},[r,e,a]),_e=(0,de.useCallback)(async q=>{if(!(!r||!l||!e))try{if(u(!0),o?.updateAction?.onBefore&&!o?.updateAction.onBefore(l))return;let ce=Rt.SsoProviderMappers.updateToAPI({strategy:l.strategy,...q}),co=await r.getMyOrgApiClient().organization.identityProviders.update(e,ce);i(co),H({type:"success",message:a("update_success",{providerName:l.display_name})}),o?.updateAction?.onAfter&&await o.updateAction.onAfter(l,co)}catch(ce){throw H({type:"error",message:a("general_error")}),ce}finally{u(!1)}},[r,l,e,o,a]),To=(0,de.useCallback)(async()=>{if(!(!r||!l||!e))try{if(C(!0),t?.createAction?.onBefore&&!t.createAction.onBefore(l))return;let q=await r.getMyOrgApiClient().organization.identityProviders.provisioning.create(e),ce=await V();ce&&i(ce),H({type:"success",message:a("update_success",{providerName:l.display_name})}),t?.createAction?.onAfter&&await t.createAction.onAfter(l,q)}catch(q){throw H({type:"error",message:a("general_error")}),q}finally{C(!1)}},[r,l,e,t,a,V]),eo=(0,de.useCallback)(async()=>{if(!(!r||!l||!e))try{if(P(!0),t?.deleteAction?.onBefore&&!t.deleteAction.onBefore(l))return;await r.getMyOrgApiClient().organization.identityProviders.provisioning.delete(e),U(null);let q=await V();q&&i(q),H({type:"success",message:a("update_success",{providerName:l.display_name})}),t?.deleteAction?.onAfter&&await t.deleteAction.onAfter(l)}catch(q){throw H({type:"error",message:a("general_error")}),q}finally{P(!1)}},[r,l,e,t,a,V]),oo=(0,de.useCallback)(async()=>{if(!r||!e)return null;try{return k(!0),await r.getMyOrgApiClient().organization.identityProviders.provisioning.scimTokens.list(e)}catch{return H({type:"error",message:a("general_error")}),null}finally{k(!1)}},[r,e,a]),Ho=(0,de.useCallback)(async q=>{if(!(!r||!e))try{if(R(!0),t?.createScimTokenAction?.onBefore&&!t.createScimTokenAction.onBefore(l))return;let ce=await r.getMyOrgApiClient().organization.identityProviders.provisioning.scimTokens.create(e,q);return H({type:"success",message:a("scim_token_create_success")}),t?.createScimTokenAction?.onAfter&&await t.createScimTokenAction.onAfter(l,ce),ce}catch(ce){throw H({type:"error",message:a("general_error")}),ce}finally{R(!1)}},[r,e,l,t,a]),Nt=(0,de.useCallback)(async q=>{if(!(!r||!e))try{if(oe(!0),t?.deleteScimTokenAction?.onBefore&&!t.deleteScimTokenAction.onBefore(l))return;await r.getMyOrgApiClient().organization.identityProviders.provisioning.scimTokens.delete(e,q),H({type:"success",message:a("scim_token_delete_sucess")}),t?.deleteScimTokenAction?.onAfter&&await t.deleteScimTokenAction.onAfter(l)}catch(ce){throw H({type:"error",message:a("general_error")}),ce}finally{oe(!1)}},[r,e,l,t,a]),St=(0,de.useCallback)(async()=>{if(!(!l||!r||!l.id))try{h(!0),await r.getMyOrgApiClient().organization.identityProviders.delete(l.id),H({type:"success",message:a("delete_success",{providerName:l.display_name})}),o?.deleteAction?.onAfter&&await o.deleteAction.onAfter(l)}catch(q){throw H({type:"error",message:a("general_error")}),q}finally{h(!1)}},[o,l,a,r]),Ft=(0,de.useCallback)(async()=>{if(!(!l||!r||!l.id))try{if(x(!0),o?.deleteFromOrgAction?.onBefore&&!o.deleteFromOrgAction.onBefore(l))return;await fe(),await r.getMyOrgApiClient().organization.identityProviders.detach(l.id),H({type:"success",message:a("remove_success",{providerName:l.display_name,organizationName:s?.display_name})}),o?.deleteFromOrgAction?.onAfter&&await o.deleteFromOrgAction.onAfter(l)}catch(q){throw H({type:"error",message:a("general_error")}),q}finally{x(!1)}},[o,l,fe,a,r,s]);return(0,de.useEffect)(()=>{!r||!e||(c(!0),Promise.allSettled([V(),fe()]).finally(()=>{c(!1)}))},[r,e]),{provider:l,organization:s,provisioningConfig:Q,isLoading:d,isUpdating:f,isDeleting:g,isRemoving:v,isProvisioningUpdating:y,isProvisioningDeleting:F,isProvisioningLoading:re,isScimTokensLoading:b,isScimTokenCreating:N,isScimTokenDeleting:$,fetchProvider:V,fetchOrganizationDetails:fe,fetchProvisioning:X,updateProvider:_e,createProvisioning:To,deleteProvisioning:eo,listScimTokens:oo,createScimToken:Ho,deleteScimToken:Nt,onDeleteConfirm:St,onRemoveConfirm:Ft}}var un=require("react/jsx-runtime");function Oc({open:e,onOpenChange:o,onConfirm:t,customMessages:n}){let{t:r}=w("idp_management.edit_sso_provider.tabs.provisioning.content.delete",n);return(0,un.jsx)(Re,{open:e,onOpenChange:o,title:r("modal.title"),content:(0,un.jsx)("div",{className:p("space-y-4"),children:(0,un.jsx)("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph)"),children:r("modal.content.description")})}),modalActions:{showUnsavedChanges:!1,previousAction:{type:"button",label:r("modal.actions.cancel_button_label"),variant:"outline",onClick:()=>o(!1)},nextAction:{type:"button",label:r("modal.actions.delete_button_label"),variant:"destructive",onClick:t}}})}var hn=require("@auth0/web-ui-components-core"),Qc=require("@hookform/resolvers/zod"),Qn=require("react"),Xc=require("react-hook-form");De();var Kc=require("@auth0/web-ui-components-core"),gn=require("lucide-react"),et=_(require("react"));var Hc=require("lucide-react");var Ut=require("react/jsx-runtime");function Bc({token:e,tokenId:o,customMessages:t={},className:n}){let{t:r}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details.manage_tokens.create_modal.content",t);return(0,Ut.jsxs)("div",{className:p("space-y-4",n),children:[(0,Ut.jsx)("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph)"),children:r("description")}),(0,Ut.jsxs)("div",{className:"space-y-2",children:[(0,Ut.jsxs)(ye,{htmlFor:"provisioning-token",className:"text-sm font-medium text-foreground",children:[r("field.label")," ",o]}),(0,Ut.jsx)(se,{id:"provisioning-token",type:"text",value:e,readOnly:!0,className:"w-full","aria-label":`${r("field.label")} ${o}`})]})]})}var fn=require("react/jsx-runtime");function Vc({open:e,onOpenChange:o,createdToken:t,customMessages:n={}}){let{t:r}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details.manage_tokens",n);return(0,fn.jsx)(Re,{open:e,onOpenChange:o,title:r("create_modal.title"),content:t&&(0,fn.jsx)(Bc,{token:t.token,tokenId:t.token_id,customMessages:n.content}),modalActions:{showPrevious:!1,showUnsavedChanges:!1,nextAction:{type:"button",label:r("create_modal.copy_and_close_button_label"),variant:"primary",icon:(0,fn.jsx)(Hc.Copy,{className:"w-4 h-4"}),onClick:()=>{t&&navigator.clipboard.writeText(t.token),o(!1)}}}})}var oa=require("react/jsx-runtime");function Uc({customMessages:e={},className:o,tokenId:t}){let{t:n}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details.manage_tokens.delete_modal.content",e);return(0,oa.jsxs)("div",{className:p("space-y-4",o),children:[(0,oa.jsx)("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph)"),children:n("confirmation",{tokenId:t})}),(0,oa.jsx)("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph)"),children:n("description")})]})}var Wn=require("react/jsx-runtime");function Gc({open:e,onOpenChange:o,tokenId:t,onConfirm:n,customMessages:r}){let{t:a}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details.manage_tokens",r);return(0,Wn.jsx)(Re,{open:e,onOpenChange:o,title:a("delete_modal.title",{tokenId:t||""}),content:(0,Wn.jsx)(Uc,{tokenId:t||"",customMessages:r?.content}),modalActions:{showUnsavedChanges:!1,previousAction:{type:"button",label:a("delete_modal.cancel_button_label"),variant:"outline",onClick:()=>o(!1)},nextAction:{type:"button",label:a("delete_modal.delete_button_label"),variant:"destructive",onClick:n}}})}var le=require("react/jsx-runtime"),ym=2,Yn={ACTIVE:"active",EXPIRED:"expired"};function $c({isScimTokensLoading:e,isScimTokenCreating:o,isScimTokenDeleting:t,onListScimTokens:n,onCreateScimToken:r,onDeleteScimToken:a,styling:l={variables:{common:{},light:{},dark:{}},classes:{}},customMessages:i={}}){let{t:s}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details.manage_tokens",i),{isDarkMode:m}=G(),[d,c]=et.useState(null),[f,u]=et.useState(!1),[g,h]=et.useState([]),[v,x]=et.useState(null);et.useEffect(()=>{(async()=>{let $=await n();$?.scim_tokens&&h($.scim_tokens)})()},[]);let y=et.useMemo(()=>(0,Kc.getComponentStyles)(l,m),[l,m]),C=g.length<ym,F=R=>{if(!R.valid_until)return{labelKey:Yn.ACTIVE,variant:"secondary"};let re=new Date(R.valid_until)<new Date;return{labelKey:re?Yn.EXPIRED:Yn.ACTIVE,variant:re?"destructive":"secondary"}},P=async()=>{let R=await r({token_lifetime:3600});if(R){x(R),u(!0);let $=await n();$?.scim_tokens&&h($.scim_tokens)}},b=R=>{c(R)},k=async()=>{if(d){await a(d),c(null);let R=await n();R?.scim_tokens&&h(R.scim_tokens)}},N=()=>{x(null),u(!1)};return(0,le.jsxs)("div",{className:p("w-full",y.classes?.["ProvisioningManageToken-root"]),style:y?.variables,children:[(0,le.jsxs)(be,{className:p(y.classes?.["ProvisioningManageToken-card"]),children:[(0,le.jsxs)(Xt,{className:p(y.classes?.["ProvisioningManageToken-header"]),children:[(0,le.jsx)(So,{className:"text-base font-medium text-foreground text-left",children:s("title")}),(0,le.jsx)(Fo,{className:"text-sm text-muted-foreground text-left",children:s("description")}),(0,le.jsx)(ga,{children:(0,le.jsxs)(pt,{children:[(0,le.jsx)(ut,{asChild:!0,children:(0,le.jsx)("span",{children:(0,le.jsxs)(S,{type:"button",onClick:P,disabled:!C||o,title:void 0,children:[o?(0,le.jsx)(ee,{className:"w-4 h-4 mr-2"}):(0,le.jsx)(gn.Plus,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),s("generate_button_label")]})})}),!C&&(0,le.jsx)(Uo,{children:s("max_tokens_tooltip")})]})})]}),e?(0,le.jsx)(ze,{className:"flex justify-center py-8",children:(0,le.jsx)(ee,{})}):g.length>0?(0,le.jsx)(ze,{className:"space-y-4",children:g.map(R=>{let $=F(R),oe=!R.valid_until;return(0,le.jsxs)("div",{className:"flex items-start justify-between gap-6",children:[(0,le.jsxs)("div",{className:"flex-1 min-w-0 space-y-1 text-left",children:[(0,le.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[s("token_item.token_prefix")," ",R.token_id]}),oe&&(0,le.jsx)("p",{className:"text-sm text-muted-foreground",children:s("token_item.never_expire")}),(0,le.jsx)("p",{className:"text-sm text-muted-foreground",children:s("token_item.last_used")})]}),(0,le.jsxs)("div",{className:"flex items-center gap-4 shrink-0",children:[(0,le.jsx)(go,{variant:$.variant,className:"shrink-0",children:s(`token_item.status_${$.labelKey}`)}),(0,le.jsxs)(S,{variant:"destructive",size:"default",type:"button",onClick:()=>b(R.token_id),disabled:t,"aria-label":`${s("token_item.delete_button_label")} ${R.token_id}`,className:"shrink-0",children:[t?(0,le.jsx)(ee,{className:"w-4 h-4 mr-2"}):(0,le.jsx)(gn.Trash2,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),s("token_item.delete_button_label")]})]})]},R.token_id)})}):null]}),(0,le.jsx)(Vc,{open:f,onOpenChange:R=>{u(R),R||N()},createdToken:v,customMessages:i,styling:l}),(0,le.jsx)(Gc,{open:!!d,onOpenChange:R=>{R||c(null)},tokenId:d,onConfirm:k,customMessages:i,styling:l})]})}var yo=require("react/jsx-runtime");function qc({title:e,description:o,card:t,className:n,expanded:r=!0}){return(0,yo.jsx)("div",{className:p("w-full space-y-6",n),children:(0,yo.jsx)(ho,{title:e,description:o,children:(0,yo.jsx)(vr,{type:"single",defaultValue:r?"mapping-section":void 0,collapsible:!0,className:"w-full space-y-6",children:(0,yo.jsxs)(xr,{value:"mapping-section",children:[(0,yo.jsx)(br,{className:"py-4",children:(0,yo.jsxs)("div",{className:"text-left",children:[(0,yo.jsx)(So,{className:"text-sm font-medium",children:t.title}),(0,yo.jsx)(Fo,{className:"text-sm",children:t.description})]})}),(0,yo.jsx)(wr,{className:"pb-6",children:(0,yo.jsx)(Io,{data:t.table.items,columns:t.table.columns})})]})})})})}var Yc=require("react/jsx-runtime");function Wc({provisioningFieldMap:e,customMessages:o,className:t}){let{t:n}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details.mappings",o),r=[{accessorKey:"attribute",type:"text",width:"40%",title:n("card.table.columns.attribute_name_label")},{accessorKey:"external",type:"copy",width:"60%",title:n("card.table.columns.external_field_label")}],a=e?.map(l=>({attribute:l.provisioning_field,external:l.user_attribute}))||[];return(0,Yc.jsx)(qc,{title:n("title"),description:n("description"),card:{title:n("card.title"),description:n("card.description"),table:{items:a,columns:r}},className:t,expanded:!0})}var Pe=require("react/jsx-runtime");function Jc({provider:e,provisioningConfig:o,isScimTokensLoading:t,isScimTokenCreating:n,isScimTokenDeleting:r,onListScimTokens:a,onCreateScimToken:l,onDeleteScimToken:i,customMessages:s={},styling:m={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:d}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details",s),{isDarkMode:c}=G(),f=(0,Qn.useMemo)(()=>(0,hn.getComponentStyles)(m,c),[m,c]),{coreClient:u}=ie(),g=(0,Qn.useMemo)(()=>`https://${u?.auth?.domain||"your domain"}/scim/v2/connections/${e.id}/`,[u?.auth?.domain]),h=(0,Xc.useForm)({resolver:(0,Qc.zodResolver)(hn.ssoProvisioningSchema),defaultValues:{userIdAttribute:o?.user_id_attribute||"",scimEndpointUrl:g||""}});return(0,Pe.jsxs)("div",{style:f.variables,className:p("space-y-6",f.classes?.["SsoProvisioningDetails-root"]),children:[(0,Pe.jsx)(pe,{...h,children:(0,Pe.jsxs)("form",{className:"space-y-6",children:[(0,Pe.jsx)(I,{control:h.control,name:"userIdAttribute",render:({field:v,fieldState:x})=>(0,Pe.jsxs)(E,{children:[(0,Pe.jsx)(L,{className:"text-sm text-(length:--font-size-label) font-normal",children:d("fields.user_id_attribute.label")}),(0,Pe.jsx)(z,{children:(0,Pe.jsx)(J,{readOnly:!0,error:!!x.error,...v})}),(0,Pe.jsx)(O,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),(0,Pe.jsx)(K,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:d("fields.user_id_attribute.helper_text")})]})}),(0,Pe.jsx)($c,{isScimTokensLoading:t,isScimTokenCreating:n,isScimTokenDeleting:r,onListScimTokens:a,onCreateScimToken:l,onDeleteScimToken:i,customMessages:s?.manage_tokens,styling:m}),(0,Pe.jsx)(I,{control:h.control,name:"scimEndpointUrl",render:({field:v,fieldState:x})=>(0,Pe.jsxs)(E,{children:[(0,Pe.jsx)(L,{className:"text-sm text-(length:--font-size-label) font-normal",children:d("fields.scim_endpoint_url.label")}),(0,Pe.jsx)(z,{children:(0,Pe.jsx)(se,{error:!!x.error,readOnly:!0,...v})}),(0,Pe.jsx)(O,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"})]})})]})}),(0,Pe.jsx)("div",{className:"mt-6",children:(0,Pe.jsx)(Wc,{provisioningFieldMap:o?.fields??null,customMessages:s.mappings})})]})}var Ee=require("react/jsx-runtime");function Zc({provider:e,styling:o={variables:{common:{},light:{},dark:{}},classes:{}},customMessages:t={}}){let{t:n}=w("idp_management.edit_sso_provider.tabs.provisioning.content",t),{provisioningConfig:r,isProvisioningLoading:a,isProvisioningUpdating:l,isProvisioningDeleting:i,isScimTokensLoading:s,isScimTokenCreating:m,isScimTokenDeleting:d,fetchProvisioning:c,createProvisioning:f,deleteProvisioning:u,listScimTokens:g,createScimToken:h,deleteScimToken:v}=pn(e?.id||""),{isDarkMode:x}=G(),y=Ir.useMemo(()=>(0,jc.getComponentStyles)(o,x),[o,x]),[C,F]=Ir.useState(!1);Ir.useEffect(()=>{e?.id&&c()},[e?.id]);let P=async $=>{e?.id&&($?(await f(),await c()):F(!0))},b=async()=>{await u(),F(!1)},k=a||l||i,N=!!r,R=k||!e?.id||!e.is_enabled;return(0,Ee.jsxs)("div",{style:y.variables,className:p("space-y-8",y.classes?.["SsoProvisioningTab-root"]),children:[(0,Ee.jsxs)(be,{children:[(0,Ee.jsxs)(Xt,{children:[(0,Ee.jsx)(So,{className:"text-lg font-medium text-foreground text-left",children:n("header.title")}),(0,Ee.jsx)(Fo,{className:"text-sm text-muted-foreground text-left",children:n("header.description")}),(0,Ee.jsx)(ga,{children:(0,Ee.jsx)("div",{className:"flex items-center gap-3",children:(0,Ee.jsx)("div",{className:"flex items-center gap-2",children:k?(0,Ee.jsx)(ee,{className:"w-4 h-4"}):(0,Ee.jsxs)(pt,{children:[(0,Ee.jsx)(ut,{asChild:!0,children:(0,Ee.jsx)(xo,{checked:N,onCheckedChange:P,disabled:R})}),!e.is_enabled&&(0,Ee.jsx)(Uo,{children:n("header.enable_provisioning_tooltip")})]})})})})]}),(0,Ee.jsx)(ze,{children:N&&(0,Ee.jsx)(Jc,{provider:e,provisioningConfig:r,isScimTokensLoading:s,isScimTokenCreating:m,isScimTokenDeleting:d,onListScimTokens:g,onCreateScimToken:h,onDeleteScimToken:v,customMessages:t.details,styling:o})})]}),(0,Ee.jsx)(Oc,{open:C,onOpenChange:F,onConfirm:b,customMessages:t.delete})]})}var Tt=_(require("@radix-ui/react-tabs"));var ta=require("react/jsx-runtime");function ed({className:e,...o}){return(0,ta.jsx)(Tt.Root,{"data-slot":"tabs",className:p("flex flex-col gap-2",e),...o})}function od({className:e,...o}){return(0,ta.jsx)(Tt.List,{"data-slot":"tabs-list",className:p("bg-muted shadow-switch-resting text-muted-foreground inline-flex h-9 w-fit items-center justify-center gap-0.5 rounded-2xl p-0.5",e),...o})}function vn({className:e,...o}){return(0,ta.jsx)(Tt.Trigger,{"data-slot":"tabs-trigger",className:p("data-[state=active]:bg-background hover:bg-accent/25 dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:bg-input text-foreground dark:text-muted-foreground data-[state=active]:shadow-bevel-sm inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl px-4 py-0.5 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 active:scale-[0.99] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...o})}function xn({className:e,...o}){return(0,ta.jsx)(Tt.Content,{"data-slot":"tabs-content",className:p("flex-1 outline-none",e),...o})}var Ve=require("react/jsx-runtime");function km({providerId:e,backButton:o,sso:t,provisioning:n,domains:r,hideHeader:a=!1,customMessages:l={},styling:i={variables:{common:{},light:{},dark:{}},classes:{}},schema:s}){let{t:m}=w("idp_management.edit_sso_provider",l),{isDarkMode:d}=G(),{provider:c,organization:f,isLoading:u,isUpdating:g,isDeleting:h,isRemoving:v,isProvisioningUpdating:x,isProvisioningDeleting:y,isScimTokensLoading:C,isScimTokenCreating:F,isScimTokenDeleting:P,updateProvider:b,createProvisioning:k,deleteProvisioning:N,listScimTokens:R,createScimToken:$,deleteScimToken:oe,onDeleteConfirm:re,onRemoveConfirm:A}=pn(e,{sso:t,provisioning:n,domains:r,customMessages:l}),[Q,U]=(0,wn.useState)("sso"),V=wn.default.useMemo(()=>(0,bn.getComponentStyles)(i,d),[i,d]),fe=async X=>{c?.strategy&&await b({strategy:c.strategy,is_enabled:X})};return u?(0,Ve.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,Ve.jsx)(ee,{})}):(0,Ve.jsxs)("div",{style:V.variables,className:"w-full",children:[!a&&(0,Ve.jsx)(ao,{title:c?.display_name||c?.name||"",backButton:o&&{...o,text:m("header.back_button_text")},actions:[{type:"switch",checked:c?.is_enabled??!1,onCheckedChange:fe,disabled:g}],className:V?.classes?.["SsoProviderEdit-header"]}),(0,Ve.jsxs)(ed,{value:Q,onValueChange:U,className:p("space-y-10",V?.classes?.["SsoProviderEdit-tabs"]),children:[(0,Ve.jsxs)(od,{className:"grid w-full grid-cols-3",children:[(0,Ve.jsx)(vn,{value:"sso",className:"text-sm",children:m("tabs.sso.name")}),(0,Ve.jsx)(vn,{value:"provisioning",className:"text-sm",children:m("tabs.provisioning.name")}),(0,Ve.jsx)(vn,{value:"domain",className:"text-sm",children:m("tabs.domains.name")})]}),(0,Ve.jsx)(xn,{value:"sso",children:(0,Ve.jsx)(Lc,{provider:c,organization:f,onDelete:re,onRemove:A,isDeleting:h,isRemoving:v,customMessages:l.tabs?.sso?.content,styling:i,formActions:{isLoading:g,nextAction:{disabled:g||!c||u,onClick:b}}})}),(0,Ve.jsx)(xn,{value:"provisioning",children:(0,Ve.jsx)(Zc,{provider:c,isProvisioningUpdating:x,isProvisioningDeleting:y,isScimTokensLoading:C,isScimTokenCreating:F,isScimTokenDeleting:P,onCreateProvisioning:k,onDeleteProvisioning:N,onListScimTokens:R,onCreateScimToken:$,onDeleteScimToken:oe,customMessages:l.tabs?.provisioning?.content,styling:i})}),(0,Ve.jsx)(xn,{value:"domain",children:(0,Ve.jsx)(Fc,{customMessages:l.tabs?.domains?.content,styling:i,domains:r,schema:s?.domains,idpId:e,provider:c})})]})]})}var td=Mo(km,bn.MY_ORG_SSO_PROVIDER_EDIT_SCOPES);var yn=require("@auth0/web-ui-components-core"),ld=require("lucide-react"),Jn=_(require("react"));var Xn=_(require("react"));var Ro=require("react/jsx-runtime");function rd({className:e,customMessages:o,domain:t,providers:n,isOpen:r,isLoading:a,isLoadingSwitch:l,onClose:i,onToggleSwitch:s,onOpenProvider:m,onCreateProvider:d}){let{t:c}=w("domain_management.domain_configure_providers.modal",o),f=Xn.default.useCallback((g,h)=>{s(t,g,h)},[t,s]),u=Xn.default.useMemo(()=>[{type:"text",accessorKey:"display_name",title:c("table.columns.name"),width:"25%",render:g=>(0,Ro.jsx)("div",{className:"font-medium",children:g.display_name})},{type:"text",accessorKey:"strategy",title:c("table.columns.provider"),width:"40%",render:g=>(0,Ro.jsx)("div",{className:"text-muted-foreground",children:g.strategy})},{type:"actions",title:"",width:"30%",render:g=>(0,Ro.jsxs)("div",{className:"flex items-center justify-end gap-4 min-w-0",children:[m&&(0,Ro.jsx)(S,{type:"button",variant:"outline",size:"sm",onClick:()=>m(g),children:c("table.actions.view_provider_button_text")}),(0,Ro.jsx)(xo,{checked:g.is_associated??!1,onCheckedChange:h=>f(g,h),disabled:l})]})}],[c,m,l,f]);return(0,Ro.jsx)(Re,{open:r,onOpenChange:g=>!g&&i(),className:"p-10",title:c("title",{domain:t?.domain??""}),content:t&&(0,Ro.jsxs)("div",{className:p("space-y-6",e),children:[(0,Ro.jsx)("p",{className:"text-sm text-muted-foreground text-(length:--font-size-paragraph)",children:c("description",{domain:t?.domain??""})}),(0,Ro.jsx)(Io,{columns:u,data:n,loading:a,emptyState:{title:c("table.empty_message"),action:d?{label:c("table.actions.add_provider_button_text"),variant:"outline",onClick:d}:void 0}})]}),modalActions:{showNext:!1,previousAction:{label:c("actions.close_button_text"),onClick:i}}})}var Bo=require("lucide-react"),ra=_(require("react"));var Se=require("react/jsx-runtime");function ad({customMessages:e={},readOnly:o=!1,domain:t,onView:n,onConfigure:r,onVerify:a,onDelete:l}){let{t:i}=w("domain_management.domain_table",e),s=ra.useCallback(()=>{r(t)},[t,n]),m=ra.useCallback(()=>{r(t)},[t,r]),d=ra.useCallback(()=>{a(t)},[t,a]),c=ra.useCallback(()=>{l(t)},[t,l]);return(0,Se.jsx)("div",{className:"flex items-center justify-end gap-4 min-w-0",children:(0,Se.jsxs)(Ga,{children:[(0,Se.jsx)($a,{className:"h-8 w-8 p-0 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 shadow-sm transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-800 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:(0,Se.jsx)(Bo.MoreHorizontal,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),(0,Se.jsx)(Ka,{children:(0,Se.jsxs)(qa,{align:"end",children:[t.status==="verified"&&(0,Se.jsxs)(Wo,{onClick:m,disabled:o,children:[(0,Se.jsx)(Bo.PencilLine,{className:"mr-2 h-4 w-4"}),i("table.actions.configure_button_text")]}),t.status==="pending"&&(0,Se.jsxs)(Se.Fragment,{children:[(0,Se.jsxs)(Wo,{onClick:s,disabled:o,children:[(0,Se.jsx)(Bo.Eye,{className:"mr-2 h-4 w-4"}),i("table.actions.view_button_text")]}),(0,Se.jsxs)(Wo,{onClick:d,disabled:o,children:[(0,Se.jsx)(Bo.RefreshCcw,{className:"mr-2 h-4 w-4"}),i("table.actions.verify_button_text")]})]}),(0,Se.jsxs)(Wo,{onClick:c,className:"text-destructive-foreground focus:text-destructive-foreground",disabled:o,children:[(0,Se.jsx)(Bo.Trash2,{className:"mr-2 h-4 w-4 text-destructive-foreground focus:text-destructive-foreground"}),i("table.actions.delete_button_text")]})]})})]})})}var Er=require("@auth0/web-ui-components-core"),Ke=require("react");De();function nd({createAction:e,deleteAction:o,verifyAction:t,associateToProviderAction:n,deleteFromProviderAction:r,customMessages:a}){let{t:l}=w("domain_management.domain_table.notifications",a),{coreClient:i}=ie(),[s,m]=(0,Ke.useState)([]),[d,c]=(0,Ke.useState)([]),[f,u]=(0,Ke.useState)(!1),[g,h]=(0,Ke.useState)(!1),[v,x]=(0,Ke.useState)(!1),[y,C]=(0,Ke.useState)(!1),[F,P]=(0,Ke.useState)(!1),b=(0,Ke.useCallback)(async A=>{try{x(!0);let U=(await i.getMyOrgApiClient().organization.identityProviders.list())?.identity_providers??[],fe=(await i.getMyOrgApiClient().organization.domains.identityProviders.get(A.id))?.identity_providers??[],X=U.map(_e=>{let To=fe.some(eo=>eo.id===_e.id);return{..._e,is_associated:To}});c(X)}finally{x(!1)}},[i,l]),k=(0,Ke.useCallback)(async()=>{try{h(!0);let Q=(await i.getMyOrgApiClient().organization.domains.list())?.organization_domains??[];m(Q)}finally{h(!1)}},[i,l]),N=(0,Ke.useCallback)(async A=>{if(u(!0),e?.onBefore&&!e.onBefore(A))throw u(!1),new Er.BusinessError({message:l("domain_create.on_before")});try{let Q=await i.getMyOrgApiClient().organization.domains.create(A);return e?.onAfter?.(Q),await k(),Q}finally{u(!1)}},[i,e,l]),R=(0,Ke.useCallback)(async A=>{if(P(!0),t?.onBefore&&!t.onBefore(A))throw P(!1),new Er.BusinessError({message:l("domain_verify.on_before")});try{let Q=await i.getMyOrgApiClient().organization.domains.verify.create(A.id);return t?.onAfter&&await t.onAfter(A),Q.status==="verified"}finally{P(!1)}},[t,l,i]),$=(0,Ke.useCallback)(async A=>{if(C(!0),o?.onBefore&&!o.onBefore(A))throw C(!1),new Er.BusinessError({message:l("domain_delete.on_before")});try{await i.getMyOrgApiClient().organization.domains.delete(A.id),o?.onAfter&&await o.onAfter(A),await k()}finally{C(!1)}},[o,k,l,i]),oe=(0,Ke.useCallback)(async(A,Q)=>{if(n?.onBefore&&!n.onBefore(A,Q))throw new Er.BusinessError({message:l("domain_associate_provider.on_before")});await i.getMyOrgApiClient().organization.identityProviders.domains.create(Q.id,{domain:A.domain}),n?.onAfter&&await n.onAfter(A,Q),await b(A)},[n,l,i,b]),re=(0,Ke.useCallback)(async(A,Q)=>{if(r?.onBefore&&!r.onBefore(A,Q))throw new Er.BusinessError({message:l("domain_delete_provider.on_before")});await i.getMyOrgApiClient().organization.identityProviders.domains.delete(Q.id,A.domain),r?.onAfter&&await r.onAfter(A,Q),await b(A)},[r,l,i,b]);return{domains:s,providers:d,isFetching:g,isCreating:f,isDeleting:y,isVerifying:F,isLoadingProviders:v,fetchProviders:b,fetchDomains:k,onCreateDomain:N,onVerifyDomain:R,onDeleteDomain:$,onAssociateToProvider:oe,onDeleteFromProvider:re}}var Fe=require("react");De();function id({t:e,onCreateDomain:o,onVerifyDomain:t,onDeleteDomain:n,onAssociateToProvider:r,onDeleteFromProvider:a,fetchProviders:l,fetchDomains:i}){let{coreClient:s}=ie(),{handleError:m}=Mr(),[d,c]=(0,Fe.useState)(!1),[f,u]=(0,Fe.useState)(!1),[g,h]=(0,Fe.useState)(!1),[v,x]=(0,Fe.useState)(void 0),[y,C]=(0,Fe.useState)(!1),[F,P]=(0,Fe.useState)(null),b=(0,Fe.useCallback)(async U=>{try{let V=await o({domain:U});H({type:"success",message:e("domain_table.notifications.domain_create.success",{domainName:V?.domain})}),P(V),c(!1),h(!0)}catch(V){m(V,{fallbackMessage:e("domain_table.notifications.domain_create.error")})}},[o,e,m]),k=(0,Fe.useCallback)(async U=>{try{await t(U)?(h(!1),H({type:"success",message:e("domain_table.notifications.domain_verify.success",{domainName:U.domain})})):x(e("domain_verify.modal.errors.verification_failed",{domainName:U.domain}))}catch(V){m(V,{fallbackMessage:e("domain_table.notifications.domain_verify.error")})}},[t,e,m]),N=(0,Fe.useCallback)(async U=>{try{await n(U),H({type:"success",message:e("domain_table.notifications.domain_delete.success",{domainName:U.domain})}),C(!1),h(!1)}catch(V){m(V,{fallbackMessage:e("domain_table.notifications.domain_delete.error")})}},[n,e,m]),R=(0,Fe.useCallback)(async(U,V,fe)=>{if(fe)try{await r(U,V),H({type:"success",message:e("domain_table.notifications.domain_associate_provider.success",{domain:U.domain,idp:V.name})})}catch(X){m(X,{fallbackMessage:e("domain_table.notifications.domain_associate_provider.error")})}else try{await a(U,V),H({type:"success",message:e("domain_table.notifications.domain_delete_provider.success",{domain:U.domain,idp:V.name})})}catch(X){m(X,{fallbackMessage:e("domain_table.notifications.domain_delete_provider.error")})}},[r,a,e,m]),$=(0,Fe.useCallback)(()=>{h(!1),x(void 0)},[]),oe=(0,Fe.useCallback)(()=>{c(!0)},[]),re=(0,Fe.useCallback)(async U=>{if(P(U),U.status!=="verified")h(!0);else try{await l(U),u(!0)}catch(V){m(V,{fallbackMessage:e("domain_table.notifications.fetch_providers_error")})}},[l,e,m]),A=(0,Fe.useCallback)(async U=>{P(U);try{await t(U)?(u(!0),H({type:"success",message:e("domain_table.notifications.domain_verify.success",{domainName:U.domain})})):H({type:"error",message:e("domain_table.notifications.domain_verify.verification_failed",{domainName:U.domain})})}catch(V){m(V,{fallbackMessage:e("domain_table.notifications.domain_verify.error")})}},[t,e,m]),Q=(0,Fe.useCallback)(U=>{P(U),h(!1),C(!0)},[]);return(0,Fe.useEffect)(()=>{if(s)try{i()}catch(U){m(U,{fallbackMessage:e("domain_table.notifications.fetch_domains_error")})}},[s]),{showCreateModal:d,showConfigureModal:f,showVerifyModal:g,showDeleteModal:y,verifyError:v,selectedDomain:F,setShowCreateModal:c,setShowConfigureModal:u,setShowVerifyModal:h,setShowDeleteModal:C,handleCreate:b,handleVerify:k,handleDelete:N,handleToggleSwitch:R,handleCloseVerifyModal:$,handleCreateClick:oe,handleConfigureClick:re,handleVerifyClick:A,handleDeleteClick:Q}}var so=require("react/jsx-runtime");function Cm({customMessages:e={},schema:o,styling:t={variables:{common:{},light:{},dark:{}},classes:{}},hideHeader:n=!1,readOnly:r=!1,createAction:a,verifyAction:l,deleteAction:i,associateToProviderAction:s,deleteFromProviderAction:m,onOpenProvider:d,onCreateProvider:c}){let{isDarkMode:f}=G(),{t:u}=w("domain_management",e),{domains:g,providers:h,isFetching:v,isCreating:x,isVerifying:y,isDeleting:C,isLoadingProviders:F,fetchProviders:P,fetchDomains:b,onCreateDomain:k,onVerifyDomain:N,onDeleteDomain:R,onAssociateToProvider:$,onDeleteFromProvider:oe}=nd({createAction:a,verifyAction:l,deleteAction:i,associateToProviderAction:s,deleteFromProviderAction:m,customMessages:e}),{showCreateModal:re,showConfigureModal:A,showVerifyModal:Q,showDeleteModal:U,verifyError:V,selectedDomain:fe,setShowCreateModal:X,setShowConfigureModal:_e,setShowDeleteModal:To,handleCreate:eo,handleVerify:oo,handleDelete:Ho,handleToggleSwitch:Nt,handleCloseVerifyModal:St,handleCreateClick:Ft,handleConfigureClick:q,handleVerifyClick:ce,handleDeleteClick:co}=id({t:u,onCreateDomain:k,onVerifyDomain:N,onDeleteDomain:R,onAssociateToProvider:$,onDeleteFromProvider:oe,fetchProviders:P,fetchDomains:b}),D=Jn.useMemo(()=>(0,yn.getComponentStyles)(t,f),[t,f]),M=Jn.useMemo(()=>[{type:"text",accessorKey:"domain",title:u("domain_table.table.columns.domain"),width:"35%",render:ge=>(0,so.jsx)("div",{className:"font-medium",children:ge.domain})},{type:"text",accessorKey:"status",title:u("domain_table.table.columns.status"),width:"25%",render:ge=>(0,so.jsx)(go,{variant:nn(ge.status),size:"sm",children:u(`shared.domain_statuses.${ge.status}`)})},{type:"actions",title:"",width:"20%",render:ge=>(0,so.jsx)(ad,{domain:ge,readOnly:r,customMessages:e,onView:q,onConfigure:q,onVerify:ce,onDelete:co})}],[u,r,e,q,ce,co]);return(0,so.jsxs)("div",{style:D.variables,children:[!n&&(0,so.jsx)("div",{className:D.classes?.["DomainTable-header"],children:(0,so.jsx)(ao,{title:u("domain_table.header.title"),description:u("domain_table.header.description"),actions:[{type:"button",label:u("domain_table.header.create_button_text"),onClick:()=>Ft(),icon:ld.Plus,disabled:a?.disabled||r||v}]})}),(0,so.jsx)(Io,{columns:M,data:g,loading:v,emptyState:{title:u("domain_table.table.empty_message")},className:D.classes?.["DomainTable-table"]}),(0,so.jsx)(ln,{className:D.classes?.["DomainTable-createModal"],isOpen:re,isLoading:x,schema:o?.create,onClose:()=>X(!1),onCreate:eo,customMessages:e.create}),(0,so.jsx)(rd,{className:D.classes?.["DomainTable-configureModal"],domain:fe,providers:h,isOpen:A,isLoading:F,isLoadingSwitch:!1,onClose:()=>_e(!1),onToggleSwitch:Nt,onOpenProvider:d,onCreateProvider:c,customMessages:e.configure}),(0,so.jsx)(dn,{className:D.classes?.["DomainTable-verifyModal"],isOpen:Q,isLoading:y,domain:fe,error:V,onClose:St,onVerify:oo,onDelete:co,customMessages:e.verify}),(0,so.jsx)(cn,{className:D.classes?.["DomainTable-deleteModal"],domain:fe,isOpen:U,isLoading:C,onClose:()=>To(!1),onDelete:Ho,customMessages:e.delete})]})}var sd=Mo(Cm,yn.MY_ORG_DOMAIN_SCOPES);De();la();da();0&&(module.exports={Auth0ComponentProvider,CoreClientContext,DomainTable,OrgDetailsEdit,ScopeManagerProvider,SsoProviderCreate,SsoProviderEdit,SsoProviderTable,ThemeContext,ThemeProvider,UserMFAMgmt,useContactEnrollment,useCoreClient,useCoreClientInitialization,useErrorHandler,useMFA,useOrgDetailsEdit,useOtpConfirmation,useOtpEnrollment,useScopeManager,useTheme,useTranslator});
//# sourceMappingURL=index.js.map