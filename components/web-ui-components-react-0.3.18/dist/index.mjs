import{a as Fa,b as ae,c as Da,d as Ma,e as Aa}from"./chunk-WMJJVEQX.mjs";import*as Mr from"react";import{useTheme as jl}from"next-themes";import{Toaster as Zl}from"sonner";import{jsx as es}from"react/jsx-runtime";var Nn=({...e})=>{let{theme:o="system"}=jl();return es(Zl,{theme:o,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};import{cva as rs}from"class-variance-authority";import{clsx as os}from"clsx";import{twMerge as ts}from"tailwind-merge";function p(...e){return ts(os(e))}import{jsx as Sn}from"react/jsx-runtime";var as=rs("text-surface inline-block h-8 w-8 rounded-full duration-[5000] ease-linear",{variants:{variant:{dots:"border-primary animate-[spin_5s_linear_infinite] border-6 border-dotted",pulse:"bg-primary animate-pulse",solid:"border-primary animate-spin border-2 border-e-transparent"},size:{sm:"size-4",md:"size-8",lg:"size-12"}},defaultVariants:{variant:"solid",size:"md"}});function Q({variant:e,size:o,className:t,...n}){return Sn("div",{className:p(as({variant:e,size:o}),t),...n,children:Sn("span",{className:"sr-only",children:"Loading..."})})}import*as Ia from"react";import{jsx as Fn}from"react/jsx-runtime";var Dn=({i18n:e,authDetails:o,children:t})=>{let n=Ia.useMemo(()=>({...o,contextInterface:void 0}),[o]),r=Da({authDetails:n,i18nOptions:e}),a=Ia.useMemo(()=>({coreClient:r}),[r]);return Fn(Fa.Provider,{value:a,children:Fn(Aa,{children:t})})};import{applyStyleOverrides as ns}from"@auth0/web-ui-components-core";import*as bt from"react";import{jsx as is}from"react/jsx-runtime";var Mn={common:{},light:{},dark:{}},Dr=bt.createContext({isDarkMode:!1,variables:Mn,loader:null}),Ea=({themeSettings:e,children:o})=>{let{variables:t,loader:n,mode:r,theme:a}=bt.useMemo(()=>({variables:e?.variables??Mn,loader:e?.loader??null,mode:e?.mode,theme:e?.theme}),[e]);return bt.useEffect(()=>{ns(t,r,a)},[t,r,a]),is(Dr.Provider,{value:{isDarkMode:r==="dark",variables:t,loader:n},children:o})};import{Fragment as cs,jsx as Zo,jsxs as ds}from"react/jsx-runtime";var ls=Mr.lazy(()=>import("./spa-provider-4TI7GU2O.mjs")),ss=({i18n:e,authDetails:o,themeSettings:t={theme:"default",mode:"light",variables:{common:{},light:{},dark:{}}},loader:n,children:r})=>ds(cs,{children:[Zo(Nn,{position:"top-right"}),Zo(Ea,{themeSettings:{mode:t.mode,variables:t.variables,loader:n,theme:t.theme},children:Zo(Mr.Suspense,{fallback:n||Zo("div",{className:"flex items-center justify-center min-h-[200px]",children:Zo(Q,{})}),children:o?.authProxyUrl?Zo(Dn,{i18n:e,authDetails:o,children:r}):Zo(ls,{i18n:e,authDetails:o,children:r})})})]});import{FACTOR_TYPE_PUSH_NOTIFICATION as Uc,getComponentStyles as Gc,USER_MFA_SCOPES as Kc}from"@auth0/web-ui-components-core";import*as fe from"react";import{toast as Nt}from"sonner";import{getComponentStyles as ws}from"@auth0/web-ui-components-core";import*as Ln from"react";import{useContext as ms}from"react";function V(){let e=ms(Dr);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}import{useMemo as ps,useCallback as us}from"react";function w(e,o){let{coreClient:t}=ae();if(!t)throw new Error("useTranslator must be used within Auth0ComponentProvider with initialized CoreClient");let n=ps(()=>t.i18nService.translator(e,o),[t,e,o]),r=us(async(a,l)=>{await t.i18nService.changeLanguage(a,l)},[t]);return{t:n,changeLanguage:r,currentLanguage:t.i18nService.currentLanguage,fallbackLanguage:t.i18nService.fallbackLanguage}}import{cva as fs}from"class-variance-authority";import*as An from"react";import{jsx as gs}from"react/jsx-runtime";var za=fs("focus-visible:ring-ring aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive theme-default:active:scale-[0.99] relative box-border inline-flex shrink-0 items-center justify-center gap-2 overflow-hidden text-sm font-medium whitespace-nowrap transition-all duration-150 ease-in-out outline-none focus-visible:ring-4 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",{variants:{variant:{primary:"shadow-button-resting hover:shadow-button-hover hover:border-primary/50 border-primary bg-primary text-primary-foreground hover:bg-primary/90 theme-default:before:from-primary-foreground/0 theme-default:before:to-primary-foreground/15 theme-default:before:absolute theme-default:before:top-0 theme-default:before:left-0 theme-default:before:block theme-default:before:h-full theme-default:before:w-full theme-default:before:bg-gradient-to-t theme-default:before:content-[''] border",outline:"dark:bg-muted/50 hover:text-accent-foreground shadow-button-outlined-resting hover:shadow-button-outlined-hover hover:border-accent bg-background hover:bg-muted text-primary border-primary/35 theme-default:before:from-primary/5 theme-default:before:to-primary/0 theme-default:before:absolute theme-default:before:top-0 theme-default:before:left-0 theme-default:before:block theme-default:before:h-full theme-default:before:w-full theme-default:before:bg-gradient-to-t theme-default:before:content-[''] border",ghost:"hover:bg-muted text-primary bg-transparent",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-button-destructive-resting hover:shadow-button-destructive-hover border-destructive-border/25 hover:border-destructive-border/50 theme-default:before:to-primary-foreground/50 theme-default:before:absolute theme-default:before:top-0 theme-default:before:left-0 theme-default:before:block theme-default:before:h-full theme-default:before:w-full theme-default:before:bg-gradient-to-t theme-default:before:content-[''] theme-default:border",link:"text-foreground underline-offset-4 hover:underline"},size:{default:"h-10 rounded-2xl px-4 py-2.5 has-[>svg]:px-3",xs:"h-7 rounded-md px-2 py-1.5 text-xs has-[>svg]:px-2",sm:"h-8 gap-1.5 rounded-xl px-3 py-2 text-xs has-[>svg]:px-2.5",lg:"h-12 rounded-3xl px-6 py-3 text-base has-[>svg]:px-4",icon:"size-7 rounded-xl"}},defaultVariants:{variant:"primary",size:"default"}});function T({className:e,variant:o,size:t,as:n,...r}){return gs(n?An.Fragment:"button",{className:p("button",za({variant:o,size:t}),e),...r})}import*as _e from"@radix-ui/react-dialog";import{XIcon as hs}from"lucide-react";import*as In from"react";import{jsx as Qe,jsxs as La}from"react/jsx-runtime";function wt({...e}){return Qe(_e.Root,{"data-slot":"dialog",...e})}function vs({...e}){return Qe(_e.Portal,{"data-slot":"dialog-portal",...e})}function xs({className:e,...o}){return Qe(_e.Overlay,{"data-slot":"dialog-overlay",className:p("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 duration-200 ease-in-out",e),...o})}function yt({className:e,children:o,showCloseButton:t=!0,...n}){return La(vs,{"data-slot":"dialog-portal",children:[Qe(xs,{}),La(_e.Content,{"data-slot":"dialog-content",className:p("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 shadow-bevel-2xl rounded-5xl fixed top-[50%] left-[50%] z-[999] grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 p-6 duration-200 ease-in-out sm:max-w-lg",e),...n,children:[o,t&&Qe(_e.Close,{asChild:!0,"data-slot":"dialog-close",className:"ring-offset-background absolute top-4 right-4",children:La(T,{variant:"ghost",size:"icon",children:[Qe(hs,{}),Qe("span",{className:"sr-only",children:"Close"})]})})]})]})}function kt({className:e,...o}){return Qe("div",{"data-slot":"dialog-header",className:p("flex flex-col gap-2 text-center sm:text-left",e),...o})}function En({className:e,...o}){return Qe("div",{"data-slot":"dialog-footer",className:p("flex flex-row gap-2 justify-end",e),...o})}function Ct({className:e,...o}){return Qe(_e.Title,{"data-slot":"dialog-title",className:p("text-lg text-primary leading-none font-semibold",e),...o})}function zn({className:e,...o}){return Qe(_e.Description,{"data-slot":"dialog-description",className:p("text-muted-foreground text-sm",e),...o})}import{jsx as bs}from"react/jsx-runtime";function Ro({className:e,orientation:o="horizontal",decorative:t=!0,...n}){return bs("div",{"data-slot":"separator","data-orientation":o,role:t?"none":"separator",className:p("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}import{jsx as Pt,jsxs as Ar}from"react/jsx-runtime";function On({open:e,onOpenChange:o,factorToDelete:t,isDeletingFactor:n,onConfirm:r,onCancel:a,styling:l={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:i}=w("mfa"),{isDarkMode:s}=V(),m=Ln.useMemo(()=>ws(l,s),[l,s]);return Pt(wt,{open:e,onOpenChange:o,children:Ar(yt,{style:m?.variables,className:p("w-[400px] max-h-[90vh]",m.classes?.["DeleteFactorConfirmation-dialogContent"]),children:[Ar(kt,{children:[Pt(Ct,{className:"text-center text-(length:--font-size-title) font-medium",children:i("delete_mfa_title")}),Pt(Ro,{className:"my-2"})]}),Ar("div",{className:"flex flex-col items-center mt-6",children:[Pt("p",{className:p("text-center text-(length:--font-size-paragraph) font-normal mb-10 text-primary"),children:i(`delete_mfa_${t?.type}_consent`)}),Ar("div",{className:"flex flex-row justify-end gap-3 w-full mt-6 mb-6",children:[Pt(T,{variant:"outline",size:"default",className:"text-sm",onClick:a,disabled:n,"aria-label":i("cancel"),children:i("cancel")}),Pt(T,{variant:"destructive",size:"default",className:"text-sm",onClick:()=>t&&r(t.id),disabled:n,"aria-label":i("confirm"),children:i(n?"deleting":"confirm")})]})]})]})})}import{jsx as ys}from"react/jsx-runtime";function Bn({message:e,className:o}){return ys("p",{className:p("text-sm text-(length:--font-size-paragraph) text-center text-muted-foreground",o),children:e})}import{jsx as Hn,jsxs as ks}from"react/jsx-runtime";function Vn({title:e,description:o,className:t}){return ks("div",{className:p("flex flex-col items-center justify-center p-4 space-y-2",t),role:"alert","aria-live":"assertive",children:[Hn("h1",{className:"text-base font-medium text-center text-destructive-foreground",id:"mfa-error-title",children:e}),Hn("p",{className:"text-sm text-center text-destructive-foreground whitespace-pre-line",children:o})]})}import{FACTOR_TYPE_PHONE as Ps,FACTOR_TYPE_EMAIL as _s}from"@auth0/web-ui-components-core";import{getComponentStyles as Rs}from"@auth0/web-ui-components-core";import{MoreVertical as Ts,Trash2 as Ns,Mail as Ss,Smartphone as Fs}from"lucide-react";import*as Kn from"react";import{jsx as Rt}from"react/jsx-runtime";function me({className:e,...o}){return Rt("div",{"data-slot":"card",className:p("bg-card text-card-foreground shadow-bevel-2xl flex flex-col gap-6 rounded-4xl py-6",e),...o})}function _t({className:e,...o}){return Rt("div",{"data-slot":"card-header",className:p("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...o})}function to({className:e,...o}){return Rt("div",{"data-slot":"card-title",className:p("leading-none font-semibold",e),...o})}function ro({className:e,...o}){return Rt("div",{"data-slot":"card-description",className:p("text-muted-foreground text-sm",e),...o})}function Ir({className:e,...o}){return Rt("div",{"data-slot":"card-action",className:p("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...o})}function ke({className:e,...o}){return Rt("div",{"data-slot":"card-content",className:p("px-6",e),...o})}import*as pe from"react";import{createPortal as Cs}from"react-dom";import{jsx as Oa}from"react/jsx-runtime";var Un=pe.createContext(null),Gn=()=>{let e=pe.useContext(Un);if(!e)throw new Error("Popover components must be used within a Popover");return e};function Er({children:e,open:o,onOpenChange:t}){let[n,r]=pe.useState(!1),a=o??n,l=pe.useRef(null),i=pe.useRef(null),[s,m]=pe.useState(null),d=pe.useCallback(f=>{f&&l.current&&m(l.current.getBoundingClientRect()),r(f),t?.(f)},[t]);pe.useEffect(()=>{let f=g=>{!l.current?.contains(g.target)&&!i.current?.contains(g.target)&&d(!1)},u=g=>{g.key==="Escape"&&d(!1)};if(a)return document.addEventListener("mousedown",f),document.addEventListener("keydown",u),document.body.style.overflow="hidden",()=>{document.removeEventListener("mousedown",f),document.removeEventListener("keydown",u),document.body.style.overflow=""}},[a,d]);let c={open:a,setOpen:d,triggerRef:l,contentRef:i,triggerRect:s};return Oa(Un.Provider,{value:c,"data-slot":"popover",children:e})}function zr({className:e,onClick:o,asChild:t,children:n,...r}){let{open:a,setOpen:l,triggerRef:i}=Gn(),s=c=>{o?.(c),l(!a)},m=pe.isValidElement(n)&&(n.type==="button"||typeof n.type=="function"&&(n.type.name==="Button"||"displayName"in n.type&&n.type.displayName==="Button"||n.type.name?.toLowerCase().includes("button"))||pe.isValidElement(n)&&n.props&&typeof n.props=="object"&&"role"in n.props&&n.props.role==="button"||n.props&&typeof n.props=="object"&&"type"in n.props&&n.props.type==="button");if(t||m){if(!pe.isValidElement(n))throw new Error("PopoverTrigger: asChild requires a valid React element as child");return pe.cloneElement(n,{ref:i,"data-slot":"popover-trigger","data-state":a?"open":"closed",onClick:s,className:p(pe.isValidElement(n)&&n.props&&typeof n.props=="object"&&"className"in n.props?n.props.className:void 0)})}return Oa("button",{ref:i,"data-slot":"popover-trigger","data-state":a?"open":"closed",className:p("inline-flex",e),onClick:s,...r,children:n})}function Lr({children:e,className:o,align:t="center",side:n="bottom",sideOffset:r=4,...a}){let{open:l,contentRef:i,triggerRect:s}=Gn();if(pe.useEffect(()=>{if(l&&i.current){let x=i.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');x.length>0?x[0].focus():i.current.focus()}},[l,i]),!l||!s)return null;let{top:m,left:d,width:c,height:f}=s,u={"--trigger-top":`${m}px`,"--trigger-left":`${d}px`,"--trigger-width":`${c}px`,"--trigger-height":`${f}px`,"--side-offset":`${r}px`},g=()=>{let x="fixed z-50",y={top:"bottom-[calc(100vh-var(--trigger-top)+var(--side-offset))]",bottom:"top-[calc(var(--trigger-top)+var(--trigger-height)+var(--side-offset))]",left:"right-[calc(100vw-var(--trigger-left)+var(--side-offset))] top-[var(--trigger-top)]",right:"left-[calc(var(--trigger-left)+var(--trigger-width)+var(--side-offset))] top-[var(--trigger-top)]"},C={top:{start:"left-[var(--trigger-left)]",center:"left-[calc(var(--trigger-left)+var(--trigger-width)/2)] -translate-x-1/2",end:"right-[calc(100vw-var(--trigger-left)-var(--trigger-width))]"},bottom:{start:"left-[var(--trigger-left)]",center:"left-[calc(var(--trigger-left)+var(--trigger-width)/2)] -translate-x-1/2",end:"right-[calc(100vw-var(--trigger-left)-var(--trigger-width))]"},left:{start:"top-[var(--trigger-top)]",center:"top-[calc(var(--trigger-top)+var(--trigger-height)/2)] -translate-y-1/2",end:"bottom-[calc(100vh-var(--trigger-top)-var(--trigger-height))]"},right:{start:"top-[var(--trigger-top)]",center:"top-[calc(var(--trigger-top)+var(--trigger-height)/2)] -translate-y-1/2",end:"bottom-[calc(100vh-var(--trigger-top)-var(--trigger-height))]"}};return`${x} ${y[n]} ${C[n][t]}`},h=()=>({top:{start:"origin-bottom-left",center:"origin-bottom",end:"origin-bottom-right"},bottom:{start:"origin-top-left",center:"origin-top",end:"origin-top-right"},left:{start:"origin-top-right",center:"origin-right",end:"origin-bottom-right"},right:{start:"origin-top-left",center:"origin-left",end:"origin-bottom-left"}})[n][t],v=Oa("div",{ref:i,"data-slot":"popover-content","data-state":l?"open":"closed","data-side":n,"data-align":t,tabIndex:-1,className:p("bg-popover text-popover-foreground animate-in fade-in-0 zoom-in-95 shadow-bevel-xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 w-72 overflow-hidden rounded-3xl ring-0 outline-hidden duration-150 ease-in-out outline-none focus:outline-none",g(),h(),o),style:u,...a,children:e});return Cs(v,document.body)}import{jsx as Xe,jsxs as Or}from"react/jsx-runtime";var Ds={[Ps]:Fs,[_s]:Ss};function $n({factors:e,factorType:o,readOnly:t,isEnabledFactor:n,onDeleteFactor:r,isDeletingFactor:a,disableDelete:l,styling:i={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:s}=w("mfa"),{isDarkMode:m}=V(),d=Ds[o],c=Kn.useMemo(()=>Rs(i,m),[i,m]);return Xe("div",{className:"space-y-2 mt-2",style:c?.variables,children:e.map(f=>Xe(me,{className:"border border-[color:var(--color-border)] rounded-lg shadow-none bg-transparent p-0 w-full","aria-label":s(`${o}.title`),children:Or(ke,{className:"flex flex-row items-center justify-between gap-3 p-3",children:[Or("div",{className:"flex items-center gap-3 min-w-0 flex-grow",children:[d&&Xe(d,{className:"w-5 h-5 text-muted-foreground shrink-0","aria-hidden":"true"}),Xe("span",{className:p("font-medium text-base text-(length:--font-size-body) text-foreground truncate"),title:f.name||f.id,children:f.name||f.id})]}),!t&&Xe("div",{className:"shrink-0",children:Or(Er,{children:[Xe(zr,{asChild:!0,children:Xe(T,{variant:"ghost",size:"icon","aria-label":s("actions"),className:"p-2",tabIndex:0,children:Xe(Ts,{className:"w-5 h-5","aria-hidden":"true"})})}),Xe(Lr,{className:"w-30 p-2",role:"menu",children:Or(T,{size:"sm",variant:"ghost",className:"flex items-center justify-center px-4 py-2 gap-2 text-red-600 font-normal text-sm w-full",onClick:()=>r(f.id,o),disabled:l||a||!n,"aria-label":s("remove"),role:"menuitem",children:[Xe(Ns,{className:"w-4 h-4 color-red-10","aria-hidden":"true"}),Xe("span",{className:"color-red-10",children:s("remove")})]})})]})})]})},f.id))})}import{FACTOR_TYPE_EMAIL as Dc,FACTOR_TYPE_PHONE as Mc,FACTOR_TYPE_TOTP as Ac,FACTOR_TYPE_PUSH_NOTIFICATION as Ic,FACTOR_TYPE_RECOVERY_CODE as Ec,getComponentStyles as zc}from"@auth0/web-ui-components-core";import*as Eo from"react";import{AppleLogoSvg as Ms}from"@auth0/web-ui-components-core";import As from"react";import{jsx as Es}from"react/jsx-runtime";var Is=({width:e=30,height:o=30,title:t="Apple logo",className:n,...r})=>Es("img",{src:Ms,alt:t,width:e,height:o,className:n,...r}),qn=As.memo(Is);import{GoogleLogoSvg as zs}from"@auth0/web-ui-components-core";import Ls from"react";import{jsx as Bs}from"react/jsx-runtime";var Os=({width:e=48,height:o=48,title:t="Google logo",className:n,...r})=>Bs("img",{src:zs,alt:t,width:e,height:o,className:n,...r}),Br=Ls.memo(Os);import{normalizeError as Hs}from"@auth0/web-ui-components-core";import{useState as Xn,useCallback as Jn}from"react";var Wn="enterOtp",Hr="showQr",To="enterContact",No="enroll",Yn="confirm",Ba="installation",Vr="scan",Qn="enter-otp",Ur="show_recovery";function jn({factorType:e,enrollMfa:o,onError:t,onClose:n}){let{t:r}=w("mfa"),[a,l]=Xn(!1),[i,s]=Xn({recoveryCode:"",authSession:"",authenticationMethodId:""}),m=Jn(async()=>{if(!a){l(!0);try{let c=await o(e,{});s({recoveryCode:"recovery_code"in c?c.recovery_code:"",authSession:"auth_session"in c?c.auth_session:"",authenticationMethodId:"id"in c?c.id:""})}catch(c){let f=Hs(c,{resolver:u=>r(`errors.${e}.${u}`,{},"An unexpected error occurred during recovery code generation.")});t(f,No),n()}finally{l(!1)}}},[a,e,o,t,n,r]),d=Jn(()=>{s({recoveryCode:"",authSession:"",authenticationMethodId:""}),l(!1)},[]);return{fetchRecoveryCode:m,recoveryCodeData:i,resetRecoveryCodeData:d,loading:a}}import{FACTOR_TYPE_EMAIL as ot,createEmailContactSchema as pc,createSmsContactSchema as uc,getComponentStyles as fc}from"@auth0/web-ui-components-core";import{zodResolver as gc}from"@hookform/resolvers/zod";import{MailIcon as hc,SmartphoneIcon as vc}from"lucide-react";import*as Do from"react";import{useForm as xc}from"react-hook-form";import{FACTOR_TYPE_EMAIL as Vs,FACTOR_TYPE_PHONE as Us,normalizeError as Gs}from"@auth0/web-ui-components-core";import{useState as Zn,useCallback as Ks}from"react";function Gr({factorType:e,enrollMfa:o,onError:t}){let{t:n}=w("mfa"),[r,a]=Zn(!1),[l,i]=Zn({contact:"",authSession:"",authenticationMethodId:""});return{onSubmitContact:Ks(async m=>{if(!r){a(!0);try{let d=e===Vs?{email:m.contact}:e===Us?{phone_number:m.contact}:{},c=await o(e,d),f="id"in c?c.id:"";i({contact:m.contact,authenticationMethodId:f,authSession:c.auth_session})}catch(d){let c=Gs(d,{resolver:f=>n(`errors.${e}.${f}`,{},"An unexpected error occurred during enrollment.")});t(c,No)}finally{a(!1)}}},[r,e,o,t,n]),loading:r,contactData:l,setContactData:i}}import{Slot as qs}from"@radix-ui/react-slot";import*as So from"react";import{Controller as Ws,FormProvider as Ys,useFormContext as Qs,useFormState as Xs}from"react-hook-form";import{jsx as $s}from"react/jsx-runtime";function ue({children:e,className:o,...t}){return $s("label",{className:p("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",o),...t,children:e})}import{jsx as Fo}from"react/jsx-runtime";var ne=Ys,ei=So.createContext({}),M=({...e})=>Fo(ei.Provider,{value:{name:e.name},children:Fo(Ws,{...e,render:({field:o,fieldState:t,formState:n})=>{let{onChange:r,onBlur:a,...l}=o;return e.render({field:{...l,onChange:(...i)=>{r(...i)},onBlur:(...i)=>{a(...i)}},fieldState:t,formState:n})}})}),Kr=()=>{let e=So.useContext(ei),o=So.useContext(oi),{getFieldState:t}=Qs(),n=Xs({name:e.name}),r=t(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");let{id:a}=o;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...r}},oi=So.createContext({});function A({className:e,...o}){let t=So.useId();return Fo(oi.Provider,{value:{id:t},children:Fo("div",{"data-slot":"form-item",className:p("grid gap-2",e),...o})})}function E({className:e,...o}){let{error:t,formItemId:n}=Kr();return Fo(ue,{"data-slot":"form-label","data-error":!!t,className:p("data-[error=true]:text-destructive-foreground",e),htmlFor:n,...o})}function I({...e}){let{error:o,formItemId:t,formDescriptionId:n,formMessageId:r}=Kr();return Fo(qs,{"data-slot":"form-control",id:t,"aria-describedby":o?`${n} ${r}`:`${n}`,"aria-invalid":!!o,...e})}function U({className:e,...o}){let{formDescriptionId:t}=Kr();return Fo("p",{"data-slot":"form-description",id:t,className:p("text-muted-foreground text-sm",e),...o})}function z({className:e,...o}){let{error:t,formMessageId:n}=Kr(),r=t?String(t?.message??""):o.children;return r?Fo("p",{"data-slot":"form-message",id:n,className:p("text-destructive-foreground text-sm",e),...o,children:r}):null}import{cva as Js}from"class-variance-authority";import*as ri from"react";import{jsx as $r,jsxs as ti}from"react/jsx-runtime";var js=Js("bg-input aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive theme-default:active:scale-[0.99] relative box-border inline-flex w-full shrink-0 cursor-text items-center justify-center gap-2 overflow-hidden rounded-2xl text-sm transition-[color,box-shadow] duration-150 ease-in-out outline-none disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",{variants:{variant:{default:"border-border/50 text-input-foreground shadow-input-resting hover:shadow-input-hover hover:border-primary/25 focus-within:border-border focus-within:ring-primary/15 focus-within:ring-4",error:"border-destructive-border/50 text-destructive-foreground shadow-input-destructive-resting hover:shadow-input-destructive-hover hover:border-destructive-border/25 focus-within:ring-destructive-border/15 focus-within:ring-4"},size:{default:"h-10",sm:"h-9",lg:"h-11"}},defaultVariants:{variant:"default",size:"default"}}),Y=ri.forwardRef(({className:e,variant:o,size:t,error:n,helperText:r,startAdornment:a,endAdornment:l,...i},s)=>{let m=i.disabled,d=i.id?"div":"label";return ti("div",{className:"flex w-full flex-col",children:[ti(d,{className:p(js({variant:n?"error":o,size:t}),"group items-center gap-0.5",m&&"bg-input-muted text-input-muted-foreground cursor-not-allowed opacity-50",m&&o==="default"&&"bg-input-muted",a&&"pl-[5px]",l&&"pr-[5px]",e),children:[a&&$r("div",{className:"[&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:a}),$r("input",{className:p("w-full flex-1 bg-transparent px-3 py-2 outline-none file:border-0 file:bg-transparent file:text-sm file:font-medium",m&&"bg-input-muted text-input-muted-foreground cursor-not-allowed opacity-50",a&&"pl-0",l&&"pr-0",t==="default"&&"h-10",t==="sm"&&"h-9",t==="lg"&&"h-11"),ref:s,...i}),l&&$r("div",{className:"[&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:l})]}),r&&$r("p",{className:p("mt-1.5 px-2 text-xs",n?"text-destructive-foreground":"text-muted-foreground"),children:r})]})});Y.displayName="TextField";import{FACTOR_TYPE_EMAIL as ic,FACTOR_TYPE_TOTP as lc,FACTOR_TYPE_PUSH_NOTIFICATION as sc,getComponentStyles as cc}from"@auth0/web-ui-components-core";import*as et from"react";import{useForm as dc}from"react-hook-form";import{normalizeError as Zs}from"@auth0/web-ui-components-core";import{useState as ec,useCallback as oc}from"react";function Tt({factorType:e,authSession:o,authenticationMethodId:t,confirmEnrollment:n,onError:r,onSuccess:a,onClose:l}){let{t:i}=w("mfa"),[s,m]=ec(!1);return{onSubmitOtp:oc(async c=>{if(!s){m(!0);try{let f={userOtpCode:c.userOtp};await n(e,o,t,f)&&(a(),l())}catch(f){let u=Zs(f,{resolver:g=>i(`errors.${e}.${g}`,{},"An unexpected error occurred during enrollment.")});r(u,Yn)}finally{m(!1)}}},[s,e,n,r,a,l,i]),loading:s}}import tc,{useRef as rc,useState as ac}from"react";import{jsx as Ha,jsxs as nc}from"react/jsx-runtime";function ai({length:e=6,placeholder:o,disabled:t,className:n,onChange:r,autoSubmit:a,separator:l,id:i,value:s,name:m,inputRef:d}){let[c,f]=ac(new Array(e).fill("")),u=rc([]),g=s!==void 0,h=s||"",v=g?Array.from({length:e},(P,b)=>h[b]||""):c,x=P=>{g||f(P)},y=(P,b)=>{let k=P.value;if(isNaN(Number(k)))return;let R=[...v];R[b]=k.substring(k.length-1),x(R);let _=R.join("");r?.(_),_.length===e&&a&&a(_),k&&b<e-1&&u.current[b+1]?.focus()},C=(P,b)=>{if((P.key==="Delete"||P.key==="Backspace")&&(P.ctrlKey||P.metaKey)){P.preventDefault();let k=new Array(e).fill("");x(k),r?.(""),u.current[0]?.focus();return}if(P.key==="ArrowLeft"){P.preventDefault(),b>0&&u.current[b-1]?.focus();return}if(P.key==="ArrowRight"){P.preventDefault(),b<e-1&&u.current[b+1]?.focus();return}if(P.key==="Home"){P.preventDefault(),u.current[0]?.focus();return}if(P.key==="End"){P.preventDefault(),u.current[e-1]?.focus();return}if(P.key==="Backspace"){if(!v[b]&&b>0){let k=[...v];k[b-1]="",x(k),r?.(k.join("")),u.current[b-1]?.focus()}return}if(P.key==="Delete"){if(v[b]){let k=[...v];k[b]="",x(k),r?.(k.join(""))}else if(b<e-1){let k=[...v];k[b+1]="",x(k),r?.(k.join(""))}return}if(P.key===" "){P.preventDefault();let k=v.findIndex((R,_)=>_>b&&!R);k!==-1?u.current[k]?.focus():b<e-1&&u.current[b+1]?.focus();return}},N=(P,b)=>{P.preventDefault();let k=P.clipboardData.getData("text").replace(/[^0-9]/g,"");if(!k)return;let R=[...v],_=e-b,G=k.slice(0,_);for(let D=b;D<Math.min(b+G.length,e);D++)R[D]="";for(let D=0;D<G.length&&b+D<e;D++)R[b+D]=G[D];x(R);let J=R.join("");r?.(J),J.length===e&&a&&a(J);let j=Math.min(b+G.length,e-1);setTimeout(()=>{u.current[j]?.focus()},0)};return Ha("div",{className:p("flex w-full items-center gap-2",n),children:v.map((P,b)=>nc(tc.Fragment,{children:[Ha(Y,{ref:k=>{u.current[b]=k,b===0&&d&&(typeof d=="function"?d(k):d.current=k)},type:"text",inputMode:"numeric",maxLength:1,value:P,placeholder:o,disabled:t,className:"flex-1 text-xl font-semibold *:text-center has-[input]:text-center",onChange:k=>y(k.target,b),onKeyDown:k=>C(k,b),onPaste:k=>N(k,b),id:b===0?i:void 0,name:b===0?m:void 0}),l?.afterEvery&&(b+1)%l.afterEvery===0&&b<e-1&&Ha("span",{className:"text-muted-foreground text-2xl font-semibold",children:l.character||"-"})]},b))})}import{jsx as ao,jsxs as Va}from"react/jsx-runtime";var mc=(e,o)=>{if(!e)return"";if(o===ic){let[t,n]=e.split("@");return!n||t.length<=2?e:`${t.slice(0,2)}${"*".repeat(t.length-2)}@${n}`}return e.length>6?`${e.slice(0,3)}${"*".repeat(e.length-6)}${e.slice(-3)}`:e};function qr({factorType:e,confirmEnrollment:o,onError:t,onSuccess:n,onClose:r,contact:a,authSession:l,authenticationMethodId:i,onBack:s,styling:m={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:d}=w("mfa"),{isDarkMode:c}=V(),f=et.useMemo(()=>cc(m,c),[m,c]),{onSubmitOtp:u,loading:g}=Tt({factorType:e,authSession:l,authenticationMethodId:i,confirmEnrollment:o,onError:t,onSuccess:n,onClose:r}),h=dc({mode:"onChange"}),v=h.watch("userOtp"),x=et.useRef(null);et.useEffect(()=>{x.current?.focus()},[]);let y=async P=>{await u(P)},C=et.useMemo(()=>a?mc(a,e):"",[a,e]),N=d(g?"enrollment_form.show_otp.verifying":"submit");return ao("div",{style:f.variables,className:"w-full max-w-sm mx-auto text-center",children:ao(ne,{...h,children:Va("form",{onSubmit:h.handleSubmit(y),autoComplete:"off",className:"space-y-6","aria-describedby":"otp-description",children:[ao("p",{id:"otp-description",className:p("text-sm text-primary font-normal text-center","text-(length:--font-size-paragraph)"),children:[sc,lc].includes(e)?d("enrollment_form.show_otp.enter_opt_code"):d("enrollment_form.show_otp.enter_verify_code",{verifier:C})}),ao(M,{control:h.control,name:"userOtp",render:({field:P})=>Va(A,{children:[ao(E,{className:"text-sm font-normal text-(length:--font-size-label)",htmlFor:"otp-input",children:d("enrollment_form.show_otp.one_time_passcode")}),ao(I,{children:ao(ai,{id:"otp-input",length:6,separator:{character:"-",afterEvery:3},onChange:P.onChange,inputRef:x,"aria-invalid":!!h.formState.errors.userOtp,value:P.value||""})}),ao(z,{className:"text-sm text-left text-(length:--font-size-paragraph)",id:"otp-error",role:"alert"})]})}),Va("div",{className:"flex flex-row justify-end gap-3 mt-6 mb-6",children:[ao(T,{type:"button",className:"text-sm",variant:"outline",size:"default",onClick:s,"aria-label":d("back"),children:d("back")}),ao(T,{type:"submit",className:"text-sm",size:"default",disabled:v?.length!==6||g,"aria-label":N,children:N})]})]})})})}import{Fragment as bc,jsx as be,jsxs as Wr}from"react/jsx-runtime";function ni({factorType:e,enrollMfa:o,onError:t,confirmEnrollment:n,onSuccess:r,onClose:a,schema:l,styling:i={variables:{common:{},light:{},dark:{}},classes:{}}}){let[s,m]=Do.useState(To),{t:d}=w("mfa"),{isDarkMode:c}=V(),f=Do.useMemo(()=>fc(i,c),[i,c]),{onSubmitContact:u,loading:g,contactData:h,setContactData:v}=Gr({factorType:e,enrollMfa:o,onError:t}),x=Do.useMemo(()=>e===ot?pc(d("errors.invalid_email"),l?.email):uc(d("errors.invalid_phone_number"),l?.phone),[e,d,l]),y=xc({resolver:gc(x),mode:"onTouched",reValidateMode:"onChange",defaultValues:{contact:h.contact||""}}),C=()=>{y.reset(),v({contact:"",authSession:"",authenticationMethodId:""}),a?.()},N=Do.useCallback(()=>{m(To)},[s]),P=Do.useCallback(async R=>{await u(R),m(Wn)},[u]);return s===To?be("div",{style:f?.variables,className:"w-full max-w-sm mx-auto",children:be("div",{className:"flex flex-col items-center justify-center flex-1 space-y-10",children:g?be("div",{className:"absolute inset-0 flex items-center justify-center",role:"status","aria-live":"polite",children:be(Q,{"aria-label":d("loading")})}):Wr(bc,{children:[be("p",{className:p("text-center text-primary text-sm text-(length:--font-size-paragraph) font-normal"),id:"contact-description",children:d(e===ot?"enrollment_form.enroll_email_description":"enrollment_form.enroll_sms_description")}),be("div",{className:"w-full",children:be(ne,{...y,children:Wr("form",{onSubmit:y.handleSubmit(P),className:"space-y-6","aria-describedby":"contact-description",children:[be(M,{control:y.control,name:"contact",render:({field:R})=>Wr(A,{children:[be(E,{className:"text-left text-sm text-(length:--font-size-paragraph)",htmlFor:"contact-input",children:d(e===ot?"enrollment_form.email_address":"enrollment_form.phone_number")}),be(I,{children:be(Y,{id:"contact-input",type:e===ot?"email":"tel",autoComplete:e===ot?"email":"tel",startAdornment:be("div",{className:"p-1.5","aria-hidden":"true",children:e===ot?be(hc,{}):be(vc,{})}),placeholder:d(e===ot?"enrollment_form.enroll_email_placeholder":"enrollment_form.enroll_sms_placeholder"),error:!!y.formState.errors.contact,"aria-invalid":!!y.formState.errors.contact,...R})}),be(z,{className:"text-left text-sm text-(length:--font-size-paragraph)",id:"contact-error",role:"alert"})]})}),Wr("div",{className:"flex flex-row justify-end gap-3 mt-6 mb-6",children:[be(T,{type:"button",className:"text-sm",variant:"outline",size:"default",onClick:C,"aria-label":d("cancel"),children:d("cancel")}),be(T,{type:"submit",size:"default",className:"text-sm",disabled:!y.formState.isValid||g,"aria-label":d("submit"),children:d("submit")})]})]})})})]})})}):be(qr,{factorType:e,confirmEnrollment:n,onError:t,onSuccess:r,onClose:a,contact:h.contact,authSession:h.authSession,authenticationMethodId:h.authenticationMethodId,onBack:N,styling:i})}import{getComponentStyles as Rc,FACTOR_TYPE_TOTP as Tc,FACTOR_TYPE_PUSH_NOTIFICATION as Nc}from"@auth0/web-ui-components-core";import*as ho from"react";import{normalizeError as wc}from"@auth0/web-ui-components-core";import{useState as ii,useCallback as li}from"react";function Yr({factorType:e,enrollMfa:o,onError:t,onClose:n}){let{t:r}=w("mfa"),[a,l]=ii(!1),[i,s]=ii({authSession:"",barcodeUri:"",authenticationMethodId:""}),m=li(async()=>{if(!a){l(!0);try{let c=await o(e,{});s({authSession:"auth_session"in c?c.auth_session:"",barcodeUri:"barcode_uri"in c?c.barcode_uri:"",authenticationMethodId:"id"in c?c.id:"",manualInputCode:"manual_input_code"in c?c.manual_input_code:""})}catch(c){let f=wc(c,{resolver:u=>r(`errors.${e}.${u}`,{},"An unexpected error occurred during enrollment.")});t(f,No),n()}finally{l(!1)}}},[a,e,o,t,n,r]),d=li(()=>{s({authSession:"",barcodeUri:"",authenticationMethodId:""}),l(!1)},[]);return{fetchOtpEnrollment:m,otpData:i,resetOtpData:d,loading:a}}import{Copy as Pc}from"lucide-react";import*as cr from"react";import*as Ae from"@radix-ui/react-tooltip";import{cva as yc}from"class-variance-authority";import*as si from"react";import{jsx as lr,jsxs as Cc}from"react/jsx-runtime";var kc=yc("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 shadow-bevel-lg z-50 w-fit rounded-xl px-2 py-1 text-sm text-balance",{variants:{position:{top:"origin-bottom",bottom:"origin-top",left:"origin-left",right:"origin-right"}},defaultVariants:{position:"top"}});function Mo({children:e,...o}){return lr(Ae.Provider,{children:lr(Ae.Root,{...o,children:e})})}function Ao({asChild:e=!0,...o}){return lr(Ae.Trigger,{asChild:e,...o})}var go=si.forwardRef(({className:e,side:o="top",position:t,sideOffset:n=8,children:r,...a},l)=>lr(Ae.Portal,{children:Cc(Ae.Content,{ref:l,side:o,sideOffset:n,className:p(kc({position:t||o}),e),...a,children:[r,lr(Ae.Arrow,{className:"fill-popover"})]})}));go.displayName=Ae.Content.displayName;import{jsx as sr,jsxs as ci}from"react/jsx-runtime";var ee=cr.forwardRef(({onCopy:e,copyButtonClassName:o,tooltipSide:t="top",tooltipAlign:n="end",readOnly:r=!0,endAdornment:a,...l},i)=>{let{t:s}=w("common"),[m,d]=cr.useState(s("copy")),[c,f]=cr.useState(!1),u=async()=>{l.value&&(await navigator.clipboard.writeText(String(l.value)),d(s("copied")),f(!0),setTimeout(()=>{d(s("copy")),f(!1)},1e3),e?.())},g=ci(Mo,{open:c,onOpenChange:f,children:[sr(Ao,{asChild:!0,children:sr(T,{type:"button",variant:"ghost",size:"icon",className:p("h-8 w-8",o),onClick:u,"aria-label":s("copy"),children:sr(Pc,{className:"h-4 w-4","aria-hidden":"true"})})}),sr(go,{side:t,align:n,sideOffset:5,className:"z-[1000]",children:m})]});return sr(Y,{ref:i,readOnly:r,...l,endAdornment:a?ci("div",{className:"flex items-center gap-1",children:[a,g]}):g})});ee.displayName="CopyableTextField";import _c from"qrcode";import*as Io from"react";import{jsx as dr}from"react/jsx-runtime";function di({value:e,size:o=150,className:t,alt:n="QR Code",loadingMessage:r="Loading QR code",errorMessage:a="Failed to load QR code"}){let[l,i]=Io.useState(null),[s,m]=Io.useState(!1),[d,c]=Io.useState(!0),{isDarkMode:f}=V(),u=Io.useMemo(()=>({dark:f?"#FFFFFF":"#000000",light:f?"#000000":"#FFFFFF"}),[f]);Io.useEffect(()=>{if(!e){i(null),m(!0),c(!1);return}let h=async()=>{try{let v=await _c.toDataURL(e,{width:o,margin:1,color:u});i(v),m(!1)}catch{i(null),m(!0)}finally{c(!1)}};c(!0),h()},[e,o,u]);let g={className:p("flex items-center justify-center rounded p-2","bg-gray-100 dark:bg-gray-800",s&&"text-gray-500 dark:text-gray-400 text-sm",t),style:{width:o,height:o}};return d?dr("div",{...g,"aria-label":r,children:dr(Q,{"aria-label":r})}):s||!l?dr("div",{...g,role:"alert","aria-live":"assertive","aria-label":a,children:dr("span",{children:a})}):dr("img",{src:l,alt:n,width:o,height:o,className:p("block rounded",t),style:{imageRendering:"pixelated"}})}import{jsx as Je,jsxs as Qr}from"react/jsx-runtime";function mi({factorType:e,enrollMfa:o,confirmEnrollment:t,onError:n,onSuccess:r,onClose:a,styling:l={variables:{common:{},light:{},dark:{}},classes:{}}}){let[i,s]=ho.useState(Vr),{t:m}=w("mfa"),{isDarkMode:d}=V(),c=ho.useMemo(()=>Rc(l,d),[l,d]),{fetchOtpEnrollment:f,otpData:u,resetOtpData:g,loading:h}=Yr({factorType:e,enrollMfa:o,onError:n,onClose:a});ho.useEffect(()=>{u?.barcodeUri||f()},[u?.barcodeUri,f]);let v=ho.useCallback(async()=>{if(e===Nc)try{await t(e,u.authSession,u.authenticationMethodId,{}),r(),g(),a()}catch(N){n(N instanceof Error?N:new Error("Unknown error"),"confirm")}else s(Qn)},[e,u,t,r,n,g,a]),x=ho.useCallback(()=>{s(Vr)},[]);return i===Vr?Je("div",{style:c.variables,className:"w-full",children:h?Je("div",{className:"absolute inset-0 flex items-center justify-center",role:"status","aria-live":"polite",children:Je(Q,{"aria-label":m("loading")})}):Qr("div",{className:"w-full max-w-sm mx-auto text-center",children:[Qr("div",{className:"mb-6",children:[Je("div",{className:"flex justify-center items-center mb-6",children:Je(di,{size:150,value:u.barcodeUri,alt:m("enrollment_form.show_otp.qr_code_description")})}),Je("p",{id:"qr-description",className:p("font-normal block text-sm text-center text-(length:--font-size-paragraph) text-primary"),children:m(e===Tc?"enrollment_form.show_otp.title":"enrollment_form.show_auth0_guardian_title")})]}),Qr("div",{"aria-describedby":"qr-description",children:[Je(ee,{value:u.manualInputCode||u?.barcodeUri}),Je("div",{className:"mt-3"}),Qr("div",{className:"flex flex-row justify-end gap-3 mt-6 mb-6",children:[Je(T,{type:"button",className:"text-sm",variant:"outline",size:"default",onClick:a,"aria-label":m("cancel"),children:m("cancel")}),Je(T,{type:"button",className:"text-sm",size:"default",onClick:v,"aria-label":m("continue"),children:m("continue")})]})]})]})}):Je(qr,{factorType:e,confirmEnrollment:t,onError:n,onSuccess:r,onClose:a,authSession:u.authSession,authenticationMethodId:u.authenticationMethodId,onBack:x,styling:l})}import{getComponentStyles as Sc,FACTOR_TYPE_RECOVERY_CODE as Fc}from"@auth0/web-ui-components-core";import*as Xr from"react";import{jsx as tt,jsxs as Ua}from"react/jsx-runtime";function pi({factorType:e,confirmEnrollment:o,onError:t,onSuccess:n,onClose:r,userOtp:a,recoveryCode:l,authSession:i,authenticationMethodId:s,onBack:m,styling:d={variables:{common:{},light:{},dark:{}},classes:{}},loading:c=!1}){let{t:f}=w("mfa"),{isDarkMode:u}=V(),g=Xr.useMemo(()=>Sc(d,u),[d,u]),h=e===Fc,{onSubmitOtp:v,loading:x}=Tt({factorType:e,authSession:i,authenticationMethodId:s,confirmEnrollment:o,onError:t,onSuccess:n,onClose:r}),y=Xr.useCallback(async()=>{h?(await o(e,i,s,{}),n()):a&&await v({userOtp:a})},[h,v,a,n,i,e,o,s]),C=f(x?"enrollment_form.show_otp.verifying":"submit");return tt("div",{style:g.variables,className:"w-full max-w-sm mx-auto text-center",children:c||x?tt("div",{className:"flex items-center justify-center py-16",children:tt(Q,{})}):Ua("div",{className:"space-y-6",children:[Ua("div",{children:[tt("p",{className:p("font-normal block text-sm text-center mb-4 text-primary"),children:f("enrollment_form.recovery_code_description")}),l&&tt(ee,{value:l})]}),Ua("div",{className:"flex flex-row justify-end gap-3 mt-6 mb-6",children:[tt(T,{type:"button",className:"text-sm",variant:"outline",size:"default",onClick:m,"aria-label":f("back"),children:f("back")}),tt(T,{type:"button",className:"text-sm",size:"default",disabled:!h&&c,onClick:y,"aria-label":C,children:C})]})]})})}import{jsx as Ce,jsxs as rt}from"react/jsx-runtime";function ui({open:e,onClose:o,factorType:t,enrollMfa:n,confirmEnrollment:r,onSuccess:a,onError:l,schema:i,styling:s={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:m}=w("mfa"),{isDarkMode:d}=V(),c=Eo.useMemo(()=>zc(s,d),[s,d]),[f,u]=Eo.useState(null),{fetchRecoveryCode:g,loading:h,recoveryCodeData:v,resetRecoveryCodeData:x}=jn({factorType:t,enrollMfa:n,onError:l,onClose:o});Eo.useEffect(()=>{e||u(null)},[e]),Eo.useEffect(()=>{if(!e)return;let N={[Dc]:To,[Mc]:To,[Ic]:Ba,[Ac]:Hr,[Ec]:Ur};u(N[t]??null)},[e,t]),Eo.useEffect(()=>{f===Ur&&g()},[f]);let y=()=>Ce("div",{style:c?.variables,className:"w-full max-w-sm mx-auto",children:rt("div",{className:"flex flex-col items-center justify-center flex-1 space-y-10",children:[Ce("p",{className:p("text-center text-primary text-sm text-(length:--font-size-paragraph) font-normal"),children:m("enrollment_form.show_otp.install_guardian_description")}),rt("div",{className:"flex gap-4 w-full",children:[Ce("a",{href:"https://apps.apple.com/us/app/auth0-guardian/id1093447833",target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:rt(me,{className:"flex flex-col items-center gap-1 min-w-24 p-6 h-full",children:[Ce(qn,{className:"w-8 h-8"}),Ce("span",{className:p("text-sm text-(length:--font-size-paragraph) text-center"),children:m("app-store")})]})}),Ce("a",{href:"https://play.google.com/store/apps/details?id=com.auth0.guardian",target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:rt(me,{className:"flex flex-col items-center gap-1 min-w-24 p-6 h-full",children:[Ce(Br,{className:"w-8 h-8"}),Ce("span",{className:p("text-sm text-(length:--font-size-paragraph) text-center"),children:m("google-play")})]})})]}),rt("div",{className:"flex flex-row justify-end gap-3 w-full mt-6 mb-6",children:[Ce(T,{type:"button",className:"text-sm",variant:"outline",size:"default",onClick:o,children:m("cancel")}),Ce(T,{type:"button",className:"text-sm",size:"default",onClick:()=>u(Hr),children:m("continue")})]})]})}),C=()=>{switch(f){case Ba:return y();case To:return Ce(ni,{factorType:t,enrollMfa:n,confirmEnrollment:r,onError:l,onSuccess:a,onClose:o,schema:i,styling:s});case Hr:return Ce(mi,{factorType:t,enrollMfa:n,confirmEnrollment:r,onError:l,onSuccess:a,onClose:o,styling:s});case Ur:return Ce(pi,{recoveryCode:v.recoveryCode,authSession:v.authSession,authenticationMethodId:v.authenticationMethodId,confirmEnrollment:r,onSuccess:()=>{a(),x()},onBack:()=>{x(),o()},styling:s,factorType:t,loading:h});default:return null}};return Ce(wt,{open:e&&!!f,onOpenChange:o,children:rt(yt,{style:c.variables,"aria-describedby":"mfa-setup-form",className:p("w-[400px] max-h-[90vh]",c.classes?.["UserMFASetupForm-dialogContent"]),children:[rt(kt,{children:[Ce(Ct,{className:"text-left font-medium text-xl text-(length:--font-size-title)",children:m("enrollment_form.enroll_title")}),Ce(Ro,{className:"my-2"})]}),C()]})})}import{cva as Lc}from"class-variance-authority";import{Fragment as Oc}from"react";import{jsx as Hc}from"react/jsx-runtime";var Bc=Lc("theme-default:shadow-xs box-border inline-flex items-center overflow-clip rounded-2xl border border-transparent font-medium",{variants:{variant:{default:"bg-primary text-primary-foreground theme-default:border-primary",secondary:"bg-muted text-muted-foreground theme-default:border-muted-foreground/25",outline:"border-border",info:"bg-info text-info-foreground theme-default:border-info-foreground/25",success:"bg-success theme-default:border-success-foreground/25 text-success-foreground",warning:"bg-warning theme-default:border-warning-foreground/25 text-warning-foreground",destructive:"bg-destructive theme-default:border-destructive-foreground/25 text-destructive-foreground"},size:{sm:"px-1.5 py-0.5 text-xs",md:"px-2 py-1 text-sm",lg:"px-2.5 py-1.5 text-sm"}},defaultVariants:{variant:"default",size:"md"}});function Oe({className:e,variant:o,size:t,asChild:n=!1,...r}){return Hc(n?Oc:"span",{"data-slot":"badge",className:p(Bc({variant:o,size:t}),e),...r})}import*as Ka from"react";import{jsx as mr,jsxs as Ga}from"react/jsx-runtime";var $a=Ka.forwardRef(({className:e,children:o,icon:t,description:n,info:r,...a},l)=>Ga("li",{ref:l,className:p("flex items-start gap-2",e),...a,children:[Ga("div",{className:"flex min-w-0 gap-2 flex-1",children:[t&&mr("div",{className:"text-muted-foreground mt-1 shrink-0",children:t}),Ga("div",{className:"min-w-0 flex-1",children:[mr("div",{className:"text-primary text-sm",children:o}),n&&mr("p",{className:"text-muted-foreground text-sm",children:n})]})]}),r&&mr("div",{className:"shrink-0",children:r})]}));$a.displayName="ListItem";var qa=Ka.forwardRef(({className:e,children:o,variant:t="plain",spacing:n="default",...r},a)=>mr("ul",{ref:a,className:p("text-sm",n==="tight"&&"space-y-2",n==="default"&&"space-y-3",n==="relaxed"&&"space-y-4",t==="bullet"&&"list-inside list-disc",t==="number"&&"list-inside list-decimal",t==="plain"&&"divide-border list-none divide-y",e),...r,children:o}));qa.displayName="List";import*as hi from"react";import{Fragment as Vc,jsx as Jr}from"react/jsx-runtime";function fi(e,o){if(!e)return!0;let t=e.split(" ").filter(Boolean),n=new Set(o.split(" ").filter(Boolean));return t.every(r=>n.has(r))}function gi(e){return e?e.split(" ").map(o=>o.trim()).filter(Boolean).sort().join(" "):""}function vi(e,o={}){return n=>{let{loader:r}=V(),{registerScopes:a,ensured:l}=Ma(),i=Jr("div",{className:"fixed inset-0 flex items-center justify-center",children:Jr(Q,{className:"h-8 w-8"})}),s=gi(o.myAccountApiScopes),m=gi(o.myOrgApiScopes),d=fi(s,l.me),c=fi(m,l["my-org"]);return hi.useEffect(()=>{o.myAccountApiScopes&&a("me",o.myAccountApiScopes),o.myOrgApiScopes&&a("my-org",o.myOrgApiScopes)},[o.myAccountApiScopes,o.myOrgApiScopes,a]),o.myAccountApiScopes&&!d||o.myOrgApiScopes&&!c?Jr(Vc,{children:r||i}):Jr(e,{...n})}}function no(e,o){return vi(e,{myOrgApiScopes:o})}function xi(e,o){return vi(e,{myAccountApiScopes:o})}import{MFAMappers as Wa}from"@auth0/web-ui-components-core";import{useCallback as jr}from"react";function Zr(){let{coreClient:e}=ae();if(!e)throw new Error("useMFA must be used within Auth0ComponentProvider with initialized CoreClient");let o=jr(async(a=!1)=>{let l=e.getMyAccountApiClient(),[i,s]=await Promise.all([l.factors.list(),l.authenticationMethods.list()]);return Wa.fromAPI(i,s,a)},[e]),t=jr((a,l={})=>{let i=e.getMyAccountApiClient(),s=Wa.buildEnrollParams(a,l);return i.authenticationMethods.create(s)},[e]),n=jr(a=>e.getMyAccountApiClient().authenticationMethods.delete(a),[e]),r=jr((a,l,i,s)=>{let m=e.getMyAccountApiClient(),d=Wa.buildConfirmEnrollmentParams(a,l,s);return m.authenticationMethods.verify(i,d)},[e]);return{fetchFactors:o,enrollMfa:t,deleteMfa:n,confirmEnrollment:r}}import{Fragment as bi,jsx as Pe,jsxs as St}from"react/jsx-runtime";function $c({customMessages:e={},styling:o={variables:{common:{},light:{},dark:{}},classes:{}},hideHeader:t=!1,showActiveOnly:n=!1,disableEnroll:r=!1,disableDelete:a=!1,readOnly:l=!1,factorConfig:i={},onEnroll:s,onDelete:m,onFetch:d,onErrorAction:c,onBeforeAction:f,schema:u}){let{t:g}=w("mfa",e),{loader:h,isDarkMode:v}=V(),x=fe.useMemo(()=>Gc(o,v),[o,v]),{fetchFactors:y,enrollMfa:C,deleteMfa:N,confirmEnrollment:P}=Zr(),[b,k]=fe.useState({}),[R,_]=fe.useState(!0),[G,J]=fe.useState(null),[j,D]=fe.useState(!1),[$,H]=fe.useState(!1),[B,ie]=fe.useState(null),[W,ge]=fe.useState(!1),[oo,De]=fe.useState(null),Me=fe.useCallback(async()=>{_(!0),J(null);try{let F=await y(n);k(F),d?.()}catch{J(g("errors.factors_loading_error"))}_(!1)},[y,n,d,c]);fe.useEffect(()=>{Me()},[]);let fo=fe.useMemo(()=>Object.keys(b).filter(F=>i[F]?.visible!==!1),[b,i]),Xo=fe.useMemo(()=>fo.every(F=>!b[F]?.some(le=>le.enrolled)),[fo,b]),Jo=F=>{ie(F),H(!0)},jo=fe.useCallback(()=>{H(!1),B===Uc&&Me(),ie(null)},[B,Me]),K=fe.useCallback(async(F,le)=>{if(!(l||a))if(f){if(!await f("delete",le))return;await oe(F)}else De({id:F,type:le}),ge(!0)},[l,a,f]),oe=fe.useCallback(async F=>{D(!0);let le=()=>{D(!1),ge(!1),De(null)};try{await N(F)}catch(Ye){let _o=Ye instanceof Error?Ye:new Error(g("errors.delete_factor"));Nt.error(g("errors.delete_factor")),c?.(_o,"delete"),le();return}Nt.success(g("remove_factor"),{duration:2e3,onAutoClose:()=>m?.()});try{await Me()}catch(Ye){let _o=Ye instanceof Error?Ye:new Error(g("errors.factors_loading_error"));c?.(_o,"delete")}finally{le()}},[N,Me,m,c,g]),Le=fe.useCallback(async()=>{H(!1),ie(null);try{Nt.success(g("enroll_factor"),{duration:2e3,onAutoClose:()=>{s?.()}}),await Me()}catch{Nt.dismiss(),Nt.error(g("errors.factors_loading_error"))}},[Me,s,g]),S=fe.useCallback((F,le)=>{Nt.error(`${g(le===No?"enrollment":"confirmation")} ${g("errors.failed",{message:F.message})}`),c?.(F,le)},[c,g]);return St("div",{style:x.variables,children:[R?Pe("div",{className:"flex items-center justify-center py-16",children:h||Pe(Q,{})}):Pe(me,{className:p("py-10 px-8 sm:py-8 sm:px-6",x.classes?.["UserMFAMgmt-card"]),children:Pe(ke,{children:G?Pe(Vn,{title:g("component_error_title"),description:g("component_error_description")}):St(bi,{children:[!t&&St(bi,{children:[Pe(to,{id:"mfa-management-title",className:"text-2xl text-(length:--font-size-heading) font-medium text-left",children:g("title")}),Pe(ro,{id:"mfa-management-desc",className:"text-sm text-(length:--font-size-paragraph) text-muted-foreground text-left",children:g("description")})]}),n&&Xo?Pe(Bn,{message:g("no_active_mfa")}):Pe(qa,{className:"flex flex-col gap-0 w-full","aria-labelledby":"mfa-management-title","aria-describedby":"mfa-management-desc",children:fo.map(F=>{let Ye=(b[F]||[]).filter(Jl=>Jl.enrolled),_o=i?.[F]?.enabled!==!1,Sa=Ye.length>0;return St($a,{className:p("w-full p-0 m-0 py-6 gap-3",!_o&&"opacity-50 pointer-events-none"),"aria-disabled":!_o,tabIndex:0,"aria-label":g(`${F}.title`),children:[St("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-3",children:[St("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[Pe("span",{className:p("break-words text-card-foreground whitespace-normal text-base text-(length:--font-size-body) font-medium"),id:`factor-title-${F}`,children:g(`${F}.title`)}),Sa&&Pe(Oe,{variant:"success",size:"sm",className:"shrink-0","aria-label":g("enabled"),children:g("enabled")})]}),!l&&Pe(T,{size:"default",variant:"outline",className:"text-sm w-full sm:w-auto shrink-0",onClick:()=>Jo(F),disabled:r||!_o,"aria-label":g(`${F}.button-text`),"aria-describedby":`factor-title-${F}`,children:g(`${F}.button-text`)})]}),!Sa&&Pe("p",{className:p("font-normal text-sm text-(length:--font-size-paragraph) text-muted-foreground text-left break-words"),id:`factor-desc-${F}`,children:g(`${F}.description`)}),Sa&&Pe($n,{factors:Ye,factorType:F,readOnly:l,isEnabledFactor:_o,onDeleteFactor:K,isDeletingFactor:j,disableDelete:a,styling:o})]},F)})})]})})}),B&&Pe(ui,{open:$,onClose:jo,factorType:B,enrollMfa:C,confirmEnrollment:P,onSuccess:Le,onError:S,schema:u,styling:o}),Pe(On,{open:W,onOpenChange:F=>!j&&ge(F),factorToDelete:oo,isDeletingFactor:j,onConfirm:oe,onCancel:()=>ge(!1),styling:o})]})}var qc=xi($c,Kc);import{getComponentStyles as kd,MY_ORG_DETAILS_EDIT_SCOPES as Cd}from"@auth0/web-ui-components-core";import*as Fi from"react";import{getComponentStyles as sd,createOrganizationDetailSchema as cd}from"@auth0/web-ui-components-core";import{zodResolver as dd}from"@hookform/resolvers/zod";import*as at from"react";import{useForm as md}from"react-hook-form";import*as Dt from"react";import{Fragment as Qc,jsx as Ft,jsxs as Ya}from"react/jsx-runtime";var Wc={type:"submit",label:"Save",variant:"primary",onClick:()=>{}},Yc={label:"Cancel",variant:"outline",onClick:()=>{}},zo=({hasUnsavedChanges:e=!1,isLoading:o=!1,nextAction:t,previousAction:n,className:r,showPrevious:a=!0,showNext:l=!0,showUnsavedChanges:i=!0,align:s="right",unsavedChangesText:m="Unsaved changes"})=>{let d=Dt.useMemo(()=>({...Wc,...t}),[t]),c=Dt.useMemo(()=>({...Yc,...n}),[n]),f=Dt.useCallback(h=>{d.onClick(h.nativeEvent)},[d.onClick]),u=Dt.useCallback(h=>{c.onClick(h.nativeEvent)},[c.onClick]),g=i&&e;return Ya("div",{className:p("flex flex-row items-center gap-4 p-2",s==="right"?"justify-end":"justify-start",r),children:[g&&Ya("div",{className:"flex items-center gap-2",children:[Ft("div",{className:"w-2 h-2 rounded-full bg-orange-500 transition-colors","aria-hidden":"true"}),Ft("span",{className:"text-sm text-muted-foreground",children:m})]}),a&&Ft(T,{type:"button",variant:c.variant,size:c.size,onClick:u,disabled:c.disabled||o,className:"FormActions-previous",children:c.label}),l&&Ft(T,{type:d.type,variant:d.variant,size:d.size,disabled:d.disabled||o,className:"FormActions-next",...d.type!=="submit"&&{onClick:f},children:o?Ft(Q,{size:"sm","aria-hidden":"true"}):Ya(Qc,{children:[d.icon&&Ft("span",{className:"mr-2","aria-hidden":"true",children:d.icon}),d.label]})})]})};import{cva as Xc}from"class-variance-authority";import*as ea from"react";import{jsx as Qa,jsxs as ed}from"react/jsx-runtime";var wi=/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Jc=e=>wi.test(e),jc=e=>{let o=e.replace(/^#+/,"");return o?`#${o.toUpperCase()}`:""},Zc=Xc("h-7 w-7 rounded",{variants:{disabled:{true:"opacity-50 cursor-not-allowed",false:"cursor-pointer hover:scale-105 transition-transform"}},defaultVariants:{disabled:!1}}),oa=ea.forwardRef(({className:e,value:o="",onChange:t,disabled:n=!1,id:r,error:a,helperText:l,placeholder:i,label:s,size:m,variant:d,...c},f)=>{let u=ea.useId(),g=r||u,h=b=>{let k=jc(b.target.value);t?.({...b,target:{...b.target,value:k}})},v=b=>{let k=b.target.value.toUpperCase();t?.({...b,target:{...b.target,value:k}})},x=b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),b.currentTarget.click())},y=Jc(o),C=!!(a||o&&!y),N=Qa("input",{type:"color",id:g,value:y?o.toUpperCase():"#000000",onChange:v,onKeyDown:x,disabled:n,className:Zc({disabled:n}),tabIndex:n?-1:0,"aria-label":s,"aria-describedby":l,"aria-invalid":C,title:o}),P=[l,a].filter(Boolean).join(" ");return ed("div",{className:p("w-full",e),role:"group","aria-labelledby":`${g}-label`,children:[s&&Qa(ue,{id:`${g}-label`,htmlFor:g,className:"mb-1 text-left","aria-required":c.required,children:s}),Qa(Y,{ref:f,id:g,type:"text",inputMode:"text",pattern:wi.source,value:o.toUpperCase(),onChange:h,disabled:n,className:"p-2",placeholder:i,"aria-invalid":C,"aria-describedby":P,"aria-label":s,error:C,helperText:l,startAdornment:N,size:m,variant:d,role:"textbox",...c})]})});oa.displayName="ColorPicker";import{Link as od,X as td}from"lucide-react";import*as ta from"react";import{jsx as io,jsxs as Xa}from"react/jsx-runtime";var Ja=ta.forwardRef(({value:e,onChange:o,disabled:t=!1,className:n,error:r,disableFileUpload:a=!1,placeholder:l,helperText:i,...s},m)=>{let d=ta.useRef(null),c=h=>{let v=h.target.files?.[0];if(!v)return;let x=new FileReader;x.onload=()=>{let y=x.result;o?.(y)},x.readAsDataURL(v)},f=h=>{o?.(h.target.value)},u=h=>{h.key==="Enter"&&h.preventDefault()},g=()=>{o?.(""),d.current&&(d.current.value="")};return io("div",{ref:m,className:p("w-full",n),children:Xa("div",{className:"border border-border rounded-lg overflow-hidden",children:[Xa("div",{className:p("relative border-b border-border p-6 flex items-center justify-center bg-muted/30 min-h-[120px]",t&&"opacity-50 cursor-not-allowed"),children:[e?Xa("div",{className:"relative",children:[io("img",{src:e,alt:"Preview",className:"h-20 w-20 object-cover rounded-lg"}),!t&&io(T,{variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-5 w-5 rounded-full",onClick:g,children:io(td,{className:"h-3 w-3"})})]}):io("div",{className:"h-20 w-20 bg-muted rounded-lg border-2 border-dashed border-border cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>!t&&!a&&d.current?.click()}),!a&&io("input",{ref:d,type:"file",accept:"image/*",onChange:c,className:"hidden",disabled:t})]}),io("div",{className:"p-4",children:io(Y,{value:e,placeholder:l,onChange:f,onKeyDown:u,disabled:t,error:!!r,helperText:i,startAdornment:io(T,{variant:"ghost",size:"icon",onClick:()=>d.current?.click(),disabled:t||a,className:p("h-8 w-8",a&&"opacity-50"),children:io(od,{className:"h-4 w-4"})}),...s})})]})})});Ja.displayName="ImagePreview";import{cva as rd}from"class-variance-authority";import{jsx as ki}from"react/jsx-runtime";var ad=rd("hover:bg-muted hover:text-muted-foreground data-[state=on]:bg-accent data-[state=on]:text-accent-foreground focus-visible:border-ring aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive theme-default:shadow-bevel-sm focus-visible:ring-ring inline-flex items-center justify-center gap-2 rounded-xl text-sm font-medium whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-3 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",{variants:{variant:{default:"hover:bg-muted data-[state=on]:bg-muted data-[state=on]:text-primary bg-transparent",outline:"data-[state=on]:bg-muted data-[state=on]:text-primary-foreground hover:bg-accent hover:text-accent-foreground shadow-input-resting bg-transparent"},size:{default:"h-9 min-w-9 px-2",sm:"h-8 min-w-8 px-1.5",lg:"h-10 min-w-10 px-2.5"}},defaultVariants:{variant:"default",size:"default"}});function nd({className:e,children:o,pressed:t,onPressedChange:n,variant:r="default",size:a="default",...l}){return ki("button",{type:"button","aria-pressed":t,"data-state":t?"on":"off","data-variant":r,onClick:()=>n?.(!t),className:p(ad({variant:r,size:a}),e),...l,children:o})}function yi(e){return ki(nd,{...e})}import{jsx as lo,jsxs as pr}from"react/jsx-runtime";var id=({icon:e,className:o,label:t,onClick:n,disabled:r,variant:a,size:l})=>pr(T,{onClick:n,disabled:r,variant:a,size:l,className:p("flex items-center gap-2 w-full sm:w-auto sm:min-w-fit",o),"aria-label":t,children:[e&&lo(e,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),lo("span",{className:"truncate",children:t})]}),ld=({icon:e,className:o,label:t,"aria-label":n,pressed:r,onPressedChange:a,disabled:l,variant:i,size:s})=>pr(yi,{pressed:r,onPressedChange:a,disabled:l,variant:i==="outline"?"outline":"default",size:s==="icon"||s==="xs"?"sm":s,className:p("flex items-center gap-2",o),"aria-label":n,children:[e&&lo(e,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),t&&lo("span",{className:"truncate",children:t})]});function Be({title:e,description:o,children:t,actions:n,className:r}){let a=(l,i)=>{let s=`action-${i}`;return l.type==="toggle"?lo(ld,{...l},s):lo(id,{...l},s)};return pr("div",{className:p("space-y-6",r),children:[pr("div",{className:"flex items-start justify-between gap-4",children:[pr("div",{className:"flex flex-col min-w-0 flex-1 space-y-2",children:[e&&lo("h3",{className:p("text-lg text-foreground text-(length:--font-size-subtitle) font-semibold mb-1 text-left"),children:e}),o&&lo("p",{className:p("text-sm text-muted-foreground text-left text-(length:--font-size-paragraph)"),children:o})]}),n&&n.length>0&&lo("div",{className:"flex-shrink-0 flex items-start gap-2 mt-1",children:n.map(a)})]}),lo("div",{className:"space-y-4",children:t})]})}import{jsx as he,jsxs as ra}from"react/jsx-runtime";function Ci({form:e,readOnly:o=!1,customMessages:t={},className:n}){let{t:r}=w("org_management.org_details",t);return he("div",{className:n,children:ra(Be,{title:r("sections.branding.title"),children:[he(M,{control:e.control,name:"branding.logo_url",render:({field:a,fieldState:l})=>ra(A,{children:[he(E,{className:"text-sm text-(length:--font-size-label) font-normal",children:r("sections.branding.fields.logo.label")}),he(I,{children:he(Ja,{error:l.error?.message,readOnly:o,...a,disableFileUpload:!0})}),he(z,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),he(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:r("sections.branding.fields.logo.helper_text")})]})}),he(M,{control:e.control,name:"branding.colors.primary",render:({field:a,fieldState:l})=>ra(A,{children:[he(E,{className:"text-sm text-(length:--font-size-label) font-normal",htmlFor:"primary-color",children:r("sections.branding.fields.primary_color.label")}),he(I,{children:he(oa,{id:"primary-color",error:!!l.error,readOnly:o,...a})}),he(z,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),he(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:r("sections.branding.fields.primary_color.helper_text")})]})}),he(M,{control:e.control,name:"branding.colors.page_background",render:({field:a,fieldState:l})=>ra(A,{children:[he(E,{className:"text-sm text-(length:--font-size-label) font-normal",htmlFor:"page-background-color",children:r("sections.branding.fields.page_background_color.label")}),he(I,{children:he(oa,{id:"page-background-color",error:!!l.error,readOnly:o,...a})}),he(z,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),he(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:r("sections.branding.fields.page_background_color.helper_text")})]})})]})})}import{jsx as Ie,jsxs as ja}from"react/jsx-runtime";function Pi({form:e,readOnly:o=!1,customMessages:t={},className:n}){let{t:r}=w("org_management.org_details",t);return Ie("div",{className:n,children:ja(Be,{title:r("sections.settings.title"),children:[Ie(M,{control:e.control,name:"name",render:({field:a})=>ja(A,{children:[Ie(E,{className:"text-sm text-(length:--font-size-label) font-normal",htmlFor:"organization-name",children:r("sections.settings.fields.name.label")}),Ie(I,{children:Ie(Y,{id:"organization-name",placeholder:r("sections.settings.fields.name.placeholder"),error:!!e.formState.errors.name,"aria-invalid":!!e.formState.errors.name,readOnly:!0,...a})}),Ie(z,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),Ie(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:r("sections.settings.fields.name.helper_text")})]})}),Ie(M,{control:e.control,name:"display_name",render:({field:a})=>ja(A,{children:[Ie(E,{className:"text-sm text-(length:--font-size-label) font-normal",htmlFor:"organization-display-name",children:r("sections.settings.fields.display_name.label")}),Ie(I,{children:Ie(Y,{id:"organization-display-name",placeholder:r("sections.settings.fields.display_name.placeholder"),error:!!e.formState.errors.display_name,"aria-invalid":!!e.formState.errors.display_name,readOnly:o,...a})}),Ie(z,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),Ie(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:r("sections.settings.fields.display_name.helper_text")})]})})]})})}import{jsx as vo,jsxs as pd}from"react/jsx-runtime";function _i({organization:e,isLoading:o=!1,schema:t,customMessages:n={},styling:r={variables:{common:{},light:{},dark:{}},classes:{}},readOnly:a=!1,formActions:l}){let{t:i}=w("org_management.org_details",n),{isDarkMode:s}=V(),m=at.useMemo(()=>sd(r,s),[r,s]),d=at.useMemo(()=>{let v=(x,y)=>{let C=t?.[x];return C?{...C,errorMessage:C.errorMessage||y}:{errorMessage:y}};return cd({name:v("name",i("sections.settings.fields.name.error")),displayName:v("displayName",i("sections.settings.fields.display_name.error")),color:v("color",i("sections.branding.fields.primary_color.error")),logoURL:v("logoURL",i("sections.branding.fields.logo.error"))})},[i,t]),c=at.useMemo(()=>({name:e.name,display_name:e.display_name,branding:{logo_url:e.branding.logo_url,colors:{primary:e.branding.colors.primary,page_background:e.branding.colors.page_background}}}),[e]),f=md({resolver:dd(d),defaultValues:c,values:c}),u=f.formState.isDirty,g=at.useCallback(async v=>{if(l?.nextAction?.onClick){let x={...v,name:e.name,id:e.id};await l.nextAction.onClick(x)&&f.reset(v,{keepValues:!0,keepDirty:!1,keepTouched:!1})}},[l?.nextAction,e.id,f]),h=at.useCallback(v=>{f.reset(),l?.previousAction?.onClick?.(v)},[f,l?.previousAction?.onClick]);return o?vo(Q,{}):vo("div",{style:m.variables,className:"w-full space-y-6",children:vo(ne,{...f,children:vo("form",{onSubmit:f.handleSubmit(g),className:"space-y-6",children:vo(me,{"data-testid":"org-details-card",className:p("p-6",m.classes?.OrgDetails_Card),children:pd("div",{className:"space-y-6",children:[vo(Pi,{form:f,readOnly:a,customMessages:n,className:m.classes?.OrgDetails_SettingsDetails}),vo(Ro,{}),vo(Ci,{form:f,readOnly:a,customMessages:n,className:m.classes?.OrgDetails_BrandingDetails}),vo(zo,{hasUnsavedChanges:u,isLoading:l.isLoading,nextAction:{label:i("submit_button_label"),disabled:l?.nextAction?.disabled||!u||l.isLoading||a,type:"submit"},previousAction:{label:i("cancel_button_label"),disabled:l?.previousAction?.disabled||l.isLoading||a,onClick:h},showPrevious:l?.showPrevious,unsavedChangesText:i("unsaved_changes_text"),showUnsavedChanges:l?.showUnsavedChanges,align:l?.align,className:m.classes?.OrgDetails_FormActions})]})})})})})}import{ArrowLeft as ud}from"lucide-react";import*as Ti from"react";import*as aa from"@radix-ui/react-switch";import{jsx as Ri}from"react/jsx-runtime";function He({className:e,...o}){return Ri(aa.Root,{"data-slot":"switch",className:p("theme-default:shadow-switch-resting data-[state=checked]:from-primary-foreground/0 data-[state=checked]:to-primary-foreground/25 from-primary-foreground/50 to-primary-foreground/0 bg-accent/50 hover:bg-accent/75 data-[state=checked]:hover:bg-primary theme-default:hover:shadow-switch-hover data-[state=checked]:bg-primary focus-visible:ring-ring focus-within:ring-ring relative h-7 w-[46px] rounded-full bg-gradient-to-l transition-all duration-150 ease-in-out focus-visible:ring-4 active:scale-95 disabled:cursor-not-allowed disabled:opacity-50",e),...o,children:Ri(aa.Thumb,{"data-slot":"switch-thumb",className:p("dark:bg-primary dark:shadow-switch-thumb-dark data-[state=checked]:dark:bg-background bg-background to-background/0 from-primary/5 shadow-switch-thumb data-[state=checked]:bg-background pointer-events-none absolute top-[4px] left-[4px] h-5 w-5 rounded-full bg-gradient-to-t transition-transform duration-150 ease-in-out data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}import{jsx as je,jsxs as ur}from"react/jsx-runtime";var fd=({icon:e,className:o,label:t,onClick:n,disabled:r,variant:a,size:l})=>ur(T,{onClick:n,disabled:r,variant:a,size:l,className:p("flex items-center gap-2 w-full sm:w-auto sm:min-w-fit",o),"aria-label":t,children:[e&&je(e,{className:"h-4 w-4 flex-shrink-0","aria-hidden":"true"}),je("span",{className:"truncate",children:t})]}),gd=({className:e,"aria-label":o,checked:t,onCheckedChange:n,disabled:r})=>je("div",{className:p("flex items-center gap-2",e),children:je(He,{checked:t,onCheckedChange:n,disabled:r,"aria-label":o})}),Ee=Ti.forwardRef(({title:e,description:o,backButton:t,actions:n,className:r,...a},l)=>{let i=t?.icon||ud,s=(m,d)=>{let c=`action-${d}`;return m.type==="switch"?je(gd,{...m},c):je(fd,{...m},c)};return ur("div",{ref:l,className:p("w-full mb-8",r),role:"banner","aria-label":e?`${e} header`:"Header",...a,children:[t&&ur(T,{variant:"link",onClick:t.onClick,size:"default",className:"flex items-center text-sm mb-3","aria-label":t.text||"Go back",children:[je(i,{className:"h-4 w-4","aria-hidden":"true"}),t.text&&je("span",{children:t.text})]}),ur("div",{className:"flex items-start justify-between gap-4",children:[ur("div",{className:"flex flex-col min-w-0 flex-1",children:[e&&je("h1",{className:p("text-xl sm:text-2xl text-primary md:text-4xl font-bold leading-tight break-words text-left text-(length:--font-size-page-header) mb-0"),children:e}),o&&je("p",{className:p("text-base text-muted-foreground leading-relaxed break-words text-left text-(length:--font-size-page-description) mt-2"),children:o})]}),n&&n.length>0&&je("div",{className:"flex-shrink-0 flex items-start gap-2 mt-1",children:n.map(s)})]})]})});Ee.displayName="Header";import{OrgDetailsFactory as bd,OrgDetailsMappers as Za}from"@auth0/web-ui-components-core";import{useCallback as Si,useMemo as wd,useState as en,useEffect as yd}from"react";import{Flag as hd}from"lucide-react";import{toast as vd}from"sonner";import{jsx as Ni}from"react/jsx-runtime";var xd={success:"text-success-foreground",error:"text-destructive-foreground",warning:"text-warning-foreground",info:"text-info-foreground"},L=({type:e,message:o,className:t,icon:n,data:r={}})=>{let a=xd[e],l=Ni(hd,{className:`h-4 w-4 ${a}`}),i=Ni("span",{className:a,children:o}),s={className:t,icon:n||l,...r};return vd[e](i,s)};function on({saveAction:e,cancelAction:o,readOnly:t=!1,customMessages:n={}}){let{t:r}=w("org_management.org_details_edit",n),{coreClient:a}=ae(),[l,i]=en(bd.create()),[s,m]=en(!1),[d,c]=en(!1),f=!a,u=Si(async()=>{if(a)try{m(!0);let v=await a.getMyOrgApiClient().organizationDetails.get(),x=Za.fromAPI(v);i(x)}catch(v){let x=v instanceof Error?r("org_changes_error_message",{message:v.message}):r("org_changes_error_message_generic");L({type:"error",message:x})}finally{m(!1)}},[a,r]),g=Si(async v=>{if(!a)return!1;try{if(c(!0),e?.onBefore&&!e.onBefore(v))return!1;let x=Za.toAPI(v),y=await a.getMyOrgApiClient().organizationDetails.update(x),C=Za.fromAPI(y);return i(C),L({type:"success",message:r("save_org_changes_message",{orgName:v.display_name||v.name})}),e?.onAfter&&e.onAfter(v),!0}catch(x){let y=x instanceof Error?r("org_changes_error_message",{message:x.message}):r("org_changes_error_message_generic");return L({type:"error",message:y}),!1}finally{c(!1)}},[e,r,a]),h=wd(()=>({isLoading:d,previousAction:{disabled:o?.disabled||t||!l||d||f,onClick:()=>l?o?.onAfter?.(l):void 0},nextAction:{disabled:e?.disabled||t||!l||d||f,onClick:g}}),[g,t,o,e?.disabled,l,d,f]);return yd(()=>{u()},[]),{organization:l,isFetchLoading:s,isSaveLoading:d,isInitializing:f,formActions:h,fetchOrgDetails:u,updateOrgDetails:g}}import{jsx as Mt,jsxs as Rd}from"react/jsx-runtime";function Pd({schema:e,customMessages:o={},styling:t={variables:{common:{},light:{},dark:{}},classes:{}},readOnly:n=!1,saveAction:r,cancelAction:a,hideHeader:l=!1,backButton:i}){let{t:s}=w("org_management.org_details_edit",o),{isDarkMode:m}=V(),{organization:d,isFetchLoading:c,formActions:f}=on({saveAction:r,cancelAction:a,readOnly:n,customMessages:o}),u=Fi.useMemo(()=>kd(t,m),[t,m]);return c?Mt("div",{style:u.variables,className:"flex items-center justify-center min-h-96 w-full",children:Mt(Q,{})}):Rd("div",{style:u.variables,className:"w-full",children:[!l&&Mt("div",{className:"mb-8",children:Mt(Ee,{title:s("header.title",{orgName:d.display_name||d.name||""}),backButton:i&&{...i,text:s("header.back_button_text")}})}),Mt("div",{className:"mb-8",children:Mt(_i,{organization:d,schema:e?.details,customMessages:o.details,styling:t,readOnly:n,formActions:f})})]})}var _d=no(Pd,Cd);import{getComponentStyles as am,STRATEGY_DISPLAY_NAMES as nm,MY_ORG_SSO_PROVIDER_TABLE_SCOPES as im}from"@auth0/web-ui-components-core";import{Plus as lm}from"lucide-react";import*as Re from"react";import*as Lo from"react";import{jsx as At,jsxs as Di}from"react/jsx-runtime";var ve=({open:e,onOpenChange:o,title:t,description:n,content:r,modalActions:a,className:l,showCloseButton:i})=>{let s=t||n,m={hasUnsavedChanges:!0,showPrevious:!0,showUnsavedChanges:!1,previousAction:{label:"Cancel",variant:"outline",onClick:()=>o(!1)},nextAction:{label:"Confirm",variant:"primary",onClick:()=>o(!1)},...a};return At(wt,{open:e,onOpenChange:o,children:Di(yt,{className:l,showCloseButton:i,children:[s&&Di(kt,{children:[t&&At(Ct,{children:t}),n&&At(zn,{children:n})]}),r&&At("div",{className:"py-4",children:r}),At(En,{children:At(zo,{...m})})]})})};ve.displayName="Modal";import{jsx as tn,jsxs as Td}from"react/jsx-runtime";function na({onChange:e,customMessages:o={},className:t}){let n=a=>{e("providerName",a.target.value)},{t:r}=w("idp_management.delete_sso_provider.modal.content",o);return Td("div",{className:t,children:[tn("p",{id:"delete-modal-content-description",className:p("font-normal block text-sm text-left text-(length:--font-size-paragraph) text-muted-foreground mt-6 mb-6"),children:r("description")}),tn(ue,{htmlFor:"provider-name",className:"text-sm text-(length:--font-size-label) font-medium",children:r("field.label")}),tn(Y,{id:"provider-name",type:"text",placeholder:r("field.placeholder"),onChange:n,className:"mt-2 mb-6"})]})}import{jsx as rn,jsxs as Nd}from"react/jsx-runtime";function ia({className:e,isOpen:o,onClose:t,provider:n,onDelete:r,isLoading:a=!1,customMessages:l={}}){let{t:i}=w("idp_management.delete_sso_provider",l),[s,m]=Lo.useState(""),d=Lo.useCallback((u,g)=>{m(g)},[]),c=Lo.useCallback(async()=>{n&&(await r(n),t())},[r,n,t]),f=Lo.useCallback(u=>{u||t()},[t]);return Lo.useEffect(()=>{o&&m("")},[o]),rn(ve,{open:o,onOpenChange:f,className:p("p-10",e),title:i("modal.title",{providerName:n.name}),content:Nd("div",{className:"space-y-6",children:[rn("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph)"),children:i("modal.description",{providerName:n.name})}),rn(na,{onChange:d,customMessages:l.modal?.content})]}),modalActions:{nextAction:{type:"button",label:i("modal.actions.delete_button_label"),onClick:c,variant:"destructive",disabled:a||s!==n.name},previousAction:{label:i("modal.actions.cancel_button_label"),onClick:t}}})}import*as Oo from"react";import{jsx as an,jsxs as Sd}from"react/jsx-runtime";function la({className:e,isOpen:o,onClose:t,provider:n,organizationName:r,onRemove:a,isLoading:l=!1,customMessages:i={}}){let{t:s}=w("idp_management.remove_sso_provider",i),[m,d]=Oo.useState(""),c=Oo.useCallback((g,h)=>{d(h)},[]),f=Oo.useCallback(async()=>{n&&(await a(n),t())},[a,n,t]),u=Oo.useCallback(g=>{g||t()},[t]);return Oo.useEffect(()=>{o&&d("")},[o]),an(ve,{open:o,onOpenChange:u,className:p("p-10",e),title:s("modal.title",{providerName:n.name,organizationName:r}),content:Sd("div",{className:"space-y-6",children:[an("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph)"),children:s("modal.description",{providerName:n.name})}),an(na,{onChange:c,customMessages:i.modal?.content})]}),modalActions:{nextAction:{type:"button",label:s("modal.actions.remove_button_text"),onClick:f,variant:"destructive",disabled:l||m!==n.name},previousAction:{label:s("modal.actions.cancel_button_text"),onClick:t}}})}import{MoreHorizontal as Fd,Edit as Dd,Trash2 as Mi}from"lucide-react";import*as fr from"react";import*as xe from"@radix-ui/react-dropdown-menu";import{CheckIcon as Sb,ChevronRightIcon as Fb,CircleIcon as Db}from"lucide-react";import{jsx as nt,jsxs as Eb}from"react/jsx-runtime";function sa({...e}){return nt(xe.Root,{"data-slot":"dropdown-menu",...e})}function ca({...e}){return nt(xe.Portal,{"data-slot":"dropdown-menu-portal",...e})}function da({className:e,variant:o,size:t,...n}){return nt(xe.Trigger,{asChild:!0,...n,children:nt(T,{"data-slot":"dropdown-menu-trigger",className:p(za({variant:o,size:t}),e),children:n.children})})}function ma({className:e,sideOffset:o=4,...t}){return nt(xe.Portal,{children:nt(xe.Content,{"data-slot":"dropdown-menu-content",sideOffset:o,className:p("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 shadow-bevel-xl z-50 min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-2xl p-1 outline-none",e),...t})})}function xo({className:e,inset:o,variant:t="default",...n}){return nt(xe.Item,{"data-slot":"dropdown-menu-item","data-inset":o,"data-variant":t,className:p("focus:bg-muted hover:bg-muted/50 focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-xl px-2 py-1.5 text-sm outline-none select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}import{jsx as it,jsxs as It}from"react/jsx-runtime";function Ai({provider:e,readOnly:o=!1,isUpdating:t=!1,customMessages:n={},edit:r,onToggleEnabled:a,onEdit:l,onDelete:i,onRemoveFromOrg:s}){let{t:m}=w("idp_management.sso_provider_table",n),d=fr.useCallback(g=>{a(e,g)},[e,a]),c=fr.useCallback(()=>{l(e)},[e,l]),f=fr.useCallback(()=>{i(e)},[e,i]),u=fr.useCallback(()=>{s(e)},[e,s]);return It("div",{className:"flex items-center justify-end gap-4 min-w-0",children:[it(He,{checked:e.is_enabled??!1,onCheckedChange:d,disabled:o||t}),It(sa,{children:[it(da,{className:"h-8 w-8 p-0 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 shadow-sm transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-800 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:it(Fd,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),it(ca,{children:It(ma,{align:"end",children:[It(xo,{onClick:c,disabled:o||!r||r.disabled,children:[it(Dd,{className:"mr-2 h-4 w-4"}),m("table.actions.edit_button_text")]}),It(xo,{onClick:f,className:"text-destructive-foreground focus:text-destructive-foreground",disabled:o,children:[it(Mi,{className:"mr-2 h-4 w-4"}),m("table.actions.delete_button_text")]}),It(xo,{onClick:u,className:"text-destructive-foreground focus:text-destructive-foreground",disabled:o,children:[it(Mi,{className:"mr-2 h-4 w-4"}),m("table.actions.remove_button_text")]})]})})]})]})}import{useReactTable as Id,getCoreRowModel as Ed,getSortedRowModel as zd,flexRender as Li}from"@tanstack/react-table";import{ChevronUpIcon as Ld,ChevronDownIcon as Od,ArrowUpDownIcon as Bd,Copy as Hd}from"lucide-react";import{useState as dn,useMemo as Vd}from"react";import{jsx as Md}from"react/jsx-runtime";function Ii({children:e,className:o}){return Md("code",{className:p("bg-background theme-default:shadow-input-resting theme-default:bg-secondary shadow-bevel-xs relative rounded-lg px-[0.35rem] py-[0.2rem] font-mono text-sm font-medium tracking-tight",o),children:e})}import{ChevronDownIcon as Ad,ChevronUpIcon as Ei}from"lucide-react";import Et from"react";import{jsx as Se,jsxs as zi}from"react/jsx-runtime";var nn=Et.forwardRef(({className:e,...o},t)=>Se("div",{className:"shadow-bevel-sm w-full overflow-clip rounded-2xl",children:Se("div",{className:"overflow-x-auto",children:Se("table",{ref:t,className:p("w-full border-collapse",e),...o})})}));nn.displayName="Table";var ln=Et.forwardRef(({className:e,...o},t)=>Se("thead",{ref:t,className:p("bg-muted text-primary text-sm",e),...o}));ln.displayName="TableHeader";var sn=Et.forwardRef(({className:e,...o},t)=>Se("tbody",{ref:t,className:p("[&_tr:last-child]:border-0",e),...o}));sn.displayName="TableBody";var gr=Et.forwardRef(({className:e,...o},t)=>Se("tr",{ref:t,className:p("hover:bg-muted/50 border-border/50 border-b text-sm transition-colors",e),...o}));gr.displayName="TableRow";var cn=Et.forwardRef(({className:e,children:o,isSortable:t,sortDirection:n,...r},a)=>Se("th",{ref:a,className:p("hover:bg-accent/10 border-border/50 border-b px-4 py-2 text-left",t&&"select-none",e),...r,children:zi("div",{className:"flex items-center gap-1",children:[o,t&&zi("div",{className:"ml-2 flex items-center",children:[n===!1&&Se(T,{variant:"ghost",size:"sm",className:"px-0.5 py-1",children:Se(Ei,{className:"text-muted-foreground h-4 w-4"})}),n==="asc"&&Se(T,{variant:"ghost",size:"sm",className:"px-0.5 py-1",children:Se(Ei,{className:"h-4 w-4"})}),n==="desc"&&Se(T,{variant:"ghost",size:"sm",className:"px-0.5 py-1",children:Se(Ad,{className:"h-4 w-4"})})]})]})}));cn.displayName="TableHead";var pa=Et.forwardRef(({className:e,...o},t)=>Se("td",{ref:t,className:p("px-4 py-2",e),...o}));pa.displayName="TableCell";import{Fragment as em,jsx as X,jsxs as hr}from"react/jsx-runtime";var Oi={text:{left:"text-left",center:"text-center",right:"text-right"},flex:{left:"justify-start",center:"justify-center",right:"justify-end"}},Ud=e=>e==null||e==="",Gd=(e,o="medium")=>{let t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";switch(o){case"short":return t.toLocaleDateString();case"long":return t.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});case"relative":{let n=new Date,r=t.getTime()-n.getTime(),a=Math.ceil(r/(1e3*60*60*24));return Math.abs(a)===0?"Today":a===1?"Tomorrow":a===-1?"Yesterday":a>0?`In ${a} days`:`${Math.abs(a)} days ago`}case"medium":default:return t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}},Kd={copyTooltip:"Copy to clipboard",copiedTooltip:"Copied!"};function $d({value:e,labels:o=Kd}){let[t,n]=dn(!1),[r,a]=dn(!1),l=async i=>{if(i.stopPropagation(),!!e)try{await navigator.clipboard.writeText(String(e)),n(!0),a(!0),setTimeout(()=>{n(!1),a(!1)},2e3)}catch(s){console.error("Failed to copy text:",s)}};return hr(Ii,{className:"w-full flex items-center justify-between gap-2 pr-1",children:[X("span",{className:"truncate text-muted-foreground",children:String(e)}),hr(Mo,{open:r,onOpenChange:a,children:[X(Ao,{asChild:!0,children:X(T,{variant:"ghost",size:"sm",onClick:l,className:"h-6 w-6 p-0 hover:bg-muted/50 shrink-0","aria-label":t?o.copiedTooltip:o.copyTooltip,children:X(Hd,{className:"h-3 w-3"})})}),X(go,{children:X("p",{children:t?o.copiedTooltip:o.copyTooltip})})]})]})}function qd(e,o,t){return t.render?t.render(e,o):X("span",{className:"text-muted-foreground",children:String(o)})}function Wd(e,o,t){if(t.render)return t.render(e,o);let n=Gd(o,t.format);return X("span",{className:"text-muted-foreground",title:new Date(o).toISOString(),children:n})}function Yd(e,o,t){return X("div",{onClick:r=>r.stopPropagation(),children:X(He,{checked:!!o,onCheckedChange:r=>{t.onToggle?.(r,e)}})})}function Qd(e,o){let t=n=>{n.stopPropagation(),o.onClick(e)};return X(T,{variant:o.variant,size:"sm",onClick:t,children:o.buttonText})}function Xd(e,o){return X(Oe,{variant:o.variant,children:String(e)})}function Jd(e){return X($d,{value:e})}function jd({title:e,subtitle:o,action:t}){return hr("div",{className:"text-center py-12",children:[X("h3",{className:"text-md font-semibold text-foreground mb-2",children:e}),o&&X("p",{className:"text-sm text-muted-foreground mb-4",children:o}),t&&X(T,{variant:t.variant,onClick:t.onClick,children:t.label})]})}function Zd({direction:e}){return X(e==="asc"?Ld:e==="desc"?Od:Bd,{className:e?"h-4 w-4":"h-4 w-4 opacity-50"})}function so({data:e,columns:o,loading:t=!1,loader:n,emptyState:r,onRowClick:a,className:l,headerAlign:i="left"}){let[s,m]=dn([]),d=Vd(()=>o.map((f,u)=>({id:`column-${u}`,accessorKey:f.accessorKey,header:f.title,size:f.width?isNaN(Number(f.width))?void 0:Number(f.width):void 0,enableSorting:f.enableSorting!==!1&&!!f.accessorKey,meta:{headerAlign:f.headerAlign||i||"left",column:f},cell:({getValue:g,row:h})=>{let v=g(),x=h.original;if(f.type==="actions")return X("div",{onClick:y=>y.stopPropagation(),children:f.render(x)});if(f.type==="custom")return X(em,{children:f.render(x,v)});if(f.type==="switch")return Yd(x,v,f);if(f.type==="button")return Qd(x,f);if(Ud(v))return null;switch(f.type){case"text":return qd(x,v,f);case"date":return Wd(x,v,f);case"copy":return Jd(v);case"badge":return Xd(v,f);default:return X("span",{className:"text-foreground",children:String(v)})}}})),[o,i]),c=Id({data:e,columns:d,state:{sorting:s},onSortingChange:m,getCoreRowModel:Ed(),getSortedRowModel:zd(),manualPagination:!0});return t?X("div",{className:p("w-full flex items-center justify-center py-8",l),children:n||X(Q,{})}):X("div",{className:p("w-full",l),children:hr(nn,{children:[X(ln,{children:c.getHeaderGroups().map(f=>X(gr,{children:f.headers.map(u=>{let g=u.column.getCanSort(),h=u.column.getIsSorted(),v=u.column.columnDef.meta;return X(cn,{className:p(g&&"cursor-pointer select-none hover:bg-muted/50","transition-colors",Oi.text[v.headerAlign]),style:{width:v.column.width,minWidth:v.column.width,maxWidth:v.column.width},onClick:g?u.column.getToggleSortingHandler():void 0,children:hr("div",{className:p("flex items-center space-x-2",Oi.flex[v.headerAlign]),children:[X("span",{children:Li(u.column.columnDef.header,u.getContext())}),g&&X(Zd,{direction:h})]})},u.id)})},f.id))}),X(sn,{children:c.getRowModel().rows.length===0?X(gr,{children:X(pa,{colSpan:o.length,children:X(jd,{...r??{title:"No data available",subtitle:"There are no items to display."}})})}):c.getRowModel().rows.map(f=>X(gr,{className:p(a&&"cursor-pointer hover:bg-muted/50","transition-colors"),onClick:()=>a?.(f.original),children:f.getVisibleCells().map(u=>{let g=u.column.columnDef.meta;return X(pa,{className:"text-left",style:{width:g.column.width,minWidth:g.column.width,maxWidth:g.column.width},children:Li(u.column.columnDef.cell,u.getContext())},u.id)})},f.id))})]})})}import{OrgDetailsMappers as om,SsoProviderMappers as tm}from"@auth0/web-ui-components-core";import{useCallback as vr,useState as zt,useEffect as rm}from"react";function Bi(e,o,t,n={}){let{t:r}=w("idp_management.notifications",n),{coreClient:a}=ae(),[l,i]=zt([]),[s,m]=zt(null),[d,c]=zt(!1),[f,u]=zt(!1),[g,h]=zt(!1),[v,x]=zt(!1),y=!a||d,C=vr(async()=>{if(!a)return null;try{let R=await a.getMyOrgApiClient().organizationDetails.get(),_=om.fromAPI(R);return m(_),_}catch{return L({type:"error",message:r("general_error")}),null}},[a,r]),N=vr(async()=>{if(a)try{c(!0);let _=(await a.getMyOrgApiClient().organization.identityProviders.list())?.identity_providers??[];i(_)}catch{L({type:"error",message:r("general_error")})}finally{c(!1)}},[a,r]),P=vr(async(R,_)=>{if(!R||!a||!R.id)return!1;try{if(x(!0),t?.onBefore&&!t.onBefore(R))return!1;let G=tm.updateToAPI({strategy:R.strategy,is_enabled:_}),J=await a.getMyOrgApiClient().organization.identityProviders.update(R.id,G);return t?.onAfter&&await t.onAfter(R),L({type:"success",message:r("update_success",{providerName:R.display_name})}),i(j=>j.map(D=>D.id===R.id?{...D,...J}:D)),!0}catch{return L({type:"error",message:r("general_error")}),!1}finally{x(!1)}},[t,r,a]),b=vr(async R=>{if(!(!R||!a||!R.id))try{u(!0),await a.getMyOrgApiClient().organization.identityProviders.delete(R.id),e?.onAfter&&await e.onAfter(R),L({type:"success",message:r("delete_success",{providerName:R.display_name})}),await N()}catch{L({type:"error",message:r("general_error")})}finally{u(!1)}},[e,N,r,a]),k=vr(async R=>{if(!(!R||!a||!R.id))try{h(!0);let _=await C();await a.getMyOrgApiClient().organization.identityProviders.detach(R.id),o?.onAfter&&await o.onAfter(R),L({type:"success",message:r("remove_success",{providerName:R.display_name,organizationName:_?.display_name})}),await N()}catch{L({type:"error",message:r("general_error")})}finally{h(!1)}},[o,N,C,r,a]);return rm(()=>{a&&(c(!0),Promise.allSettled([N(),C()]).finally(()=>{c(!1)}))},[a]),{providers:l,organization:s,isLoading:y,isDeleting:f,isRemoving:g,isUpdating:v,fetchProviders:N,fetchOrganizationDetails:C,onDeleteConfirm:b,onRemoveConfirm:k,onEnableProvider:P}}import{jsx as Ze,jsxs as dm}from"react/jsx-runtime";function sm({customMessages:e={},styling:o={variables:{common:{},light:{},dark:{}},classes:{}},readOnly:t=!1,createAction:n,editAction:r,deleteAction:a,deleteFromOrgAction:l,enableProviderAction:i}){let{isDarkMode:s}=V(),{t:m}=w("idp_management.sso_provider_table",e),{providers:d,isLoading:c,isDeleting:f,isRemoving:u,isUpdating:g,onDeleteConfirm:h,onRemoveConfirm:v,onEnableProvider:x,organization:y}=Bi(a,l,i,e),[C,N]=Re.useState(!1),[P,b]=Re.useState(!1),[k,R]=Re.useState(null),_=Re.useMemo(()=>am(o,s),[o,s]),G=Re.useCallback(()=>{n?.onAfter&&n.onAfter()},[n]),J=Re.useCallback(W=>{r?.onAfter&&r.onAfter(W)},[r]),j=Re.useCallback(W=>{R(W),!(a?.onBefore&&!a.onBefore(W))&&N(!0)},[a]),D=Re.useCallback(W=>{R(W),!(l?.onBefore&&!l.onBefore(W))&&b(!0)},[l]),$=Re.useCallback(async(W,ge)=>{t||!x||await x(W,ge)},[t,x]),H=Re.useCallback(async W=>{await h(W),N(!1),R(null)},[h,k]),B=Re.useCallback(async W=>{await v(W),b(!1),R(null)},[v]),ie=Re.useMemo(()=>[{type:"text",accessorKey:"name",title:m("table.columns.name"),width:"25%",render:W=>Ze("div",{className:"font-medium text-muted-foreground",children:W.name})},{type:"text",accessorKey:"display_name",width:"30%",title:m("table.columns.display_name"),render:W=>Ze("div",{className:"text-muted-foreground",children:W.display_name})},{type:"text",accessorKey:"strategy",title:m("table.columns.identity_provider"),width:"25%",render:W=>Ze("div",{className:"text-muted-foreground",children:nm[W.strategy]})},{type:"actions",title:"",width:"20%",render:W=>Ze(Ai,{provider:W,readOnly:t,isUpdating:g,customMessages:e,edit:r,onToggleEnabled:$,onEdit:J,onDelete:j,onRemoveFromOrg:D})}],[m,t,r,g,J,j,D,$]);return c?Ze("div",{className:"flex justify-center items-center p-8",children:Ze(Q,{})}):dm("div",{style:_.variables,children:[Ze("div",{className:_.classes?.["SsoProviderTable-header"],children:Ze(Ee,{title:m("header.title"),description:m("header.description"),actions:[{type:"button",label:m("header.create_button_text"),onClick:()=>G(),icon:lm,disabled:n?.disabled||t}]})}),Ze(so,{columns:ie,data:d,emptyState:{title:m("table.empty_message")},className:_.classes?.["SsoProviderTable-table"]}),k&&Ze(ia,{className:_.classes?.["SsoProviderTable-deleteProviderModal"],isOpen:C,onClose:()=>N(!1),provider:k,onDelete:H,isLoading:f,customMessages:e.delete_modal}),k&&Ze(la,{className:_.classes?.["SsoProviderTable-deleteProviderFromOrgModal"],isOpen:P,onClose:()=>b(!1),provider:k,organizationName:y?.name,onRemove:B,isLoading:u,customMessages:e.remove_modal})]})}var cm=no(sm,im);import{getComponentStyles as Lp,AVAILABLE_STRATEGY_LIST as Op,MY_ORG_SSO_PROVIDER_CREATE_SCOPES as Bp}from"@auth0/web-ui-components-core";import{useState as Hp,useRef as ul,useCallback as fl,useMemo as gl}from"react";import{Toaster as Vp}from"sonner";import*as Zt from"react";import{STRATEGIES as ct}from"@auth0/web-ui-components-core";import*as Qi from"react";import{createProviderConfigureSchema as um}from"@auth0/web-ui-components-core";import{zodResolver as fm}from"@hookform/resolvers/zod";import*as Ht from"react";import{useState as gm}from"react";import{useForm as hm}from"react-hook-form";import{Upload as mm,X as pm}from"lucide-react";import*as co from"react";import{jsx as lt,jsxs as Bo}from"react/jsx-runtime";function Lt({value:e=[],onChange:o,onRemove:t,maxSize:n,accept:r,maxFiles:a=1,preview:l=!0,className:i,disabled:s,...m}){let d=co.useRef(null),[c,f]=co.useState(!1),u=co.useCallback(y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?f(!0):y.type==="dragleave"&&f(!1)},[]),g=co.useCallback(y=>{y.preventDefault(),y.stopPropagation(),f(!1);let C=Array.from(y.dataTransfer.files);v(C)},[]),h=co.useCallback(y=>{let C=Array.from(y.target.files||[]);v(C)},[]),v=co.useCallback(y=>{if(s)return;let C=y.filter(N=>!(n&&N.size>n||r&&!r.split(",").some(P=>{let b=P.trim();return b.startsWith(".")?N.name.toLowerCase().endsWith(b.toLowerCase()):N.type.match(new RegExp(b.replace("*",".*")))})));o?.(a===1?C.slice(0,1):[...e,...C].slice(0,a)),d.current&&(d.current.value="")},[s,n,r,a,o,e]),x=co.useCallback(y=>{t?.(y),o?.(e.filter(C=>C!==y))},[o,t,e]);return Bo("div",{className:p("space-y-4",i),children:[Bo("div",{onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:g,className:p("border-muted-foreground/25 relative flex min-h-[150px] cursor-pointer items-center justify-center rounded-lg border-2 border-dashed p-4 text-center transition-colors",c&&"border-primary",s&&"cursor-not-allowed opacity-60",i),children:[lt("input",{ref:d,type:"file",multiple:a!==1,accept:r,onChange:h,disabled:s,className:"absolute inset-0 cursor-pointer opacity-0 disabled:cursor-not-allowed",...m}),Bo("div",{className:"flex flex-col items-center gap-2",children:[lt(mm,{className:"text-muted-foreground h-8 w-8"}),lt("p",{className:"text-muted-foreground text-sm",children:"Drag & drop files here, or click to select files"}),r&&Bo("p",{className:"text-muted-foreground text-xs",children:["Allowed files: ",r]}),n&&Bo("p",{className:"text-muted-foreground text-xs",children:["Max size: ",(n/1024/1024).toFixed(2),"MB"]})]})]}),l&&e.length>0&&lt("div",{className:"grid gap-4",children:e.map((y,C)=>Bo("div",{className:"flex items-center gap-2 rounded-md border p-2",children:[Bo("div",{className:"flex-1 truncate",children:[lt("p",{className:"text-sm font-medium",children:y.name}),Bo("p",{className:"text-muted-foreground text-xs",children:[(y.size/1024).toFixed(2),"KB"]})]}),lt("button",{type:"button",onClick:()=>x(y),className:"hover:bg-muted shrink-0 rounded-md p-1 transition-colors",disabled:s,children:lt(pm,{className:"size-4"})})]},C))})]})}import*as Ot from"@radix-ui/react-radio-group";import{jsx as mn}from"react/jsx-runtime";function Bt({className:e,...o}){return mn(Ot.RadioGroup,{"data-slot":"radio-group",className:p("space-y-2",e),...o})}function bo({className:e,...o}){return mn(Ot.Item,{"data-slot":"radio-group-item",className:p("shadow-checkbox-resting peer border-border hover:shadow-checkbox-hover data-[state=checked]:hover:border-primary data-[state=checked]:border-primary hover:border-accent focus-visible:ring-ring data-[disabled]:border-border/50 data-[disabled]:bg-muted/50 data-[disabled]:data-[state=checked]:border-border/50 size-5 appearance-none rounded-full border transition-all duration-150 ease-in-out focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:cursor-not-allowed data-[state=checked]:border-7",e),...o,children:mn(Ot.Indicator,{"data-slot":"radio-group-indicator",className:"fill-primary-foreground top-1/2 left-1/2 hidden size-2 -translate-x-1/2 -translate-y-1/2 data-[checked]:absolute"})})}import{jsx as te,jsxs as Ho}from"react/jsx-runtime";var Hi=Ht.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),[s,m]=gm([]),d=o,c=hm({resolver:fm(um("adfs")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{meta_data_source:d?.meta_data_source||"meta_data_url",meta_data_location_url:d?.meta_data_location_url||"",adfs_server:d?.adfs_server||"",fedMetadataXml:d?.fedMetadataXml||""}}),{isDirty:f}=c.formState;Ht.useEffect(()=>{a?.(f)},[f,a]),Ht.useImperativeHandle(l,()=>({validate:async()=>await c.trigger(),getData:()=>c.getValues(),isDirty:()=>c.formState.isDirty}));let g=c.watch("meta_data_source")==="meta_data_file",h=v=>{m(v),v.length>0&&c.setValue("fedMetadataXml",v[0].name)};return te(ne,{...c,children:Ho("div",{className:p("space-y-6",r),children:[te(M,{control:c.control,name:"meta_data_source",render:({field:v})=>Ho(A,{children:[te(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.adfs.meta_data_source.label")}),te(I,{children:Ho(Bt,{value:v.value,onValueChange:v.onChange,disabled:t,className:"flex flex-col space-y-2",children:[Ho("div",{className:"flex items-center space-x-2",children:[te(bo,{value:"meta_data_url",id:"meta_data_url"}),te(ue,{htmlFor:"meta_data_url",className:"text-sm font-normal cursor-pointer",children:i("fields.adfs.meta_data_source.options.meta_data_url.label")})]}),Ho("div",{className:"flex items-center space-x-2",children:[te(bo,{value:"meta_data_file",id:"meta_data_file"}),te(ue,{htmlFor:"meta_data_file",className:"text-sm font-normal cursor-pointer",children:i("fields.adfs.meta_data_source.options.meta_data_file.label")})]})]})}),te(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})}),te(M,{control:c.control,name:"adfs_server",render:({field:v,fieldState:x})=>Ho(A,{children:[te(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.adfs.meta_data_url.label")}),te(I,{children:te(Y,{type:"url",placeholder:i("fields.adfs.meta_data_url.placeholder"),error:!!x.error,readOnly:t,"aria-required":!0,"aria-invalid":!!x.error,...v})}),te(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),te(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.adfs.meta_data_url.helper_text")})]})}),te(M,{control:c.control,name:"meta_data_location_url",render:({field:v,fieldState:x})=>Ho(A,{children:[te(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.adfs.meta_data_location_url.label")}),te(I,{children:te(ee,{type:"url",placeholder:i("fields.adfs.meta_data_location_url.placeholder"),error:!!x.error,readOnly:t,...v})}),te(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),te(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.adfs.meta_data_location_url.helper_text")})]})}),g&&te(M,{control:c.control,name:"fedMetadataXml",render:()=>Ho(A,{children:[te(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.adfs.federation_metadata_file.label")}),te(I,{children:te("div",{className:"space-y-3",children:te(Lt,{accept:".pem",onChange:h,value:s,maxFiles:1,disabled:t,className:"w-full",placeholder:i("fields.adfs.federation_metadata_file.placeholder")})})}),te(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),te(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.adfs.federation_metadata_file.helper_text")})]})})]})})});import{createProviderConfigureSchema as vm}from"@auth0/web-ui-components-core";import{zodResolver as xm}from"@hookform/resolvers/zod";import*as Vo from"react";import{useForm as bm}from"react-hook-form";import{jsx as de,jsxs as xr}from"react/jsx-runtime";var Vi=Vo.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),{coreClient:s}=ae(),m=Vo.useMemo(()=>`https://${s?.auth?.domain||"your domain"}/login/callback`,[s?.auth?.domain]),d=o,c=bm({resolver:xm(vm("google-apps")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{domain:d?.domain||"",client_id:d?.client_id||"",client_secret:d?.client_secret||"",callback_url:m||""}}),{isDirty:f}=c.formState;return Vo.useEffect(()=>{a?.(f)},[f,a]),Vo.useImperativeHandle(l,()=>({validate:async()=>await c.trigger(),getData:()=>c.getValues(),isDirty:()=>c.formState.isDirty})),de(ne,{...c,children:xr("div",{className:p("space-y-6",r),children:[de(M,{control:c.control,name:"domain",render:({field:u,fieldState:g})=>xr(A,{children:[de(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.google-apps.domain.label")}),de(I,{children:de(Y,{type:"text",placeholder:i("fields.google-apps.domain.placeholder"),error:!!g.error,readOnly:t,...u})}),de(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})}),de(M,{control:c.control,name:"client_id",render:({field:u,fieldState:g})=>xr(A,{children:[de(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.google-apps.client_id.label")}),de(I,{children:de(ee,{type:"text",placeholder:i("fields.google-apps.client_id.placeholder"),error:!!g.error,readOnly:t,...u})}),de(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),de(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.google-apps.client_id.helper_text")})]})}),de(M,{control:c.control,name:"client_secret",render:({field:u,fieldState:g})=>xr(A,{children:[de(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.google-apps.client_secret.label")}),de(I,{children:de(ee,{type:"password",placeholder:i("fields.google-apps.client_secret.placeholder"),error:!!g.error,readOnly:t,...u})}),de(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),de(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.google-apps.client_secret.helper_text")})]})}),de(M,{control:c.control,name:"callback_url",render:({field:u,fieldState:g})=>xr(A,{children:[de(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.google-apps.callback_url.label")}),de(I,{children:de(ee,{type:"text",placeholder:i("fields.google-apps.callback_url.placeholder"),error:!!g.error,readOnly:!0,...u})}),de(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),de(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.google-apps.callback_url.helper_text")})]})})]})})});import{createProviderConfigureSchema as wm}from"@auth0/web-ui-components-core";import{zodResolver as ym}from"@hookform/resolvers/zod";import*as st from"react";import{useForm as km}from"react-hook-form";import{jsx as re,jsxs as Uo}from"react/jsx-runtime";var Ui=st.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),s=o,m=km({resolver:ym(wm("oidc")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{discovery_url:s?.discovery_url||"",type:s?.type||"back_channel",client_id:s?.client_id||"",client_secret:s?.client_secret||""}}),{isDirty:d}=m.formState;st.useEffect(()=>{a?.(d)},[d,a]),st.useImperativeHandle(l,()=>({validate:async()=>await m.trigger(),getData:()=>m.getValues(),isDirty:()=>m.formState.isDirty}));let c=m.watch("type"),f=c==="back_channel";return st.useEffect(()=>{c==="front_channel"&&(m.clearErrors("client_secret"),m.setValue("client_secret","",{shouldValidate:!1}))},[c,m]),re(ne,{...m,children:Uo("div",{className:p("space-y-6",r),children:[re(M,{control:m.control,name:"discovery_url",render:({field:u,fieldState:g})=>Uo(A,{children:[re(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.oidc.discovery_url.label")}),re(I,{children:re(Y,{type:"url",placeholder:i("fields.oidc.discovery_url.placeholder"),error:!!g.error,readOnly:t,"aria-required":!0,"aria-invalid":!!g.error,...u})}),re(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),re(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.oidc.discovery_url.helper_text")})]})}),re(M,{control:m.control,name:"type",render:({field:u})=>Uo(A,{children:[re(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.oidc.type.label")}),re(I,{children:Uo(Bt,{value:u.value,onValueChange:u.onChange,disabled:t,className:"flex flex-col space-y-2",children:[Uo("div",{className:"flex items-center space-x-2",children:[re(bo,{value:"back_channel",id:"back_channel"}),re(ue,{htmlFor:"back_channel",className:"text-sm font-normal cursor-pointer",children:i("fields.oidc.type.options.back_channel.label")})]}),Uo("div",{className:"flex items-center space-x-2",children:[re(bo,{value:"front_channel",id:"front_channel"}),re(ue,{htmlFor:"front_channel",className:"text-sm font-normal cursor-pointer",children:i("fields.oidc.type.options.front_channel.label")})]})]})}),re(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),re(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.oidc.type.helper_text")})]})}),re(M,{control:m.control,name:"client_id",render:({field:u,fieldState:g})=>Uo(A,{children:[re(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.oidc.client_id.label")}),re(I,{children:re(ee,{type:"text",placeholder:i("fields.oidc.client_id.placeholder"),error:!!g.error,readOnly:t,"aria-required":!0,"aria-invalid":!!g.error,...u})}),re(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),re(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.oidc.client_id.helper_text")})]})}),f&&re(M,{control:m.control,name:"client_secret",render:({field:u,fieldState:g})=>Uo(A,{children:[re(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.oidc.client_secret.label")}),re(I,{children:re(ee,{type:"password",placeholder:i("fields.oidc.client_secret.placeholder"),error:!!g.error,readOnly:t,"aria-required":!0,"aria-invalid":!!g.error,...u})}),re(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),re(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.oidc.client_secret.helper_text")})]})})]})})});import{createProviderConfigureSchema as Rm}from"@auth0/web-ui-components-core";import{zodResolver as Tm}from"@hookform/resolvers/zod";import*as Ko from"react";import{useForm as Nm}from"react-hook-form";import{cva as Cm}from"class-variance-authority";import{jsx as _m}from"react/jsx-runtime";var Pm=Cm("focus-within:ring-ring inline-flex items-center gap-2 rounded-md py-0.5 underline-offset-4 transition-colors focus:ring-3 focus-visible:outline-hidden",{variants:{variant:{destructive:"text-destructive hover:text-destructive/90",muted:"text-muted hover:text-muted/80",primary:"text-primary hover:text-primary/90"},underline:{none:"no-underline",hover:"no-underline hover:underline",always:"underline"}},defaultVariants:{variant:"primary",underline:"always"}});function Go({ref:e,className:o,children:t,variant:n,underline:r,...a}){return _m("a",{ref:e,className:p(Pm({variant:n,underline:r}),o),...a,children:t})}import{Fragment as un,jsx as Z,jsxs as br}from"react/jsx-runtime";var pn={domain:"https://developer.okta.com/docs/guides/find-your-domain/main/",client_id:"https://developer.okta.com/docs/guides/find-your-app-credentials/main",client_secret:"https://developer.okta.com/docs/guides/find-your-app-credentials/main"},Gi=Ko.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),{coreClient:s}=ae(),m=Ko.useMemo(()=>`https://${s?.auth?.domain||"your domain"}/login/callback`,[s?.auth?.domain]),d=o,c=Nm({resolver:Tm(Rm("okta")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{domain:d?.domain||"",client_id:d?.client_id||"",client_secret:d?.client_secret||"",icon_url:d?.icon_url||"",callback_url:d?.callback_url||m}}),{isDirty:f}=c.formState;return Ko.useEffect(()=>{a?.(f)},[f,a]),Ko.useImperativeHandle(l,()=>({validate:async()=>await c.trigger(),getData:()=>c.getValues(),isDirty:()=>c.formState.isDirty})),Z(ne,{...c,children:br("div",{className:p("space-y-6",r),children:[Z(M,{control:c.control,name:"domain",render:({field:u,fieldState:g})=>br(A,{children:[Z(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.okta.domain.label")}),Z(I,{children:Z(Y,{type:"text",placeholder:i("fields.okta.domain.placeholder"),error:!!g.error,readOnly:t,...u})}),Z(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),Z(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:Z(un,{children:i.trans("fields.okta.domain.helper_text",{components:{link:h=>Z(Go,{href:pn.domain,target:"_blank",rel:"noopener noreferrer",children:h})}})})})]})}),Z(M,{control:c.control,name:"client_id",render:({field:u,fieldState:g})=>br(A,{children:[Z(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.okta.client_id.label")}),Z(I,{children:Z(ee,{type:"text",placeholder:i("fields.okta.client_id.placeholder"),error:!!g.error,readOnly:t,...u})}),Z(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),Z(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:Z(un,{children:i.trans("fields.okta.client_id.helper_text",{components:{link:h=>Z(Go,{href:pn.client_id,target:"_blank",rel:"noopener noreferrer",children:h})}})})})]})}),Z(M,{control:c.control,name:"client_secret",render:({field:u,fieldState:g})=>br(A,{children:[Z(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.okta.client_secret.label")}),Z(I,{children:Z(ee,{type:"password",placeholder:i("fields.okta.client_secret.placeholder"),error:!!g.error,readOnly:t,...u})}),Z(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),Z(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:Z(un,{children:i.trans("fields.okta.client_secret.helper_text",{components:{link:h=>Z(Go,{href:pn.client_secret,target:"_blank",rel:"noopener noreferrer",children:h})}})})})]})}),Z(M,{control:c.control,name:"callback_url",render:({field:u,fieldState:g})=>br(A,{children:[Z(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.okta.callback_url.label")}),Z(I,{children:Z(ee,{type:"text",placeholder:i("fields.okta.callback_url.placeholder"),error:!!g.error,readOnly:!0,...u})}),Z(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),Z(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.okta.callback_url.helper_text")})]})})]})})});import{createProviderConfigureSchema as Em}from"@auth0/web-ui-components-core";import{zodResolver as zm}from"@hookform/resolvers/zod";import*as Jt from"react";import{useState as Lm}from"react";import{useForm as Om}from"react-hook-form";import*as mo from"@radix-ui/react-accordion";import{ChevronDown as Sm}from"lucide-react";import{jsx as Vt,jsxs as Fm}from"react/jsx-runtime";function Ut({className:e,...o}){return Vt(mo.Root,{"data-slot":"accordion",className:p("w-full space-y-2 bg-card",e),...o})}function Gt({className:e,...o}){return Vt(mo.Item,{"data-slot":"accordion-item",className:p("text-card-foreground shadow-bevel-2xl flex flex-col rounded-2xl transition-all duration-150 ease-in-out",e),...o})}function Kt({className:e,children:o,...t}){return Vt(mo.Header,{className:"flex",children:Fm(mo.Trigger,{"data-slot":"accordion-trigger",className:p("group text-foreground focus-visible:ring-ring flex w-full items-center justify-between px-4 py-3 text-sm font-medium transition-all duration-150 ease-in-out focus-visible:ring-2 focus-visible:outline-hidden disabled:cursor-not-allowed [&[data-state=open]>svg]:rotate-180",e),...t,children:[o,Vt(Sm,{className:"text-muted-foreground size-4 shrink-0 transition-transform duration-150"})]})})}function $t({className:e,children:o,...t}){return Vt(mo.Content,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...t,children:Vt("div",{className:p("text-muted-foreground border-border animate-in fade-in-50 mx-4 min-h-10 border-t py-3 text-sm transition-all duration-150 ease-in-out",e),children:o})})}import*as fa from"@radix-ui/react-checkbox";import{CheckIcon as Dm,MinusIcon as Mm}from"lucide-react";import{jsx as ua}from"react/jsx-runtime";function ga({className:e,...o}){return ua(fa.Root,{"data-slot":"checkbox",className:p("group shadow-checkbox-resting peer hover:shadow-checkbox-hover focus-visible:ring-ring hover:border-primary/50 border-border data-[state=checked]:bg-primary data-[state=indeterminate]:border-primary data-[state=indeterminate]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive relative flex size-6 shrink-0 appearance-none items-center justify-center rounded-lg border transition-[colors,shadow] duration-150 ease-in-out outline-none focus-visible:ring-3 disabled:cursor-not-allowed disabled:opacity-50",e),...o,children:ua(fa.Indicator,{"data-slot":"checkbox-indicator",className:"group-data-[state=checked]:animate-in group-data-[state=unchecked]:animate-out group-data-[state=unchecked]:fade-out-0 group-data-[state=checked]:fade-in-0 group-data-[state=unchecked]:slide-out-to-bottom-5 group-data-[state=unchecked]:zoom-out-75 group-data-[state=checked]:zoom-in-75 group-data-[state=checked]:slide-in-from-bottom-5 text-primary-foreground stroke-primary-foreground duration-150 ease-in-out group-data-[state=checked]:block",children:o.checked==="indeterminate"?ua(Mm,{className:"size-3 stroke-[4px]",absoluteStrokeWidth:!0}):ua(Dm,{className:"size-3 stroke-[4px]",absoluteStrokeWidth:!0})})})}import{Check as Am,ChevronDown as Im,ChevronUp as Wy}from"lucide-react";import*as se from"react";import{jsx as Ve,jsxs as Ki}from"react/jsx-runtime";var wr=se.createContext(null),qt=({value:e,onValueChange:o,defaultValue:t,children:n,name:r,id:a,...l})=>{let[i,s]=se.useState(!1),[m,d]=se.useState(t),[c,f]=se.useState(-1),[u,g]=se.useState(""),h=se.useRef([]),v=se.useRef(null),x=e??m,y=se.useCallback((b,k)=>{h.current.find(_=>_.value===b)?h.current=h.current.map(_=>_.value===b?{value:b,label:k}:_):h.current=[...h.current,{value:b,label:k}]},[]),C=se.useCallback(b=>{h.current=h.current.filter(k=>k.value!==b)},[]),N=se.useCallback(()=>h.current,[]);se.useEffect(()=>{if(i&&h.current.length>0){let b=h.current.findIndex(k=>k.value===x);f(b>=0?b:0)}else i||f(-1)},[i,x]);let P=se.useCallback(b=>{let k=h.current;if(!k||k.length===0)return;v.current&&clearTimeout(v.current);let R=u+b.toLowerCase();g(R);let _=k.findIndex(G=>G.label.toLowerCase().startsWith(R));_!==-1&&(i||s(!0),f(_)),v.current=setTimeout(()=>{g("")},500)},[u,i]);return Ve(wr.Provider,{value:{value:x,onChange:b=>{d(b),o?.(b),s(!1),f(-1)},name:r,onOpenChange:s,isOpen:i,focusedIndex:c,setFocusedIndex:f,handleTypeahead:P,registerOption:y,unregisterOption:C,getOptions:N,id:a},children:Ve(Er,{open:i,onOpenChange:s,children:Ve("div",{className:"relative","data-slot":"select",...l,children:n})})})};var Wt=({placeholder:e,className:o,...t})=>{let n=se.useContext(wr);if(!n)throw new Error("SelectValue must be used within Select");let r=n.value,a=n.getOptions?.()||[],l=r&&a.find(i=>i.value===r)?.label;return Ve("span",{"data-slot":"select-value",className:o,...t,children:l||e})},Yt=({placeholder:e,disabled:o,error:t,icon:n,className:r,size:a="default",children:l,...i})=>{let s=se.useContext(wr);if(!s)throw new Error("SelectTrigger must be used within Select");let m=s.value,d=s.getOptions?.()||[],c=m&&d.find(u=>u.value===m)?.label;return Ve(zr,{children:Ki(T,{variant:t?"destructive":"outline",disabled:o,onClick:()=>s.onOpenChange?.(!s.isOpen),onKeyDown:u=>{if(o)return;let{key:g}=u,{isOpen:h,focusedIndex:v,setFocusedIndex:x,onOpenChange:y,onChange:C,handleTypeahead:N}=s,P=s.getOptions?.()||[];if(!(!P||P.length===0))switch(g){case"ArrowDown":{if(u.preventDefault(),!h)y?.(!0);else{let b=v??-1,k=b<P.length-1?b+1:0;x?.(k)}break}case"ArrowUp":{if(u.preventDefault(),!h)y?.(!0);else{let b=v??-1,k=b>0?b-1:P.length-1;x?.(k)}break}case"Enter":case" ":{u.preventDefault(),h?v!==void 0&&v>=0&&v<P.length&&C?.(P[v].value):y?.(!0);break}case"Escape":{u.preventDefault(),y?.(!1);break}case"Tab":{h&&y?.(!1);break}default:{g.length===1&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&(u.preventDefault(),N?.(g));break}}},"data-slot":"select-trigger","data-size":a,className:p("border-border/25 text-input-foreground shadow-input-resting hover:shadow-input-hover hover:border-border/0 focus-within:outline-primary focus-within:shadow-input-hover bg-input disabled:bg-muted flex w-full justify-between px-3 ring-4 ring-transparent outline-4 disabled:cursor-not-allowed",s.isOpen&&"focus-within:outline-primary focus-within:shadow-input-hover",r),id:s.id,...i,children:[n&&Ve("div",{className:"text-primary absolute top-1/2 left-3 -translate-y-1/2",children:n}),l||Ve("span",{className:p("text-primary block truncate"),children:c||e}),Ve(Im,{className:p("text-primary size-4 transition-transform duration-200",s.isOpen&&"rotate-180")})]})})},Qt=({className:e,children:o,...t})=>{let n=se.useContext(wr);if(!n)throw new Error("SelectContent must be used within Select");let r=se.useRef(null);se.useEffect(()=>{n.isOpen&&r.current&&r.current.focus()},[n.isOpen]);let a=l=>{let{key:i}=l,{focusedIndex:s,setFocusedIndex:m,onChange:d,onOpenChange:c,handleTypeahead:f,getOptions:u}=n,g=u?.()||[];if(!(!g||g.length===0))switch(i){case"ArrowDown":{l.preventDefault();let h=s??-1,v=h<g.length-1?h+1:0;m?.(v);break}case"ArrowUp":{l.preventDefault();let h=s??-1,v=h>0?h-1:g.length-1;m?.(v);break}case"Enter":{l.preventDefault(),s!==void 0&&s>=0&&s<g.length&&d?.(g[s].value);break}case"Escape":{l.preventDefault(),c?.(!1);break}default:{i.length===1&&!l.ctrlKey&&!l.altKey&&!l.metaKey&&(l.preventDefault(),f?.(i));break}}};return Ve(Lr,{className:p("w-[var(--trigger-width)] p-1 outline-none",e),children:Ve("div",{ref:r,"data-slot":"select-content",tabIndex:0,role:"listbox",onKeyDown:a,className:"outline-none",...t,children:o})})};var Xt=({value:e,children:o,className:t,...n})=>{let r=se.useContext(wr);if(!r)throw new Error("SelectItem must be used within Select");se.useEffect(()=>{let d=typeof o=="string"?o:e;return r.registerOption?.(e,d),()=>{r.unregisterOption?.(e)}},[e,o,r.registerOption,r.unregisterOption]);let a=e===r.value,i=(r.getOptions?.()||[]).findIndex(d=>d.value===e),s=i===r.focusedIndex;return Ki("button",{type:"button",onClick:()=>r.onChange?.(e),onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),r.onChange?.(e))},onMouseEnter:()=>{i>=0&&r.setFocusedIndex?.(i)},"data-slot":"select-item",className:p("hover:bg-muted/50 focus:bg-muted relative flex w-full items-center justify-between rounded-2xl px-2 py-1.5 text-sm outline-hidden select-none",a&&"bg-muted",s&&"bg-muted/75",t),...n,children:[Ve("span",{children:o}),a&&Ve(Am,{className:"text-primary size-4"})]})};import{Fragment as $i,jsx as q,jsxs as Ue}from"react/jsx-runtime";var Bm={sign_request:"domain/pem?cert=connection"},Hm=[{value:"rsa-sha1",label:"RSA-SHA1"},{value:"rsa-sha256",label:"RSA-SHA256"}],Vm=[{value:"sha1",label:"SHA1"},{value:"sha256",label:"SHA256"}],qi=Jt.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),[s,m]=Lm([]),d=o,c=Om({resolver:zm(Em("pingfederate")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{pingFederateBaseUrl:d?.pingFederateBaseUrl||"",signingCert:d?.signingCert||"",signSAMLRequest:d?.signSAMLRequest||!1,signatureAlgorithm:d?.signatureAlgorithm||"",digestAlgorithm:d?.digestAlgorithm||""}}),{isDirty:f}=c.formState;Jt.useEffect(()=>{a?.(f)},[f,a]),Jt.useImperativeHandle(l,()=>({validate:async()=>await c.trigger(),getData:()=>c.getValues(),isDirty:()=>c.formState.isDirty}));let u=c.watch("signSAMLRequest"),g=h=>{m(h),h.length>0&&c.setValue("signingCert",h[0].name)};return q(ne,{...c,children:Ue("div",{className:p("space-y-6",r),children:[q(M,{control:c.control,name:"pingFederateBaseUrl",render:({field:h,fieldState:v})=>Ue(A,{children:[q(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.ping-federate.ping_federate_baseurl.label")}),q(I,{children:q(Y,{type:"url",placeholder:i("fields.ping-federate.ping_federate_baseurl.placeholder"),error:!!v.error,readOnly:t,"aria-invalid":!!v.error,...h})}),q(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),q(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.ping-federate.ping_federate_baseurl.helper_text")})]})}),q(M,{control:c.control,name:"signingCert",render:()=>Ue(A,{children:[q(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.ping-federate.sign_cert.label")}),q(I,{children:q("div",{className:"space-y-3",children:q(Lt,{accept:".pem",onChange:g,value:s,maxFiles:1,disabled:t,className:"w-full",placeholder:i("fields.ping-federate.sign_cert.placeholder")})})}),q(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),q(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.ping-federate.sign_cert.helper_text")})]})}),q(Ut,{type:"single",collapsible:!0,className:"w-full",children:Ue(Gt,{value:"advanced-settings",children:[q(Kt,{className:"text-sm font-medium",children:i("fields.ping-federate.advanced_settings.title")}),Ue($t,{className:"space-y-6",children:[q(M,{control:c.control,name:"signSAMLRequest",render:({field:h})=>Ue(A,{className:"flex flex-row items-start space-x-3 space-y-0",children:[q(I,{children:q(ga,{checked:h.value||!1,onCheckedChange:h.onChange,disabled:t})}),Ue("div",{className:"space-y-1 leading-none",children:[q(E,{className:"text-sm font-normal cursor-pointer",children:i("fields.ping-federate.advanced_settings.sign_request.label")}),q(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:q($i,{children:i.trans("fields.ping-federate.advanced_settings.sign_request.helper_text",{components:{link:v=>q(Go,{href:Bm.sign_request,target:"_blank",rel:"noopener noreferrer",children:v})}})})})]})]})}),u&&Ue($i,{children:[q(M,{control:c.control,name:"signatureAlgorithm",render:({field:h,fieldState:v})=>Ue(A,{children:[q(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.ping-federate.advanced_settings.sign_request_algorithm.label")}),Ue(qt,{onValueChange:h.onChange,value:h.value||"",children:[q(I,{children:q(Yt,{error:!!v.error,children:q(Wt,{placeholder:i("fields.ping-federate.advanced_settings.sign_request_algorithm.placeholder")})})}),q(Qt,{children:Hm.map(x=>q(Xt,{value:x.value,children:x.label},x.value))})]}),q(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})}),q(M,{control:c.control,name:"digestAlgorithm",render:({field:h,fieldState:v})=>Ue(A,{children:[q(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.ping-federate.advanced_settings.sign_request_algorithm_digest.label")}),Ue(qt,{onValueChange:h.onChange,value:h.value||"",children:[q(I,{children:q(Yt,{error:!!v.error,children:q(Wt,{placeholder:i("fields.ping-federate.advanced_settings.sign_request_algorithm_digest.placeholder")})})}),q(Qt,{children:Vm.map(x=>q(Xt,{value:x.value,children:x.label},x.value))})]}),q(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})})]})]})]})})]})})});import{createProviderConfigureSchema as Um}from"@auth0/web-ui-components-core";import{zodResolver as Gm}from"@hookform/resolvers/zod";import*as jt from"react";import{useState as Km}from"react";import{useForm as $m}from"react-hook-form";import{Fragment as fn,jsx as O,jsxs as we}from"react/jsx-runtime";var qm={sign_request:"domain/pem?cert=connection"},Wm=[{value:"rsa-sha1",label:"RSA-SHA1"},{value:"rsa-sha256",label:"RSA-SHA256"}],Ym=[{value:"sha1",label:"SHA1"},{value:"sha256",label:"SHA256"}],Wi=jt.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),[s,m]=Km([]),d=o,c=$m({resolver:Gm(Um("samlp")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{meta_data_source:d?.meta_data_source||"meta_data_url",metadataUrl:d?.metadataUrl||"",single_sign_on_login_url:d?.single_sign_on_login_url||"",cert:d?.cert||"",signSAMLRequest:d?.signSAMLRequest||!1,signatureAlgorithm:d?.signatureAlgorithm||"",digestAlgorithm:d?.digestAlgorithm||""}}),{isDirty:f}=c.formState;jt.useEffect(()=>{a?.(f)},[f,a]),jt.useImperativeHandle(l,()=>({validate:async()=>await c.trigger(),getData:()=>c.getValues(),isDirty:()=>c.formState.isDirty}));let g=c.watch("meta_data_source")==="meta_data_file",h=c.watch("signSAMLRequest"),v=x=>{m(x),x.length>0&&c.setValue("cert",x[0].name)};return O(ne,{...c,children:we("div",{className:p("space-y-6",r),children:[O(M,{control:c.control,name:"meta_data_source",render:({field:x})=>we(A,{children:[O(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.samlp.meta_data_source.label")}),O(I,{children:we(Bt,{value:x.value,onValueChange:x.onChange,disabled:t,className:"flex flex-col space-y-2",children:[we("div",{className:"flex items-center space-x-2",children:[O(bo,{value:"meta_data_url",id:"meta_data_url"}),O(ue,{htmlFor:"meta_data_url",className:"text-sm font-normal cursor-pointer",children:i("fields.samlp.meta_data_source.options.meta_data_url.label")})]}),we("div",{className:"flex items-center space-x-2",children:[O(bo,{value:"meta_data_file",id:"meta_data_file"}),O(ue,{htmlFor:"meta_data_file",className:"text-sm font-normal cursor-pointer",children:i("fields.samlp.meta_data_source.options.meta_data_file.label")})]})]})}),O(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})}),O(M,{control:c.control,name:"metadataUrl",render:({field:x,fieldState:y})=>we(A,{children:[O(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.samlp.meta_data_url.label")}),O(I,{children:O(Y,{type:"url",placeholder:i("fields.samlp.meta_data_url.placeholder"),error:!!y.error,readOnly:t,"aria-required":!0,"aria-invalid":!!y.error,...x})}),O(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),O(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.samlp.meta_data_url.helper_text")})]})}),g&&we(fn,{children:[O(M,{control:c.control,name:"single_sign_on_login_url",render:({field:x,fieldState:y})=>we(A,{children:[O(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.samlp.single_sign_on_login_url.label")}),O(I,{children:O(Y,{type:"url",placeholder:i("fields.samlp.single_sign_on_login_url.placeholder"),error:!!y.error,readOnly:t,"aria-required":!0,"aria-invalid":!!y.error,...x})}),O(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),O(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.samlp.single_sign_on_login_url.helper_text")})]})}),O(M,{control:c.control,name:"cert",render:()=>we(A,{children:[O(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.samlp.cert.label")}),O(I,{children:O("div",{className:"space-y-3",children:O(Lt,{accept:".pem",onChange:v,value:s,maxFiles:1,disabled:t,className:"w-full",placeholder:i("fields.samlp.cert.placeholder")})})}),O(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),O(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.samlp.cert.helper_text")})]})})]}),O(Ut,{type:"single",collapsible:!0,className:"w-full",children:we(Gt,{value:"advanced-settings",children:[O(Kt,{className:"text-sm font-medium",children:i("fields.samlp.advanced_settings.title")}),we($t,{className:"space-y-6",children:[O(M,{control:c.control,name:"signSAMLRequest",render:({field:x})=>we(A,{className:"flex flex-row items-start space-x-3 space-y-0",children:[O(I,{children:O(ga,{checked:x.value||!1,onCheckedChange:x.onChange,disabled:t})}),we("div",{className:"space-y-1 leading-none",children:[O(E,{className:"text-sm font-normal cursor-pointer",children:i("fields.samlp.advanced_settings.sign_request.label")}),O(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:O(fn,{children:i.trans("fields.samlp.advanced_settings.sign_request.helper_text",{components:{link:y=>O(Go,{href:qm.sign_request,target:"_blank",rel:"noopener noreferrer",children:y})}})})})]})]})}),h&&we(fn,{children:[O(M,{control:c.control,name:"signatureAlgorithm",render:({field:x,fieldState:y})=>we(A,{children:[O(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.samlp.advanced_settings.sign_request_algorithm.label")}),we(qt,{onValueChange:x.onChange,value:x.value||"",children:[O(I,{children:O(Yt,{error:!!y.error,children:O(Wt,{placeholder:i("fields.samlp.advanced_settings.sign_request_algorithm.placeholder")})})}),O(Qt,{children:Wm.map(C=>O(Xt,{value:C.value,children:C.label},C.value))})]}),O(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})}),O(M,{control:c.control,name:"digestAlgorithm",render:({field:x,fieldState:y})=>we(A,{children:[O(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.samlp.advanced_settings.sign_request_algorithm_digest.label")}),we(qt,{onValueChange:x.onChange,value:x.value||"",children:[O(I,{children:O(Yt,{error:!!y.error,children:O(Wt,{placeholder:i("fields.samlp.advanced_settings.sign_request_algorithm_digest.placeholder")})})}),O(Qt,{children:Ym.map(C=>O(Xt,{value:C.value,children:C.label},C.value))})]}),O(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"})]})})]})]})]})})]})})});import{createProviderConfigureSchema as Qm}from"@auth0/web-ui-components-core";import{zodResolver as Xm}from"@hookform/resolvers/zod";import*as $o from"react";import{useForm as Jm}from"react-hook-form";import{jsx as ce,jsxs as yr}from"react/jsx-runtime";var Yi=$o.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",n),{coreClient:s}=ae(),m=$o.useMemo(()=>`https://${s?.auth?.domain||"your domain"}/login/callback`,[s?.auth?.domain]),d=o,c=Jm({resolver:Xm(Qm("waad")),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{tenant_domain:d?.tenant_domain||"",client_id:d?.client_id||"",client_secret:d?.client_secret||"",callback_url:d?.callback_url||m}}),{isDirty:f}=c.formState;return $o.useEffect(()=>{a?.(f)},[f,a]),$o.useImperativeHandle(l,()=>({validate:async()=>await c.trigger(),getData:()=>c.getValues(),isDirty:()=>c.formState.isDirty})),ce(ne,{...c,children:yr("div",{className:p("space-y-6",r),children:[ce(M,{control:c.control,name:"tenant_domain",render:({field:u,fieldState:g})=>yr(A,{children:[ce(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.waad.tenant_domain.label")}),ce(I,{children:ce(Y,{type:"text",placeholder:i("fields.waad.tenant_domain.placeholder"),error:!!g.error,readOnly:t,...u})}),ce(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),ce(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.waad.tenant_domain.helper_text")})]})}),ce(M,{control:c.control,name:"client_id",render:({field:u,fieldState:g})=>yr(A,{children:[ce(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.waad.client_id.label")}),ce(I,{children:ce(ee,{type:"text",placeholder:i("fields.waad.client_id.placeholder"),error:!!g.error,readOnly:t,...u})}),ce(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),ce(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.waad.client_id.helper_text")})]})}),ce(M,{control:c.control,name:"client_secret",render:({field:u,fieldState:g})=>yr(A,{children:[ce(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.waad.client_secret.label")}),ce(I,{children:ce(ee,{type:"password",placeholder:i("fields.waad.client_secret.placeholder"),error:!!g.error,readOnly:t,...u})}),ce(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),ce(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.waad.client_secret.helper_text")})]})}),ce(M,{control:c.control,name:"callback_url",render:({field:u,fieldState:g})=>yr(A,{children:[ce(E,{className:"text-sm font-normal text-(length:--font-size-label)",children:i("fields.waad.callback_url.label")}),ce(I,{children:ce(ee,{type:"text",placeholder:i("fields.waad.callback_url.placeholder"),error:!!g.error,readOnly:!0,...u})}),ce(z,{role:"alert",className:"text-sm text-left text-(length:--font-size-paragraph)"}),ce(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.waad.callback_url.helper_text")})]})})]})})});import{jsx as qo}from"react/jsx-runtime";var ha=Qi.forwardRef(function({strategy:o,className:t,...n},r){let a=()=>{switch(o){case ct.OKTA:return qo(Gi,{ref:r,...n});case ct.GOOGLE_APPS:return qo(Vi,{ref:r,...n});case ct.WAAD:return qo(Yi,{ref:r,...n});case ct.PINGFEDERATE:return qo(qi,{ref:r,...n});case ct.ADFS:return qo(Hi,{ref:r,...n});case ct.SAMLP:return qo(Wi,{ref:r,...n});case ct.OIDC:return qo(Ui,{ref:r,...n});default:return null}};return qo("div",{className:p("space-y-6",t),children:a()})});import{jsx as gn}from"react/jsx-runtime";var jm=Zt.forwardRef(function({strategy:o,initialData:t,readOnly:n=!1,customMessages:r={},className:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_configure",r),s=Zt.useRef(null);return Zt.useImperativeHandle(l,()=>({validate:async()=>await s.current?.validate()??!1,getData:()=>s.current?.getData()})),gn("div",{className:a,children:gn(Be,{title:i("title"),description:i("description"),children:gn(ha,{ref:s,strategy:o,initialData:t,readOnly:n,customMessages:r.fields})})})}),Xi=jm;import{createProviderDetailsSchema as Zm}from"@auth0/web-ui-components-core";import{zodResolver as ep}from"@hookform/resolvers/zod";import*as er from"react";import{useForm as op}from"react-hook-form";import{jsx as Fe,jsxs as hn}from"react/jsx-runtime";var va=er.forwardRef(function({initialData:o,readOnly:t=!1,customMessages:n={},className:r,onFormDirty:a},l){let{t:i}=w("idp_management.create_sso_provider.provider_details",n),s=op({resolver:ep(Zm()),mode:"onSubmit",reValidateMode:"onChange",defaultValues:{name:o?.name||"",display_name:o?.display_name||""}}),{isDirty:m}=s.formState;return er.useEffect(()=>{a?.(m)},[m,a]),er.useImperativeHandle(l,()=>({validate:async()=>await s.trigger(),getData:()=>s.getValues(),isDirty:()=>s.formState.isDirty})),Fe(ne,{...s,children:Fe("div",{className:r,children:hn(Be,{title:i("title"),description:i("description"),children:[Fe(M,{control:s.control,name:"name",render:({field:d,fieldState:c})=>hn(A,{children:[Fe(E,{className:"text-sm text-(length:--font-size-label) font-normal",children:i("fields.name.label")}),Fe(I,{children:Fe(Y,{placeholder:i("fields.name.placeholder"),error:!!c.error,readOnly:t,...d})}),Fe(z,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),Fe(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.name.helper_text")})]})}),Fe(M,{control:s.control,name:"display_name",render:({field:d,fieldState:c})=>hn(A,{children:[Fe(E,{className:"text-sm text-(length:--font-size-label) font-normal",children:i("fields.display_name.label")}),Fe(I,{children:Fe(Y,{placeholder:i("fields.display_name.placeholder"),error:!!c.error,readOnly:t,...d})}),Fe(z,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),Fe(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:i("fields.display_name.helper_text")})]})})]})})})});import{STRATEGY_DISPLAY_NAMES as Rp,STRATEGIES as dt}from"@auth0/web-ui-components-core";import{EntraIdLogoSvg as tp}from"@auth0/web-ui-components-core";import rp from"react";import{jsx as np}from"react/jsx-runtime";var ap=({width:e=17,height:o=17,title:t="EntraID logo",className:n,...r})=>np("img",{src:tp,alt:t,width:e,height:o,className:n,...r}),Ji=rp.memo(ap);import{MicrosoftLogoSvg as ip}from"@auth0/web-ui-components-core";import lp from"react";import{jsx as cp}from"react/jsx-runtime";var sp=({width:e=17,height:o=17,title:t="Microsoft logo",className:n,...r})=>cp("img",{src:ip,alt:t,width:e,height:o,className:n,...r}),ji=lp.memo(sp);import{OidcLogoSvg as dp}from"@auth0/web-ui-components-core";import mp from"react";import{jsx as up}from"react/jsx-runtime";var pp=({width:e=17,height:o=17,title:t="Oidc logo",className:n,...r})=>up("img",{src:dp,alt:t,width:e,height:o,className:n,...r}),Zi=mp.memo(pp);import{OktaLogoSvg as fp}from"@auth0/web-ui-components-core";import gp from"react";import{jsx as vp}from"react/jsx-runtime";var hp=({width:e=17,height:o=17,title:t="Okta logo",className:n,...r})=>vp("img",{src:fp,alt:t,width:e,height:o,className:n,...r}),el=gp.memo(hp);import{PingIdLogoSvg as xp}from"@auth0/web-ui-components-core";import bp from"react";import{jsx as yp}from"react/jsx-runtime";var wp=({width:e=17,height:o=17,title:t="PingId logo",className:n,...r})=>yp("img",{src:xp,alt:t,width:e,height:o,className:n,...r}),ol=bp.memo(wp);import{SamlpLogoSvg as kp}from"@auth0/web-ui-components-core";import Cp from"react";import{jsx as _p}from"react/jsx-runtime";var Pp=({width:e=17,height:o=17,title:t="Samlp logo",className:n,...r})=>_p("img",{src:kp,alt:t,width:e,height:o,className:n,...r}),tl=Cp.memo(Pp);import{jsx as or,jsxs as Np}from"react/jsx-runtime";var Tp={[dt.OKTA]:el,[dt.GOOGLE_APPS]:Br,[dt.WAAD]:Ji,[dt.ADFS]:ji,[dt.PINGFEDERATE]:ol,[dt.SAMLP]:tl,[dt.OIDC]:Zi};function rl({strategyList:e,onClickStrategy:o,customMessages:t={},className:n}){let{t:r}=w("idp_management.create_sso_provider.provider_select",t);return or(Be,{title:r("title"),description:r("description"),className:n,children:or("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(a=>{let l=Tp[a],i=Rp[a];return or(T,{variant:"outline",className:"justify-start h-10 py-2.5 px-3",onClick:()=>o(a),children:Np("div",{className:"flex items-center gap-3 w-full text-left",children:[or(l,{className:"w-4 h-4 flex-shrink-0 text-primary"}),or("div",{className:"flex flex-col gap-1",children:or("span",{className:"font-medium",children:i})})]})},a)})})})}import*as kr from"react";import{Check as Sp}from"lucide-react";import*as wo from"react";import{jsx as Ge,jsxs as Mp}from"react/jsx-runtime";var al=wo.createContext(null),Fp=()=>{let e=wo.useContext(al);if(!e)throw new Error("Stepper components must be used within a Stepper");return e};function nl({currentStep:e=0,className:o,onStepClick:t,enableAllSteps:n=!1,children:r}){let a=wo.useMemo(()=>({currentStep:e,isClickable:n&&!!t,onStepClick:t}),[e,n,t]),l=wo.useMemo(()=>{let i=wo.Children.toArray(r),s=[];return i.forEach((m,d)=>{s.push(m),d<i.length-1&&s.push(Ge(Dp,{},`separator-${d}`))}),s},[r]);return Ge(al.Provider,{value:a,"data-slot":"stepper",children:Ge(me,{className:p("w-full p-0",o),children:Ge("nav",{"aria-label":"Progress",className:"flex p-6 flex-col items-start gap-8 self-stretch",children:Ge("div",{className:"flex items-center w-full",children:l})})})})}function il({step:e,id:o,hideNumber:t=!0,className:n,children:r}){let{currentStep:a,isClickable:l,onStepClick:i}=Fp(),s=e===a,m=e<a,d=()=>{l&&i&&i(e,o)};return Mp("div",{"data-slot":"stepper-step","data-state":s?"current":m?"completed":"pending","data-step":e,className:p("flex items-start",l&&"cursor-pointer hover:opacity-80 transition-opacity",n),onClick:d,children:[Ge("div",{className:p("flex items-center justify-center rounded-full transition-colors w-[21px] h-[21px] flex-shrink-0 mt-0.5",m?"bg-foreground text-background dark:bg-background dark:text-foreground border-0":s?"border-2 border-primary bg-background text-primary":"bg-muted-foreground/30 border-0 text-muted-foreground"),children:m?Ge(Sp,{className:"w-3 h-3"}):t?null:Ge("span",{className:"text-xs font-medium",children:e+1})}),Ge("div",{className:"ml-2 flex-1",children:r})]})}function ll({className:e,children:o}){return Ge("p",{"data-slot":"stepper-title",className:p("text-sm font-medium transition-colors whitespace-nowrap text-foreground",e),children:o})}function Dp({className:e}){return Ge(Ro,{orientation:"horizontal",className:p("flex-1 mx-4",e),"data-slot":"stepper-separator"})}function sl({className:e,children:o}){return Ge("p",{"data-slot":"stepper-description",className:p("text-xs text-muted-foreground mt-1",e),children:o})}import{jsx as vn,jsxs as Ap}from"react/jsx-runtime";function cl({steps:e,currentStep:o=0,onStepClick:t,className:n,hideNumbers:r=!0}){return vn(nl,{currentStep:o,enableAllSteps:!!t,className:n,children:e.map((a,l)=>Ap(il,{step:l,id:a.id,hideNumber:r,children:[vn(ll,{className:"text-(length:--font-size-label)",children:a.title}),a.description&&vn(sl,{children:a.description})]},a.id||l))})}import{jsx as mt,jsxs as dl}from"react/jsx-runtime";function ml({steps:e,initialStep:o=0,onComplete:t,className:n,formActionLabels:r,hideStepperNumbers:a=!1,isLoading:l=!1}){let[i,s]=kr.useState(o),m=e[i],d=i===0,c=i===e.length-1,f=kr.useCallback(async()=>{if(l)return;let y=e[i];y.actions?.onNextAction&&!await y.actions.onNextAction(y.id)||(c?await t?.():s(C=>C+1))},[i,c,e,t,l]),u=kr.useCallback(async()=>{if(d)return;let y=e[i];y.actions?.onPreviousAction&&!await y.actions.onPreviousAction(y.id)||s(C=>C-1)},[i,d,e]),g=m.content,h=m.actions?.showPrevious!==!1&&!d,v=m.actions?.showNext??!0,x={nextButtonLabel:"Next",previousButtonLabel:"Previous",completeButtonLabel:"Submit",...r};return dl("div",{className:p("space-y-6",n),children:[mt(cl,{steps:e,currentStep:i,hideNumbers:a}),mt(me,{children:dl(ke,{className:"p-6 relative",children:[l&&mt("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center z-10",children:mt(Q,{})}),mt("div",{className:p(l&&"opacity-50 pointer-events-none"),children:mt(g,{onNext:f,onPrevious:u,isLoading:l})})]})}),mt(zo,{isLoading:l,showPrevious:h,showNext:v,nextAction:{type:"button",label:c?x.completeButtonLabel:x.nextButtonLabel,variant:"primary",onClick:f},previousAction:{type:"button",label:x.previousButtonLabel,variant:"outline",onClick:u}})]})}import{SsoProviderMappers as Ip}from"@auth0/web-ui-components-core";import{useCallback as Ep,useState as zp}from"react";function pl({createAction:e,customMessages:o={}}={}){let{coreClient:t}=ae(),{t:n}=w("idp_management.create_sso_provider",o),[r,a]=zp(!1);return{createProvider:Ep(async i=>{if(t){a(!0);try{if(e?.onBefore&&!e.onBefore(i))return;let{strategy:s,name:m,display_name:d,...c}=i,f={strategy:s,name:m,display_name:d,options:c},u=Ip.createToAPI(f),g=await t.getMyOrgApiClient().organization.identityProviders.create(u);L({type:"success",message:n("notifications.provider_create_success",{providerName:g.name})}),e?.onAfter?.(i,g)}catch(s){throw L({type:"error",message:n("notifications.general_error")}),s}finally{a(!1)}}},[t,e,n]),isCreating:r}}import{jsx as pt,jsxs as Kp}from"react/jsx-runtime";function Up({createAction:e,backButton:o,onNext:t,onPrevious:n,customMessages:r={},styling:a={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:l}=w("idp_management.create_sso_provider",r),{isDarkMode:i}=V(),[s,m]=Hp({}),{strategy:d,details:c,configure:f}=s,{createProvider:u,isCreating:g}=pl({createAction:e,customMessages:r}),h=ul(null),v=ul(null),x=gl(()=>Lp(a,i),[a,i]),y=fl((P,b)=>{let k=P==="provider_details"?"details":"configure",R=async(_,G=!1)=>{if(G&&!await b.current?.validate())return!1;let J=b.current?.getData()??null;if(m(D=>({...D,[k]:J})),!_)return!0;let j={...s,[k]:J};return _(P,j)};return{onNextAction:()=>R(t,!0),onPreviousAction:()=>R(n,!1)}},[s,t,n]),C=fl(async()=>{let P=v.current?.getData();await u({strategy:d,...c,...P})},[d,c,f,u]),N=gl(()=>[{id:"provider_select",title:l("steps.one"),content:({onNext:P})=>pt(rl,{strategyList:Op,onClickStrategy:b=>{m(k=>({strategy:b,details:k.strategy===b?k.details:null,configure:k.strategy===b?k.configure:null})),t?.("provider_select",{strategy:b}),P?.()},selectedStrategy:d,customMessages:r.provider_select,className:x?.classes?.["ProviderSelect-root"]}),actions:{showNext:!1}},{id:"provider_details",title:l("steps.two"),content:()=>pt(va,{ref:h,initialData:c??void 0,customMessages:r.provider_details,styling:a,className:x?.classes?.["ProviderDetails-root"]}),actions:y("provider_details",h)},{id:"provider_configure",title:l("steps.three"),content:()=>d?pt(Xi,{ref:v,strategy:d,initialData:f??void 0,customMessages:r.provider_configure,className:x?.classes?.["ProviderConfigure-root"]}):null,actions:y("provider_configure",v)}],[l,d,c,f,t,n,r,x,a,y]);return Kp("div",{style:x.variables,className:"w-full",children:[pt(Vp,{position:"top-right"}),pt(Ee,{title:l("header.title"),backButton:o&&{...o,text:l("header.back_button_text")},className:x?.classes?.["SsoProviderCreate-header"]}),pt("div",{className:"sso-provider-create__content",children:pt(ml,{isLoading:g,hideStepperNumbers:!0,steps:N,onComplete:C,className:x?.classes?.["SsoProviderCreate-wizard"]})})]})}var Gp=no(Up,Bp);import{getComponentStyles as Fu,MY_ORG_SSO_PROVIDER_EDIT_SCOPES as Du}from"@auth0/web-ui-components-core";import Mu,{useState as Au}from"react";import{getComponentStyles as au}from"@auth0/web-ui-components-core";import{Plus as nu}from"lucide-react";import kl from"react";import{BusinessError as Pr}from"@auth0/web-ui-components-core";import{useCallback as Te,useState as Ke,useEffect as Yp}from"react";import{hasApiErrorBody as $p,isBusinessError as qp}from"@auth0/web-ui-components-core";import{useCallback as Wp}from"react";var Cr=()=>({handleError:Wp((o,t={})=>{let{fallbackMessage:n="An error occurred",showToastNotification:r=!0}=t,a;return qp(o)?a=o.message:$p(o)&&o.body?.detail?a=o.body.detail:o instanceof Error?a=o.message:typeof o=="string"?a=o:a=n,r&&L({type:"error",message:a}),a},[])});function hl(e,{customMessages:o={},domains:t,provider:n}={}){let{coreClient:r}=ae(),{t:a}=w("idp_management.notifications",o),{handleError:l}=Cr(),[i,s]=Ke(!1),[m,d]=Ke([]),[c,f]=Ke([]),[u,g]=Ke(!1),[h,v]=Ke(null),[x,y]=Ke(!1),[C,N]=Ke(!1),[P,b]=Ke(!1),[k,R]=Ke(void 0),[_,G]=Ke(!1),[J,j]=Ke(!1),[D,$]=Ke(!1),H=Te(async S=>{if(!r)return;(await r.getMyOrgApiClient().organization.domains.identityProviders.get(S)).identity_providers?.some(Ye=>Ye.id===e)&&f([...c,S])},[r]),B=Te(async S=>{try{s(!0),S.map(async F=>await H(F.id))}catch(F){l(F,{fallbackMessage:a("general_error")})}finally{s(!1)}},[m]),ie=Te(async()=>{if(r)try{s(!0);let S=await r.getMyOrgApiClient().organization.domains.list();d(S.organization_domains),await B(S.organization_domains)}catch(S){l(S,{fallbackMessage:a("general_error")})}finally{s(!1)}},[r,a]),W=Te(async S=>{if(t?.createAction?.onBefore&&!t.createAction.onBefore(S))throw g(!1),new Pr({message:a("domain_create.on_before")});let F=await r.getMyOrgApiClient().organization.domains.create(S);return t?.createAction?.onAfter?.(F),await ie(),F},[r,t,a]),ge=Te(async S=>{if(t?.verifyAction?.onBefore&&!t.verifyAction.onBefore(S))throw b(!1),new Pr({message:a("domain_verify.on_before")});let F=await r.getMyOrgApiClient().organization.domains.verify.create(S.id);return t?.verifyAction?.onAfter&&await t.verifyAction.onAfter(S),b(!1),F.status==="verified"},[t,a,r]),oo=Te(async S=>{if(r){if(t?.deleteAction?.onBefore&&!t.deleteAction.onBefore(S))throw G(!1),new Pr({message:a("domain_delete.on_before")});await r.getMyOrgApiClient().organization.domains.delete(S.id),t?.deleteAction?.onAfter&&await t.deleteAction.onAfter(S),await ie()}},[t,ie,a,r]),De=Te(async S=>{if(t?.associateToProviderAction?.onBefore&&!t.associateToProviderAction.onBefore(S,n))throw new Pr({message:a("domain_associate_provider.on_before")});await r.getMyOrgApiClient().organization.identityProviders.domains.create(e,{domain:S.domain}),t?.associateToProviderAction?.onAfter&&await t.associateToProviderAction.onAfter(S,n)},[t,n,a,r]),Me=Te(async S=>{if(n){if(t?.deleteFromProviderAction?.onBefore&&!t.deleteFromProviderAction.onBefore(S,n))throw new Pr({message:a("domain_delete_provider.on_before")});await r.getMyOrgApiClient().organization.identityProviders.domains.delete(n.id,S.domain),t?.deleteFromProviderAction?.onAfter&&await t.deleteFromProviderAction.onAfter(S),await B(m)}},[t,a,r,m]),fo=Te(async S=>{g(!0);try{let F=await W({domain:S});L({type:"success",message:a("domain_create.success",{domainName:F?.domain})}),v(F),j(!1),y(!0)}catch(F){l(F,{fallbackMessage:a("domain_create.error")})}finally{g(!1)}},[W,a]),Xo=Te(()=>{y(!1),R(void 0)},[]),Jo=Te(async S=>{b(!0);try{await ge(S)?(y(!1),L({type:"success",message:a("domain_verify.success",{domainName:S.domain})}),await De(S)):R(a("domain_verify.verification_failed",{domainName:S.domain}))}catch(F){l(F,{fallbackMessage:a("domain_verify.verification_failed")})}finally{b(!1)}},[ge,a]),jo=Te(S=>{v(S),y(!1),N(!0)},[]),K=Te(async S=>{G(!0);try{await oo(S),L({type:"success",message:a("domain_delete.success",{domainName:S.domain})}),N(!1),y(!1)}catch(F){l(F,{fallbackMessage:a("domain_delete.error")})}finally{G(!1)}},[oo,a]),oe=Te(async S=>{$(!0);try{await ge(S)?(L({type:"success",message:a("domain_verify.success",{domainName:S.domain})}),await De(S)):L({type:"error",message:a("domain_verify.verification_failed",{domainName:S.domain})})}catch(F){l(F,{fallbackMessage:a("domain_verify.verification_failed",{domainName:S.domain})})}finally{$(!1)}},[ge,a]),Le=Te(async(S,F)=>{if($(!0),F)try{await De(S),L({type:"success",message:a("domain_associate_provider.success",{domain:S.domain,idp:n?.name})})}catch(le){l(le,{fallbackMessage:a("general_error")})}finally{$(!1)}else try{await Me(S),L({type:"success",message:a("domain_delete_provider.success",{domain:S.domain,idp:n?.name})})}catch(le){l(le,{fallbackMessage:a("general_error")})}finally{$(!1)}},[De,a,n]);return Yp(()=>{!r||!e||(s(!0),Promise.allSettled([ie()]).finally(()=>{s(!1)}))},[r,e]),{isLoading:i,domainsList:m,isCreating:u,selectedDomain:h,showVerifyModal:x,showDeleteModal:C,isVerifying:P,verifyError:k,isDeleting:_,showCreateModal:J,handleCreate:fo,handleCloseVerifyModal:Xo,handleVerify:Jo,handleDeleteClick:jo,handleDelete:K,setShowCreateModal:j,setShowDeleteModal:N,idpDomains:c,handleVerifyActionColumn:oe,isUpdating:D,handleToggleSwitch:Le}}function xa(e){switch(e){case"verified":return"success";case"pending":return"warning";case"failed":return"destructive";default:return"outline"}}import{createDomainCreateSchema as Qp}from"@auth0/web-ui-components-core";import{zodResolver as Xp}from"@hookform/resolvers/zod";import*as _r from"react";import{useForm as Jp}from"react-hook-form";import{jsx as yo,jsxs as jp}from"react/jsx-runtime";function ba({translatorKey:e="domain_management.domain_create.modal",className:o,customMessages:t,isOpen:n,isLoading:r,schema:a,onClose:l,onCreate:i}){let{t:s}=w(e,t),m=_r.useMemo(()=>Qp(a,s("field.error")),[a,s]),d=Jp({resolver:Xp(m),defaultValues:{domain_url:""},mode:"onChange"}),c=_r.useCallback(async u=>{u.domain_url&&(await i(u.domain_url),d.reset())},[d,i]),f=_r.useCallback(()=>{d.reset(),l()},[d,l]);return yo(ve,{open:n,onOpenChange:u=>!u&&f(),className:p("p-10",o),title:s("title"),content:yo("div",{children:yo(ne,{...d,children:yo("form",{id:"domain-create-form",children:yo(M,{control:d.control,name:"domain_url",render:({field:u})=>jp(A,{children:[yo(ue,{htmlFor:"domain-url",className:"text-sm text-(length:--font-size-label) font-medium",children:s("field.label")}),yo(I,{children:yo(Y,{id:"domain-url",type:"text",placeholder:s("field.placeholder"),className:"mt-2",...u})}),yo(z,{})]})})})})}),modalActions:{nextAction:{type:"button",label:s("actions.create_button_text"),variant:"primary",disabled:r,onClick:u=>{u.preventDefault(),d.handleSubmit(c)()}},previousAction:{label:s("actions.cancel_button_text"),onClick:f}}})}import Zp from"react";import{jsx as xn}from"react/jsx-runtime";var eu=e=>e?.status==="pending"?"description.pending":"description.verified";function wa({translatorKey:e="domain_management.domain_delete.modal",className:o,customMessages:t,domain:n,isOpen:r,isLoading:a,onClose:l,onDelete:i}){let{t:s}=w(e,t),m=Zp.useCallback(()=>{n&&i(n)},[i,n]);return xn(ve,{open:r,onOpenChange:d=>!d&&l(),className:p("p-10",o),title:s("title"),content:xn("div",{className:"space-y-6",children:xn("p",{className:"text-sm text-muted-foreground text-(length:--font-size-paragraph)",children:s(eu(n),{domainName:n?.domain})})}),modalActions:{nextAction:{type:"button",label:s("actions.delete_button_text"),variant:"destructive",disabled:a,onClick:m},previousAction:{label:s("actions.cancel_button_text"),onClick:l}}})}import{MessageSquare as ru}from"lucide-react";import wl from"react";import{cva as ou}from"class-variance-authority";import{jsx as bl}from"react/jsx-runtime";var tu=ou("shadow-input-hover bg-input relative grid w-full grid-cols-[0_1fr] items-start gap-y-0.5 overflow-clip rounded-3xl p-3 text-sm has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] has-[>svg]:gap-x-3 [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"text-foreground border-b-2 border-transparent",info:"text-info-foreground [&>svg]:text-info-foreground",success:"text-success-foreground [&>svg]:text-success-foreground",warning:"text-warning-foreground [&>svg]:text-warning-foreground",destructive:"text-destructive-foreground [&>svg]:text-destructive-foreground"}},defaultVariants:{variant:"default"}});function vl({className:e,variant:o,...t}){return bl("div",{"data-slot":"alert",role:"alert",className:p(tu({variant:o}),e),...t})}function xl({className:e,...o}){return bl("div",{"data-slot":"alert-description",className:p("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...o})}import{jsx as $e,jsxs as ut}from"react/jsx-runtime";function ya({translatorKey:e="domain_management.domain_verify.modal",className:o,customMessages:t,isOpen:n,isLoading:r,domain:a,error:l,onClose:i,onVerify:s,onDelete:m}){let{t:d}=w(e,t),c=wl.useCallback(()=>{a&&s(a)},[s,a]),f=wl.useCallback(()=>{a&&m(a)},[m,a]);return $e(ve,{open:n,onOpenChange:u=>!u&&i(),className:"p-10",title:d("title",{domainName:a?.domain}),content:ut("div",{className:p("space-y-4",o),children:[l&&ut(vl,{variant:"destructive",children:[$e(ru,{className:"h-4 w-4"}),$e(xl,{className:"text-destructive-foreground",children:l})]}),ut("div",{className:"space-y-2",children:[$e(ue,{htmlFor:"txt-record-name",className:"text-sm font-medium",children:d("txt_record_name.label")}),$e(ee,{id:"txt-record-name",value:a?.verification_host||"",readOnly:!0,className:"font-mono text-sm"})]}),ut("div",{className:"space-y-2",children:[$e(ue,{htmlFor:"txt-record-content",className:"text-sm font-medium",children:d("txt_record_content.label")}),$e(ee,{id:"txt-record-content",value:a?.verification_txt||"",readOnly:!0,className:"font-mono text-sm"})]}),ut("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[ut("div",{className:"flex items-center gap-2",children:[$e("span",{className:"text-sm font-medium",children:d("verification_status.label")}),$e(Oe,{variant:"warning",children:d("verification_status.pending")})]}),$e("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph"),children:d("verification_status.description")})]}),ut("div",{className:"flex gap-2 pt-2",children:[$e(T,{variant:"outline",onClick:c,disabled:r,children:d("actions.verify_button_text")}),$e(T,{variant:"destructive",onClick:f,disabled:r,children:d("actions.delete_button_text")})]})]}),modalActions:{showNext:!1,previousAction:{label:d("actions.done_button_text"),onClick:i,variant:"primary"}}})}import{jsx as bn}from"react/jsx-runtime";function yl({translatorKey:e="idp_management.edit_sso_provider.tabs.domains",customMessages:o={},readOnly:t,idpDomains:n,domain:r,handleVerify:a,isUpdating:l,onToggle:i}){let{t:s}=w(e,o),m=n.includes(r.id);return bn("div",{className:"flex items-center justify-end gap-4 min-w-0",children:r.status==="verified"?bn(He,{checked:m,onCheckedChange:d=>i(r,d),disabled:t||l}):bn(T,{variant:"outline",onClick:()=>a(r),children:s("table.columns.verify")})})}import{jsx as ko,jsxs as iu}from"react/jsx-runtime";function Cl({customMessages:e={},styling:o={variables:{common:{},light:{},dark:{}},classes:{}},readOnly:t=!1,schema:n,idpId:r,domains:a,provider:l}){let{t:i}=w("idp_management.edit_sso_provider.tabs.domains.content",e),{isDarkMode:s}=V(),m=kl.useMemo(()=>au(o,s),[o,s]),{domainsList:d,isCreating:c,selectedDomain:f,showVerifyModal:u,isVerifying:g,showDeleteModal:h,verifyError:v,handleCloseVerifyModal:x,handleVerify:y,handleDeleteClick:C,isLoading:N,isDeleting:P,setShowDeleteModal:b,handleDelete:k,setShowCreateModal:R,showCreateModal:_,handleCreate:G,idpDomains:J,handleVerifyActionColumn:j,isUpdating:D,handleToggleSwitch:$}=hl(r,{customMessages:e,domains:a,provider:l}),H=kl.useMemo(()=>[{type:"text",accessorKey:"domain",title:i("table.columns.name"),render:B=>ko("div",{className:"font-medium",children:B.domain})},{type:"text",accessorKey:"status",title:i("table.columns.status"),render:B=>ko(Oe,{variant:xa(B.status),size:"sm",children:i(`table.domain_statuses.${B.status}`)})},{type:"actions",title:"",render:B=>ko(yl,{translatorKey:"idp_management.edit_sso_provider.tabs.domains.content",idpDomains:J,readOnly:t,isUpdating:D,customMessages:e,onToggle:$,handleVerify:j,domain:B})}],[i]);return iu("div",{style:m.variables,className:"space-y-8",children:[ko("div",{className:m.classes?.["SsoDomainsTab-header"],children:ko(Ee,{title:i("title"),description:i("description"),actions:[{type:"button",label:i("create_button_text"),onClick:()=>R(!0),icon:nu,disabled:a?.createAction?.disabled||t}]})}),ko(so,{columns:H,data:d,loading:N,emptyState:{title:i("table.empty_message")},className:m.classes?.["SsoDomainsTab-table"]}),ko(ba,{translatorKey:"idp_management.edit_sso_provider.tabs.domains.content.domain_create.modal",className:m.classes?.["SsoDomainsTab-createModal"],isOpen:_,isLoading:c,schema:n?.create,onClose:()=>R(!1),onCreate:G,customMessages:e.domain_create}),ko(ya,{translatorKey:"idp_management.edit_sso_provider.tabs.domains.content.domain_verify.modal",className:m.classes?.["SsoDomainsTab-verifyModal"],isOpen:u,isLoading:g,domain:f,error:v,onClose:x,onVerify:y,onDelete:C,customMessages:e.domain_verify}),ko(wa,{translatorKey:"idp_management.edit_sso_provider.tabs.domains.content.domain_delete.modal",className:m.classes?.["SsoDomainsTab-deleteModal"],domain:f,isOpen:h,isLoading:P,onClose:()=>b(!1),onDelete:k,customMessages:e.domain_delete})]})}import{getComponentStyles as mu}from"@auth0/web-ui-components-core";import pu from"react";import*as Rr from"react";import{Fragment as lu,jsx as tr,jsxs as wn}from"react/jsx-runtime";function Pl({provider:e,onDelete:o,customMessages:t={},isLoading:n,readOnly:r}){let{t:a}=w("idp_management.delete_sso_provider",t),[l,i]=Rr.useState(!1),s=Rr.useCallback(()=>{i(!0)},[]),m=Rr.useCallback(()=>{i(!1)},[]);return wn(lu,{children:[tr("div",{className:p("w-full"),children:tr(me,{className:"p-6",children:wn(ke,{className:"flex items-start justify-between gap-6 p-0",children:[wn("div",{className:"flex-1 space-y-2",children:[tr("h3",{className:p("text-lg font-semibold text-left text-(length:--font-size-subtitle)"),children:a("title",{providerName:e.name})}),tr("p",{className:p("text-sm text-muted-foreground text-left text-(length:--font-size-paragraph)"),children:a("description")})]}),tr(T,{variant:"destructive",onClick:s,disabled:r,className:"shrink-0",children:a("delete_button_label")})]})})}),tr(ia,{isOpen:l,onClose:m,provider:e,onDelete:o,isLoading:n,customMessages:t.modal})]})}import*as Tr from"react";import{Fragment as su,jsx as rr,jsxs as yn}from"react/jsx-runtime";function _l({provider:e,organizationName:o,onRemove:t,customMessages:n={},isLoading:r,readOnly:a}){let{t:l}=w("idp_management.remove_sso_provider",n),[i,s]=Tr.useState(!1),m=Tr.useCallback(()=>{s(!0)},[]),d=Tr.useCallback(()=>{s(!1)},[]);return yn(su,{children:[rr("div",{className:p("w-full"),children:rr(me,{className:"p-6",children:yn(ke,{className:"flex items-start justify-between gap-6 p-0",children:[yn("div",{className:"flex-1 space-y-2",children:[rr("h3",{className:p("text-lg font-semibold text-left text-(length:--font-size-subtitle)"),children:l("title",{providerName:e.name,organizationName:o})}),rr("p",{className:p("text-sm text-muted-foreground text-left text-(length:--font-size-paragraph)"),children:l("description",{providerName:e.name})})]}),rr(T,{variant:"destructive",onClick:m,disabled:a,className:"shrink-0",children:l("remove_button_label")})]})})}),rr(la,{isOpen:i,onClose:d,provider:e,organizationName:o,onRemove:t,isLoading:r,customMessages:n.modal})]})}import{getComponentStyles as cu}from"@auth0/web-ui-components-core";import ar from"react";import{jsx as Nr,jsxs as du}from"react/jsx-runtime";function Rl({provider:e,readOnly:o=!1,formActions:t,customMessages:n={},styling:r={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:a}=w("idp_management.sso_provider_details",n),{isDarkMode:l}=V(),i=ar.useRef(null),s=ar.useRef(null),[m,d]=ar.useState(!1),[c,f]=ar.useState(!1),u=ar.useMemo(()=>cu(r,l),[r,l]),g=ar.useMemo(()=>{if(e)return{name:e.name??void 0,display_name:e.display_name??void 0}},[e]),h=m||c,v=async()=>{if(!t?.nextAction?.onClick||!e?.strategy)return;let x=await i.current?.validate(),y=await s.current?.validate();if(!x||!y)return;let C=i.current?.getData(),N=s.current?.getData(),P={strategy:e.strategy,...C,...N};await t.nextAction.onClick(P),d(!1),f(!1)};return e?du("div",{style:u.variables,className:p("space-y-8"),children:[Nr("div",{className:"space-y-4",children:Nr(va,{ref:i,initialData:g,readOnly:o,customMessages:n.details_fields,className:u.classes?.["ProviderDetails-root"],hideHeader:!0,onFormDirty:d})}),Nr("div",{className:"space-y-4",children:Nr(ha,{ref:s,strategy:e.strategy,initialData:e.options,readOnly:o,customMessages:n.configure_fields,className:u.classes?.["ProviderConfigure-root"],onFormDirty:f})}),t&&Nr(zo,{hasUnsavedChanges:h,showUnsavedChanges:!0,isLoading:t.isLoading,nextAction:{label:a("submit_button_label"),disabled:!h||t?.nextAction?.disabled||t.isLoading||o,type:"button",onClick:v},showPrevious:!1,align:t?.align,className:u.classes?.["SsoProviderDetails-FormActions"]})]}):null}import{jsx as ft,jsxs as ka}from"react/jsx-runtime";function Tl({customMessages:e={},styling:o={variables:{common:{},light:{},dark:{}},classes:{}},readOnly:t=!1,provider:n,onDelete:r,onRemove:a,organization:l,isDeleting:i,isRemoving:s,formActions:m}){let{t:d}=w("idp_management.edit_sso_provider.tabs.sso",e),{isDarkMode:c}=V(),f=pu.useMemo(()=>mu(o,c),[o,c]);return ka("div",{style:f.variables,className:"space-y-8",children:[ka(me,{children:[ft(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:ka("div",{className:"space-y-1",children:[ft(to,{className:"text-lg text-left font-medium",children:d("content.title")}),ft(ro,{className:"text-sm text-left text-muted-foreground",children:d("content.description")})]})}),ft(ke,{children:n&&ft(Rl,{provider:n,readOnly:t,formActions:m,customMessages:e.details,styling:o})})]}),ka("div",{className:"space-y-4",children:[n&&l&&ft(_l,{provider:n,organizationName:l?.name,onRemove:a,isLoading:s,readOnly:t}),n&&ft(Pl,{provider:n,onDelete:r,isLoading:i,readOnly:t})]})]})}import{getComponentStyles as Su}from"@auth0/web-ui-components-core";import*as nr from"react";import{OrgDetailsFactory as uu,OrgDetailsMappers as fu,SsoProviderMappers as gu,getStatusCode as hu}from"@auth0/web-ui-components-core";import{useCallback as eo,useState as ze,useEffect as vu}from"react";function Ca(e,{sso:o,provisioning:t,customMessages:n={}}={}){let{coreClient:r}=ae(),{t:a}=w("idp_management.notifications",n),[l,i]=ze(null),[s,m]=ze(uu.create()),[d,c]=ze(!1),[f,u]=ze(!1),[g,h]=ze(!1),[v,x]=ze(!1),[y,C]=ze(!1),[N,P]=ze(!1),[b,k]=ze(!1),[R,_]=ze(!1),[G,J]=ze(!1),[j,D]=ze(!1),[$,H]=ze(null),B=eo(async()=>{if(!r||!e)return null;try{c(!0);let K=await r.getMyOrgApiClient().organization.identityProviders.get(e);return i(K),K}catch{return L({type:"error",message:a("general_error")}),null}finally{c(!1)}},[r,e,a]),ie=eo(async()=>{if(r)try{c(!0);let K=await r.getMyOrgApiClient().organizationDetails.get(),oe=fu.fromAPI(K);m(oe)}catch(K){let oe=K instanceof Error?a("general_error",{message:K.message}):a("general_error");L({type:"error",message:oe})}finally{c(!1)}},[r,a]),W=eo(async()=>{if(!r||!e)return null;try{D(!0);let K=await r.getMyOrgApiClient().organization.identityProviders.provisioning.get(e);return H(K),K}catch(K){return hu(K)===404?(H(null),null):(L({type:"error",message:a("general_error")}),null)}finally{D(!1)}},[r,e,a]),ge=eo(async K=>{if(!(!r||!l||!e))try{if(u(!0),o?.updateAction?.onBefore&&!o?.updateAction.onBefore(l))return;let oe=gu.updateToAPI({strategy:l.strategy,...K}),Le=await r.getMyOrgApiClient().organization.identityProviders.update(e,oe);i(Le),L({type:"success",message:a("update_success",{providerName:l.display_name})}),o?.updateAction?.onAfter&&await o.updateAction.onAfter(l,Le)}catch(oe){throw L({type:"error",message:a("general_error")}),oe}finally{u(!1)}},[r,l,e,o,a]),oo=eo(async()=>{if(!(!r||!l||!e))try{if(C(!0),t?.createAction?.onBefore&&!t.createAction.onBefore(l))return;let K=await r.getMyOrgApiClient().organization.identityProviders.provisioning.create(e),oe=await B();oe&&i(oe),L({type:"success",message:a("update_success",{providerName:l.display_name})}),t?.createAction?.onAfter&&await t.createAction.onAfter(l,K)}catch(K){throw L({type:"error",message:a("general_error")}),K}finally{C(!1)}},[r,l,e,t,a,B]),De=eo(async()=>{if(!(!r||!l||!e))try{if(P(!0),t?.deleteAction?.onBefore&&!t.deleteAction.onBefore(l))return;await r.getMyOrgApiClient().organization.identityProviders.provisioning.delete(e),H(null);let K=await B();K&&i(K),L({type:"success",message:a("update_success",{providerName:l.display_name})}),t?.deleteAction?.onAfter&&await t.deleteAction.onAfter(l)}catch(K){throw L({type:"error",message:a("general_error")}),K}finally{P(!1)}},[r,l,e,t,a,B]),Me=eo(async()=>{if(!r||!e)return null;try{return k(!0),await r.getMyOrgApiClient().organization.identityProviders.provisioning.scimTokens.list(e)}catch{return L({type:"error",message:a("general_error")}),null}finally{k(!1)}},[r,e,a]),fo=eo(async K=>{if(!(!r||!e))try{if(_(!0),t?.createScimTokenAction?.onBefore&&!t.createScimTokenAction.onBefore(l))return;let oe=await r.getMyOrgApiClient().organization.identityProviders.provisioning.scimTokens.create(e,K);return L({type:"success",message:a("scim_token_create_success")}),t?.createScimTokenAction?.onAfter&&await t.createScimTokenAction.onAfter(l,oe),oe}catch(oe){throw L({type:"error",message:a("general_error")}),oe}finally{_(!1)}},[r,e,l,t,a]),Xo=eo(async K=>{if(!(!r||!e))try{if(J(!0),t?.deleteScimTokenAction?.onBefore&&!t.deleteScimTokenAction.onBefore(l))return;await r.getMyOrgApiClient().organization.identityProviders.provisioning.scimTokens.delete(e,K),L({type:"success",message:a("scim_token_delete_sucess")}),t?.deleteScimTokenAction?.onAfter&&await t.deleteScimTokenAction.onAfter(l)}catch(oe){throw L({type:"error",message:a("general_error")}),oe}finally{J(!1)}},[r,e,l,t,a]),Jo=eo(async()=>{if(!(!l||!r||!l.id))try{h(!0),await r.getMyOrgApiClient().organization.identityProviders.delete(l.id),L({type:"success",message:a("delete_success",{providerName:l.display_name})}),o?.deleteAction?.onAfter&&await o.deleteAction.onAfter(l)}catch(K){throw L({type:"error",message:a("general_error")}),K}finally{h(!1)}},[o,l,a,r]),jo=eo(async()=>{if(!(!l||!r||!l.id))try{if(x(!0),o?.deleteFromOrgAction?.onBefore&&!o.deleteFromOrgAction.onBefore(l))return;await ie(),await r.getMyOrgApiClient().organization.identityProviders.detach(l.id),L({type:"success",message:a("remove_success",{providerName:l.display_name,organizationName:s?.display_name})}),o?.deleteFromOrgAction?.onAfter&&await o.deleteFromOrgAction.onAfter(l)}catch(K){throw L({type:"error",message:a("general_error")}),K}finally{x(!1)}},[o,l,ie,a,r,s]);return vu(()=>{!r||!e||(c(!0),Promise.allSettled([B(),ie()]).finally(()=>{c(!1)}))},[r,e]),{provider:l,organization:s,provisioningConfig:$,isLoading:d,isUpdating:f,isDeleting:g,isRemoving:v,isProvisioningUpdating:y,isProvisioningDeleting:N,isProvisioningLoading:j,isScimTokensLoading:b,isScimTokenCreating:R,isScimTokenDeleting:G,fetchProvider:B,fetchOrganizationDetails:ie,fetchProvisioning:W,updateProvider:ge,createProvisioning:oo,deleteProvisioning:De,listScimTokens:Me,createScimToken:fo,deleteScimToken:Xo,onDeleteConfirm:Jo,onRemoveConfirm:jo}}import{jsx as kn}from"react/jsx-runtime";function Nl({open:e,onOpenChange:o,onConfirm:t,customMessages:n}){let{t:r}=w("idp_management.edit_sso_provider.tabs.provisioning.content.delete",n);return kn(ve,{open:e,onOpenChange:o,title:r("modal.title"),content:kn("div",{className:p("space-y-4"),children:kn("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph)"),children:r("modal.content.description")})}),modalActions:{showUnsavedChanges:!1,previousAction:{type:"button",label:r("modal.actions.cancel_button_label"),variant:"outline",onClick:()=>o(!1)},nextAction:{type:"button",label:r("modal.actions.delete_button_label"),variant:"destructive",onClick:t}}})}import{getComponentStyles as _u,ssoProvisioningSchema as Ru}from"@auth0/web-ui-components-core";import{zodResolver as Tu}from"@hookform/resolvers/zod";import{useMemo as Hl}from"react";import{useForm as Nu}from"react-hook-form";import{getComponentStyles as wu}from"@auth0/web-ui-components-core";import{Trash2 as yu,Plus as ku}from"lucide-react";import*as Co from"react";import{Copy as xu}from"lucide-react";import{jsx as Sl,jsxs as Cn}from"react/jsx-runtime";function Fl({token:e,tokenId:o,customMessages:t={},className:n}){let{t:r}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details.manage_tokens.create_modal.content",t);return Cn("div",{className:p("space-y-4",n),children:[Sl("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph)"),children:r("description")}),Cn("div",{className:"space-y-2",children:[Cn(ue,{htmlFor:"provisioning-token",className:"text-sm font-medium text-foreground",children:[r("field.label")," ",o]}),Sl(ee,{id:"provisioning-token",type:"text",value:e,readOnly:!0,className:"w-full","aria-label":`${r("field.label")} ${o}`})]})]})}import{jsx as Pn}from"react/jsx-runtime";function Dl({open:e,onOpenChange:o,createdToken:t,customMessages:n={}}){let{t:r}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details.manage_tokens",n);return Pn(ve,{open:e,onOpenChange:o,title:r("create_modal.title"),content:t&&Pn(Fl,{token:t.token,tokenId:t.token_id,customMessages:n.content}),modalActions:{showPrevious:!1,showUnsavedChanges:!1,nextAction:{type:"button",label:r("create_modal.copy_and_close_button_label"),variant:"primary",icon:Pn(xu,{className:"w-4 h-4"}),onClick:()=>{t&&navigator.clipboard.writeText(t.token),o(!1)}}}})}import{jsx as Ml,jsxs as bu}from"react/jsx-runtime";function Al({customMessages:e={},className:o,tokenId:t}){let{t:n}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details.manage_tokens.delete_modal.content",e);return bu("div",{className:p("space-y-4",o),children:[Ml("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph)"),children:n("confirmation",{tokenId:t})}),Ml("p",{className:p("text-sm text-muted-foreground text-(length:--font-size-paragraph)"),children:n("description")})]})}import{jsx as Il}from"react/jsx-runtime";function El({open:e,onOpenChange:o,tokenId:t,onConfirm:n,customMessages:r}){let{t:a}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details.manage_tokens",r);return Il(ve,{open:e,onOpenChange:o,title:a("delete_modal.title",{tokenId:t||""}),content:Il(Al,{tokenId:t||"",customMessages:r?.content}),modalActions:{showUnsavedChanges:!1,previousAction:{type:"button",label:a("delete_modal.cancel_button_label"),variant:"outline",onClick:()=>o(!1)},nextAction:{type:"button",label:a("delete_modal.delete_button_label"),variant:"destructive",onClick:n}}})}import{jsx as ye,jsxs as po}from"react/jsx-runtime";var Cu=2,_n={ACTIVE:"active",EXPIRED:"expired"};function zl({isScimTokensLoading:e,isScimTokenCreating:o,isScimTokenDeleting:t,onListScimTokens:n,onCreateScimToken:r,onDeleteScimToken:a,styling:l={variables:{common:{},light:{},dark:{}},classes:{}},customMessages:i={}}){let{t:s}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details.manage_tokens",i),{isDarkMode:m}=V(),[d,c]=Co.useState(null),[f,u]=Co.useState(!1),[g,h]=Co.useState([]),[v,x]=Co.useState(null);Co.useEffect(()=>{(async()=>{let G=await n();G?.scim_tokens&&h(G.scim_tokens)})()},[]);let y=Co.useMemo(()=>wu(l,m),[l,m]),C=g.length<Cu,N=_=>{if(!_.valid_until)return{labelKey:_n.ACTIVE,variant:"secondary"};let j=new Date(_.valid_until)<new Date;return{labelKey:j?_n.EXPIRED:_n.ACTIVE,variant:j?"destructive":"secondary"}},P=async()=>{let _=await r({token_lifetime:3600});if(_){x(_),u(!0);let G=await n();G?.scim_tokens&&h(G.scim_tokens)}},b=_=>{c(_)},k=async()=>{if(d){await a(d),c(null);let _=await n();_?.scim_tokens&&h(_.scim_tokens)}},R=()=>{x(null),u(!1)};return po("div",{className:p("w-full",y.classes?.["ProvisioningManageToken-root"]),style:y?.variables,children:[po(me,{className:p(y.classes?.["ProvisioningManageToken-card"]),children:[po(_t,{className:p(y.classes?.["ProvisioningManageToken-header"]),children:[ye(to,{className:"text-base font-medium text-foreground text-left",children:s("title")}),ye(ro,{className:"text-sm text-muted-foreground text-left",children:s("description")}),ye(Ir,{children:po(Mo,{children:[ye(Ao,{asChild:!0,children:ye("span",{children:po(T,{type:"button",onClick:P,disabled:!C||o,title:void 0,children:[o?ye(Q,{className:"w-4 h-4 mr-2"}):ye(ku,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),s("generate_button_label")]})})}),!C&&ye(go,{children:s("max_tokens_tooltip")})]})})]}),e?ye(ke,{className:"flex justify-center py-8",children:ye(Q,{})}):g.length>0?ye(ke,{className:"space-y-4",children:g.map(_=>{let G=N(_),J=!_.valid_until;return po("div",{className:"flex items-start justify-between gap-6",children:[po("div",{className:"flex-1 min-w-0 space-y-1 text-left",children:[po("p",{className:"text-sm font-medium text-foreground",children:[s("token_item.token_prefix")," ",_.token_id]}),J&&ye("p",{className:"text-sm text-muted-foreground",children:s("token_item.never_expire")}),ye("p",{className:"text-sm text-muted-foreground",children:s("token_item.last_used")})]}),po("div",{className:"flex items-center gap-4 shrink-0",children:[ye(Oe,{variant:G.variant,className:"shrink-0",children:s(`token_item.status_${G.labelKey}`)}),po(T,{variant:"destructive",size:"default",type:"button",onClick:()=>b(_.token_id),disabled:t,"aria-label":`${s("token_item.delete_button_label")} ${_.token_id}`,className:"shrink-0",children:[t?ye(Q,{className:"w-4 h-4 mr-2"}):ye(yu,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),s("token_item.delete_button_label")]})]})]},_.token_id)})}):null]}),ye(Dl,{open:f,onOpenChange:_=>{u(_),_||R()},createdToken:v,customMessages:i,styling:l}),ye(El,{open:!!d,onOpenChange:_=>{_||c(null)},tokenId:d,onConfirm:k,customMessages:i,styling:l})]})}import{jsx as Wo,jsxs as Ll}from"react/jsx-runtime";function Ol({title:e,description:o,card:t,className:n,expanded:r=!0}){return Wo("div",{className:p("w-full space-y-6",n),children:Wo(Be,{title:e,description:o,children:Wo(Ut,{type:"single",defaultValue:r?"mapping-section":void 0,collapsible:!0,className:"w-full space-y-6",children:Ll(Gt,{value:"mapping-section",children:[Wo(Kt,{className:"py-4",children:Ll("div",{className:"text-left",children:[Wo(to,{className:"text-sm font-medium",children:t.title}),Wo(ro,{className:"text-sm",children:t.description})]})}),Wo($t,{className:"pb-6",children:Wo(so,{data:t.table.items,columns:t.table.columns})})]})})})})}import{jsx as Pu}from"react/jsx-runtime";function Bl({provisioningFieldMap:e,customMessages:o,className:t}){let{t:n}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details.mappings",o),r=[{accessorKey:"attribute",type:"text",width:"40%",title:n("card.table.columns.attribute_name_label")},{accessorKey:"external",type:"copy",width:"60%",title:n("card.table.columns.external_field_label")}],a=e?.map(l=>({attribute:l.provisioning_field,external:l.user_attribute}))||[];return Pu(Ol,{title:n("title"),description:n("description"),card:{title:n("card.title"),description:n("card.description"),table:{items:a,columns:r}},className:t,expanded:!0})}import{jsx as Ne,jsxs as Pa}from"react/jsx-runtime";function Vl({provider:e,provisioningConfig:o,isScimTokensLoading:t,isScimTokenCreating:n,isScimTokenDeleting:r,onListScimTokens:a,onCreateScimToken:l,onDeleteScimToken:i,customMessages:s={},styling:m={variables:{common:{},light:{},dark:{}},classes:{}}}){let{t:d}=w("idp_management.edit_sso_provider.tabs.provisioning.content.details",s),{isDarkMode:c}=V(),f=Hl(()=>_u(m,c),[m,c]),{coreClient:u}=ae(),g=Hl(()=>`https://${u?.auth?.domain||"your domain"}/scim/v2/connections/${e.id}/`,[u?.auth?.domain]),h=Nu({resolver:Tu(Ru),defaultValues:{userIdAttribute:o?.user_id_attribute||"",scimEndpointUrl:g||""}});return Pa("div",{style:f.variables,className:p("space-y-6",f.classes?.["SsoProvisioningDetails-root"]),children:[Ne(ne,{...h,children:Pa("form",{className:"space-y-6",children:[Ne(M,{control:h.control,name:"userIdAttribute",render:({field:v,fieldState:x})=>Pa(A,{children:[Ne(E,{className:"text-sm text-(length:--font-size-label) font-normal",children:d("fields.user_id_attribute.label")}),Ne(I,{children:Ne(Y,{readOnly:!0,error:!!x.error,...v})}),Ne(z,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"}),Ne(U,{className:"text-sm text-(length:--font-size-paragraph) font-normal text-left",children:d("fields.user_id_attribute.helper_text")})]})}),Ne(zl,{isScimTokensLoading:t,isScimTokenCreating:n,isScimTokenDeleting:r,onListScimTokens:a,onCreateScimToken:l,onDeleteScimToken:i,customMessages:s?.manage_tokens,styling:m}),Ne(M,{control:h.control,name:"scimEndpointUrl",render:({field:v,fieldState:x})=>Pa(A,{children:[Ne(E,{className:"text-sm text-(length:--font-size-label) font-normal",children:d("fields.scim_endpoint_url.label")}),Ne(I,{children:Ne(ee,{error:!!x.error,readOnly:!0,...v})}),Ne(z,{className:"text-left text-sm text-(length:--font-size-paragraph)",role:"alert"})]})})]})}),Ne("div",{className:"mt-6",children:Ne(Bl,{provisioningFieldMap:o?.fields??null,customMessages:s.mappings})})]})}import{jsx as qe,jsxs as _a}from"react/jsx-runtime";function Ul({provider:e,styling:o={variables:{common:{},light:{},dark:{}},classes:{}},customMessages:t={}}){let{t:n}=w("idp_management.edit_sso_provider.tabs.provisioning.content",t),{provisioningConfig:r,isProvisioningLoading:a,isProvisioningUpdating:l,isProvisioningDeleting:i,isScimTokensLoading:s,isScimTokenCreating:m,isScimTokenDeleting:d,fetchProvisioning:c,createProvisioning:f,deleteProvisioning:u,listScimTokens:g,createScimToken:h,deleteScimToken:v}=Ca(e?.id||""),{isDarkMode:x}=V(),y=nr.useMemo(()=>Su(o,x),[o,x]),[C,N]=nr.useState(!1);nr.useEffect(()=>{e?.id&&c()},[e?.id]);let P=async G=>{e?.id&&(G?(await f(),await c()):N(!0))},b=async()=>{await u(),N(!1)},k=a||l||i,R=!!r,_=k||!e?.id||!e.is_enabled;return _a("div",{style:y.variables,className:p("space-y-8",y.classes?.["SsoProvisioningTab-root"]),children:[_a(me,{children:[_a(_t,{children:[qe(to,{className:"text-lg font-medium text-foreground text-left",children:n("header.title")}),qe(ro,{className:"text-sm text-muted-foreground text-left",children:n("header.description")}),qe(Ir,{children:qe("div",{className:"flex items-center gap-3",children:qe("div",{className:"flex items-center gap-2",children:k?qe(Q,{className:"w-4 h-4"}):_a(Mo,{children:[qe(Ao,{asChild:!0,children:qe(He,{checked:R,onCheckedChange:P,disabled:_})}),!e.is_enabled&&qe(go,{children:n("header.enable_provisioning_tooltip")})]})})})})]}),qe(ke,{children:R&&qe(Vl,{provider:e,provisioningConfig:r,isScimTokensLoading:s,isScimTokenCreating:m,isScimTokenDeleting:d,onListScimTokens:g,onCreateScimToken:h,onDeleteScimToken:v,customMessages:t.details,styling:o})})]}),qe(Nl,{open:C,onOpenChange:N,onConfirm:b,customMessages:t.delete})]})}import*as Yo from"@radix-ui/react-tabs";import{jsx as Na}from"react/jsx-runtime";function Gl({className:e,...o}){return Na(Yo.Root,{"data-slot":"tabs",className:p("flex flex-col gap-2",e),...o})}function Kl({className:e,...o}){return Na(Yo.List,{"data-slot":"tabs-list",className:p("bg-muted shadow-switch-resting text-muted-foreground inline-flex h-9 w-fit items-center justify-center gap-0.5 rounded-2xl p-0.5",e),...o})}function Ra({className:e,...o}){return Na(Yo.Trigger,{"data-slot":"tabs-trigger",className:p("data-[state=active]:bg-background hover:bg-accent/25 dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:bg-input text-foreground dark:text-muted-foreground data-[state=active]:shadow-bevel-sm inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl px-4 py-0.5 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 active:scale-[0.99] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...o})}function Ta({className:e,...o}){return Na(Yo.Content,{"data-slot":"tabs-content",className:p("flex-1 outline-none",e),...o})}import{jsx as We,jsxs as Rn}from"react/jsx-runtime";function Iu({providerId:e,backButton:o,sso:t,provisioning:n,domains:r,hideHeader:a=!1,customMessages:l={},styling:i={variables:{common:{},light:{},dark:{}},classes:{}},schema:s}){let{t:m}=w("idp_management.edit_sso_provider",l),{isDarkMode:d}=V(),{provider:c,organization:f,isLoading:u,isUpdating:g,isDeleting:h,isRemoving:v,isProvisioningUpdating:x,isProvisioningDeleting:y,isScimTokensLoading:C,isScimTokenCreating:N,isScimTokenDeleting:P,updateProvider:b,createProvisioning:k,deleteProvisioning:R,listScimTokens:_,createScimToken:G,deleteScimToken:J,onDeleteConfirm:j,onRemoveConfirm:D}=Ca(e,{sso:t,provisioning:n,domains:r,customMessages:l}),[$,H]=Au("sso"),B=Mu.useMemo(()=>Fu(i,d),[i,d]),ie=async W=>{c?.strategy&&await b({strategy:c.strategy,is_enabled:W})};return u?We("div",{className:"flex justify-center items-center p-8",children:We(Q,{})}):Rn("div",{style:B.variables,className:"w-full",children:[!a&&We(Ee,{title:c?.display_name||c?.name||"",backButton:o&&{...o,text:m("header.back_button_text")},actions:[{type:"switch",checked:c?.is_enabled??!1,onCheckedChange:ie,disabled:g}],className:B?.classes?.["SsoProviderEdit-header"]}),Rn(Gl,{value:$,onValueChange:H,className:p("space-y-10",B?.classes?.["SsoProviderEdit-tabs"]),children:[Rn(Kl,{className:"grid w-full grid-cols-3",children:[We(Ra,{value:"sso",className:"text-sm",children:m("tabs.sso.name")}),We(Ra,{value:"provisioning",className:"text-sm",children:m("tabs.provisioning.name")}),We(Ra,{value:"domain",className:"text-sm",children:m("tabs.domains.name")})]}),We(Ta,{value:"sso",children:We(Tl,{provider:c,organization:f,onDelete:j,onRemove:D,isDeleting:h,isRemoving:v,customMessages:l.tabs?.sso?.content,styling:i,formActions:{isLoading:g,nextAction:{disabled:g||!c||u,onClick:b}}})}),We(Ta,{value:"provisioning",children:We(Ul,{provider:c,isProvisioningUpdating:x,isProvisioningDeleting:y,isScimTokensLoading:C,isScimTokenCreating:N,isScimTokenDeleting:P,onCreateProvisioning:k,onDeleteProvisioning:R,onListScimTokens:_,onCreateScimToken:G,onDeleteScimToken:J,customMessages:l.tabs?.provisioning?.content,styling:i})}),We(Ta,{value:"domain",children:We(Cl,{customMessages:l.tabs?.domains?.content,styling:i,domains:r,schema:s?.domains,idpId:e,provider:c})})]})]})}var Eu=no(Iu,Du);import{getComponentStyles as Gu,MY_ORG_DOMAIN_SCOPES as Ku}from"@auth0/web-ui-components-core";import{Plus as $u}from"lucide-react";import*as Tn from"react";import $l from"react";import{jsx as gt,jsxs as ql}from"react/jsx-runtime";function Wl({className:e,customMessages:o,domain:t,providers:n,isOpen:r,isLoading:a,isLoadingSwitch:l,onClose:i,onToggleSwitch:s,onOpenProvider:m,onCreateProvider:d}){let{t:c}=w("domain_management.domain_configure_providers.modal",o),f=$l.useCallback((g,h)=>{s(t,g,h)},[t,s]),u=$l.useMemo(()=>[{type:"text",accessorKey:"display_name",title:c("table.columns.name"),width:"25%",render:g=>gt("div",{className:"font-medium",children:g.display_name})},{type:"text",accessorKey:"strategy",title:c("table.columns.provider"),width:"40%",render:g=>gt("div",{className:"text-muted-foreground",children:g.strategy})},{type:"actions",title:"",width:"30%",render:g=>ql("div",{className:"flex items-center justify-end gap-4 min-w-0",children:[m&&gt(T,{type:"button",variant:"outline",size:"sm",onClick:()=>m(g),children:c("table.actions.view_provider_button_text")}),gt(He,{checked:g.is_associated??!1,onCheckedChange:h=>f(g,h),disabled:l})]})}],[c,m,l,f]);return gt(ve,{open:r,onOpenChange:g=>!g&&i(),className:"p-10",title:c("title",{domain:t?.domain??""}),content:t&&ql("div",{className:p("space-y-6",e),children:[gt("p",{className:"text-sm text-muted-foreground text-(length:--font-size-paragraph)",children:c("description",{domain:t?.domain??""})}),gt(so,{columns:u,data:n,loading:a,emptyState:{title:c("table.empty_message"),action:d?{label:c("table.actions.add_provider_button_text"),variant:"outline",onClick:d}:void 0}})]}),modalActions:{showNext:!1,previousAction:{label:c("actions.close_button_text"),onClick:i}}})}import{MoreHorizontal as zu,Trash2 as Lu,PencilLine as Ou,Eye as Bu,RefreshCcw as Hu}from"lucide-react";import*as Sr from"react";import{Fragment as Vu,jsx as Qo,jsxs as ht}from"react/jsx-runtime";function Yl({customMessages:e={},readOnly:o=!1,domain:t,onView:n,onConfigure:r,onVerify:a,onDelete:l}){let{t:i}=w("domain_management.domain_table",e),s=Sr.useCallback(()=>{r(t)},[t,n]),m=Sr.useCallback(()=>{r(t)},[t,r]),d=Sr.useCallback(()=>{a(t)},[t,a]),c=Sr.useCallback(()=>{l(t)},[t,l]);return Qo("div",{className:"flex items-center justify-end gap-4 min-w-0",children:ht(sa,{children:[Qo(da,{className:"h-8 w-8 p-0 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 shadow-sm transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-800 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Qo(zu,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),Qo(ca,{children:ht(ma,{align:"end",children:[t.status==="verified"&&ht(xo,{onClick:m,disabled:o,children:[Qo(Ou,{className:"mr-2 h-4 w-4"}),i("table.actions.configure_button_text")]}),t.status==="pending"&&ht(Vu,{children:[ht(xo,{onClick:s,disabled:o,children:[Qo(Bu,{className:"mr-2 h-4 w-4"}),i("table.actions.view_button_text")]}),ht(xo,{onClick:d,disabled:o,children:[Qo(Hu,{className:"mr-2 h-4 w-4"}),i("table.actions.verify_button_text")]})]}),ht(xo,{onClick:c,className:"text-destructive-foreground focus:text-destructive-foreground",disabled:o,children:[Qo(Lu,{className:"mr-2 h-4 w-4 text-destructive-foreground focus:text-destructive-foreground"}),i("table.actions.delete_button_text")]})]})})]})})}import{BusinessError as Fr}from"@auth0/web-ui-components-core";import{useCallback as vt,useState as xt}from"react";function Ql({createAction:e,deleteAction:o,verifyAction:t,associateToProviderAction:n,deleteFromProviderAction:r,customMessages:a}){let{t:l}=w("domain_management.domain_table.notifications",a),{coreClient:i}=ae(),[s,m]=xt([]),[d,c]=xt([]),[f,u]=xt(!1),[g,h]=xt(!1),[v,x]=xt(!1),[y,C]=xt(!1),[N,P]=xt(!1),b=vt(async D=>{try{x(!0);let H=(await i.getMyOrgApiClient().organization.identityProviders.list())?.identity_providers??[],ie=(await i.getMyOrgApiClient().organization.domains.identityProviders.get(D.id))?.identity_providers??[],W=H.map(ge=>{let oo=ie.some(De=>De.id===ge.id);return{...ge,is_associated:oo}});c(W)}finally{x(!1)}},[i,l]),k=vt(async()=>{try{h(!0);let $=(await i.getMyOrgApiClient().organization.domains.list())?.organization_domains??[];m($)}finally{h(!1)}},[i,l]),R=vt(async D=>{if(u(!0),e?.onBefore&&!e.onBefore(D))throw u(!1),new Fr({message:l("domain_create.on_before")});try{let $=await i.getMyOrgApiClient().organization.domains.create(D);return e?.onAfter?.($),await k(),$}finally{u(!1)}},[i,e,l]),_=vt(async D=>{if(P(!0),t?.onBefore&&!t.onBefore(D))throw P(!1),new Fr({message:l("domain_verify.on_before")});try{let $=await i.getMyOrgApiClient().organization.domains.verify.create(D.id);return t?.onAfter&&await t.onAfter(D),$.status==="verified"}finally{P(!1)}},[t,l,i]),G=vt(async D=>{if(C(!0),o?.onBefore&&!o.onBefore(D))throw C(!1),new Fr({message:l("domain_delete.on_before")});try{await i.getMyOrgApiClient().organization.domains.delete(D.id),o?.onAfter&&await o.onAfter(D),await k()}finally{C(!1)}},[o,k,l,i]),J=vt(async(D,$)=>{if(n?.onBefore&&!n.onBefore(D,$))throw new Fr({message:l("domain_associate_provider.on_before")});await i.getMyOrgApiClient().organization.identityProviders.domains.create($.id,{domain:D.domain}),n?.onAfter&&await n.onAfter(D,$),await b(D)},[n,l,i,b]),j=vt(async(D,$)=>{if(r?.onBefore&&!r.onBefore(D,$))throw new Fr({message:l("domain_delete_provider.on_before")});await i.getMyOrgApiClient().organization.identityProviders.domains.delete($.id,D.domain),r?.onAfter&&await r.onAfter(D,$),await b(D)},[r,l,i,b]);return{domains:s,providers:d,isFetching:g,isCreating:f,isDeleting:y,isVerifying:N,isLoadingProviders:v,fetchProviders:b,fetchDomains:k,onCreateDomain:R,onVerifyDomain:_,onDeleteDomain:G,onAssociateToProvider:J,onDeleteFromProvider:j}}import{useCallback as Po,useEffect as Uu,useState as ir}from"react";function Xl({t:e,onCreateDomain:o,onVerifyDomain:t,onDeleteDomain:n,onAssociateToProvider:r,onDeleteFromProvider:a,fetchProviders:l,fetchDomains:i}){let{coreClient:s}=ae(),{handleError:m}=Cr(),[d,c]=ir(!1),[f,u]=ir(!1),[g,h]=ir(!1),[v,x]=ir(void 0),[y,C]=ir(!1),[N,P]=ir(null),b=Po(async H=>{try{let B=await o({domain:H});L({type:"success",message:e("domain_table.notifications.domain_create.success",{domainName:B?.domain})}),P(B),c(!1),h(!0)}catch(B){m(B,{fallbackMessage:e("domain_table.notifications.domain_create.error")})}},[o,e,m]),k=Po(async H=>{try{await t(H)?(h(!1),L({type:"success",message:e("domain_table.notifications.domain_verify.success",{domainName:H.domain})})):x(e("domain_verify.modal.errors.verification_failed",{domainName:H.domain}))}catch(B){m(B,{fallbackMessage:e("domain_table.notifications.domain_verify.error")})}},[t,e,m]),R=Po(async H=>{try{await n(H),L({type:"success",message:e("domain_table.notifications.domain_delete.success",{domainName:H.domain})}),C(!1),h(!1)}catch(B){m(B,{fallbackMessage:e("domain_table.notifications.domain_delete.error")})}},[n,e,m]),_=Po(async(H,B,ie)=>{if(ie)try{await r(H,B),L({type:"success",message:e("domain_table.notifications.domain_associate_provider.success",{domain:H.domain,idp:B.name})})}catch(W){m(W,{fallbackMessage:e("domain_table.notifications.domain_associate_provider.error")})}else try{await a(H,B),L({type:"success",message:e("domain_table.notifications.domain_delete_provider.success",{domain:H.domain,idp:B.name})})}catch(W){m(W,{fallbackMessage:e("domain_table.notifications.domain_delete_provider.error")})}},[r,a,e,m]),G=Po(()=>{h(!1),x(void 0)},[]),J=Po(()=>{c(!0)},[]),j=Po(async H=>{if(P(H),H.status!=="verified")h(!0);else try{await l(H),u(!0)}catch(B){m(B,{fallbackMessage:e("domain_table.notifications.fetch_providers_error")})}},[l,e,m]),D=Po(async H=>{P(H);try{await t(H)?(u(!0),L({type:"success",message:e("domain_table.notifications.domain_verify.success",{domainName:H.domain})})):L({type:"error",message:e("domain_table.notifications.domain_verify.verification_failed",{domainName:H.domain})})}catch(B){m(B,{fallbackMessage:e("domain_table.notifications.domain_verify.error")})}},[t,e,m]),$=Po(H=>{P(H),h(!1),C(!0)},[]);return Uu(()=>{if(s)try{i()}catch(H){m(H,{fallbackMessage:e("domain_table.notifications.fetch_domains_error")})}},[s]),{showCreateModal:d,showConfigureModal:f,showVerifyModal:g,showDeleteModal:y,verifyError:v,selectedDomain:N,setShowCreateModal:c,setShowConfigureModal:u,setShowVerifyModal:h,setShowDeleteModal:C,handleCreate:b,handleVerify:k,handleDelete:R,handleToggleSwitch:_,handleCloseVerifyModal:G,handleCreateClick:J,handleConfigureClick:j,handleVerifyClick:D,handleDeleteClick:$}}import{jsx as uo,jsxs as Yu}from"react/jsx-runtime";function qu({customMessages:e={},schema:o,styling:t={variables:{common:{},light:{},dark:{}},classes:{}},hideHeader:n=!1,readOnly:r=!1,createAction:a,verifyAction:l,deleteAction:i,associateToProviderAction:s,deleteFromProviderAction:m,onOpenProvider:d,onCreateProvider:c}){let{isDarkMode:f}=V(),{t:u}=w("domain_management",e),{domains:g,providers:h,isFetching:v,isCreating:x,isVerifying:y,isDeleting:C,isLoadingProviders:N,fetchProviders:P,fetchDomains:b,onCreateDomain:k,onVerifyDomain:R,onDeleteDomain:_,onAssociateToProvider:G,onDeleteFromProvider:J}=Ql({createAction:a,verifyAction:l,deleteAction:i,associateToProviderAction:s,deleteFromProviderAction:m,customMessages:e}),{showCreateModal:j,showConfigureModal:D,showVerifyModal:$,showDeleteModal:H,verifyError:B,selectedDomain:ie,setShowCreateModal:W,setShowConfigureModal:ge,setShowDeleteModal:oo,handleCreate:De,handleVerify:Me,handleDelete:fo,handleToggleSwitch:Xo,handleCloseVerifyModal:Jo,handleCreateClick:jo,handleConfigureClick:K,handleVerifyClick:oe,handleDeleteClick:Le}=Xl({t:u,onCreateDomain:k,onVerifyDomain:R,onDeleteDomain:_,onAssociateToProvider:G,onDeleteFromProvider:J,fetchProviders:P,fetchDomains:b}),S=Tn.useMemo(()=>Gu(t,f),[t,f]),F=Tn.useMemo(()=>[{type:"text",accessorKey:"domain",title:u("domain_table.table.columns.domain"),width:"35%",render:le=>uo("div",{className:"font-medium",children:le.domain})},{type:"text",accessorKey:"status",title:u("domain_table.table.columns.status"),width:"25%",render:le=>uo(Oe,{variant:xa(le.status),size:"sm",children:u(`shared.domain_statuses.${le.status}`)})},{type:"actions",title:"",width:"20%",render:le=>uo(Yl,{domain:le,readOnly:r,customMessages:e,onView:K,onConfigure:K,onVerify:oe,onDelete:Le})}],[u,r,e,K,oe,Le]);return Yu("div",{style:S.variables,children:[!n&&uo("div",{className:S.classes?.["DomainTable-header"],children:uo(Ee,{title:u("domain_table.header.title"),description:u("domain_table.header.description"),actions:[{type:"button",label:u("domain_table.header.create_button_text"),onClick:()=>jo(),icon:$u,disabled:a?.disabled||r||v}]})}),uo(so,{columns:F,data:g,loading:v,emptyState:{title:u("domain_table.table.empty_message")},className:S.classes?.["DomainTable-table"]}),uo(ba,{className:S.classes?.["DomainTable-createModal"],isOpen:j,isLoading:x,schema:o?.create,onClose:()=>W(!1),onCreate:De,customMessages:e.create}),uo(Wl,{className:S.classes?.["DomainTable-configureModal"],domain:ie,providers:h,isOpen:D,isLoading:N,isLoadingSwitch:!1,onClose:()=>ge(!1),onToggleSwitch:Xo,onOpenProvider:d,onCreateProvider:c,customMessages:e.configure}),uo(ya,{className:S.classes?.["DomainTable-verifyModal"],isOpen:$,isLoading:y,domain:ie,error:B,onClose:Jo,onVerify:Me,onDelete:Le,customMessages:e.verify}),uo(wa,{className:S.classes?.["DomainTable-deleteModal"],domain:ie,isOpen:H,isLoading:C,onClose:()=>oo(!1),onDelete:fo,customMessages:e.delete})]})}var Wu=no(qu,Ku);export{ss as Auth0ComponentProvider,Fa as CoreClientContext,Wu as DomainTable,_d as OrgDetailsEdit,Aa as ScopeManagerProvider,Gp as SsoProviderCreate,Eu as SsoProviderEdit,cm as SsoProviderTable,Dr as ThemeContext,Ea as ThemeProvider,qc as UserMFAMgmt,Gr as useContactEnrollment,ae as useCoreClient,Da as useCoreClientInitialization,Cr as useErrorHandler,Zr as useMFA,on as useOrgDetailsEdit,Tt as useOtpConfirmation,Yr as useOtpEnrollment,Ma as useScopeManager,V as useTheme,w as useTranslator};
//# sourceMappingURL=index.mjs.map