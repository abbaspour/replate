import*as u from"react";var A=u.createContext({coreClient:null}),y=()=>{let t=u.useContext(A);if(!t)throw new Error("useCoreClient must be used within Auth0ComponentProvider");return t};import{createCoreClient as I}from"@auth0/web-ui-components-core";import*as p from"react";var O=({authDetails:t,i18nOptions:n})=>{let[a,r]=p.useState(null);return p.useEffect(()=>{(async()=>{try{let s=await I(t,n);r(s)}catch(s){console.error(s)}})()},[n,t]),a};import{createContext as w,useContext as v}from"react";var f=w({registerScopes:()=>{},isReady:!1,ensured:{me:"","my-org":""}}),D=()=>v(f);import{useRef as M,useState as d,useCallback as z,useEffect as E}from"react";import{jsx as P}from"react/jsx-runtime";var j=({children:t})=>{let{coreClient:n}=y(),a=M({me:new Set,"my-org":new Set}),[r,m]=d({me:"","my-org":""}),[s,g]=d(!1),[R,x]=d(0),h=z((S,i)=>{if(!i?.trim())return;let l=i.split(/\s+/).map(e=>e.trim()).filter(Boolean),c=a.current[S],o=!1;l.forEach(e=>{c.has(e)||(c.add(e),o=!0)}),o&&(g(!1),x(e=>e+1))},[]);return E(()=>{if(!n)return;(async()=>{let i={...r},l=!1,c=!1;for(let o of["me","my-org"]){let e=Array.from(a.current[o]).sort(),C=e.join(" ");e.length>0&&(l=!0,C!==r[o]&&(await n.ensureScopes(C,o),i[o]=C,c=!0))}c&&JSON.stringify(i)!==JSON.stringify(r)&&m(i),g(l)})()},[n,R]),P(f.Provider,{value:{registerScopes:h,isReady:s,ensured:r},children:t})};export{A as a,y as b,O as c,D as d,j as e};
//# sourceMappingURL=chunk-WMJJVEQX.mjs.map